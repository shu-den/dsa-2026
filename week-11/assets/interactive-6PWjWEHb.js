import{f as B,r as _,o,e as d,g as e,n as h,j as x,F as p,aj as f,t as a,ad as g,af as k,ag as C,k as I,z as S,i as R}from"./modules/vue-CCeyAUKo.js";import{u as q}from"./slidev/context-C4VY9wTr.js";import{_ as L}from"./index-DQPW7Cpa.js";const N={class:"csd"},j={class:"csd-tabs"},F={key:0,class:"csd-cumsum"},T={class:"csd-section"},w={class:"csd-array"},G={class:"csd-val"},H={class:"csd-idx"},J={class:"csd-section"},K={class:"csd-array"},O={class:"csd-val"},P={class:"csd-idx"},Q={class:"csd-query"},W=["max"],X=["max"],Y={class:"csd-formula"},Z={key:1,class:"csd-imos"},ss={class:"csd-section"},es=["onUpdate:modelValue","max"],ts=["onUpdate:modelValue","max"],ls=["onClick"],ns={class:"csd-section"},as={class:"csd-array"},os={class:"csd-val"},ds={class:"csd-idx"},is={class:"csd-section"},us={class:"csd-array"},cs={class:"csd-val"},rs={class:"csd-idx"},u=8,vs=B({__name:"CumulativeSumDemo",props:{mode:{default:"cumsum"}},setup($){q();const i=_($.mode),c=_([3,1,4,1,5,9,2,6]),r=_(2),v=_(5),m=S(()=>{const l=[0];for(let s=0;s<c.value.length;s++)l.push(l[s]+c.value[s]);return l}),z=S(()=>{const l=Math.max(0,r.value),s=Math.min(c.value.length-1,v.value);return m.value[s+1]-m.value[l]}),D=l=>l>=r.value&&l<=v.value,y=_([{start:1,end:4},{start:2,end:6},{start:5,end:7}]),M=S(()=>{const l=Array(u+1).fill(0);for(const s of y.value)s.start>=0&&s.start<u&&l[s.start]++,s.end+1>=0&&s.end+1<=u&&l[s.end+1]--;return l.slice(0,u)}),U=S(()=>{const l=[];let s=0;for(const t of M.value)s+=t,l.push(s);return l});function E(){y.value.push({start:0,end:u-1})}function A(l){y.value.splice(l,1)}return(l,s)=>(o(),d("div",N,[e("div",j,[e("button",{class:h(["csd-tab",{active:i.value==="cumsum"}]),onClick:s[0]||(s[0]=t=>i.value="cumsum")}," 累積和 ",2),e("button",{class:h(["csd-tab",{active:i.value==="imos"}]),onClick:s[1]||(s[1]=t=>i.value="imos")}," いもす法 ",2)]),x(" Cumulative Sum Mode "),i.value==="cumsum"?(o(),d("div",F,[e("div",T,[s[4]||(s[4]=e("div",{class:"csd-label"},"元の配列 A:",-1)),e("div",w,[(o(!0),d(p,null,f(c.value,(t,n)=>(o(),d("div",{key:n,class:h(["csd-cell",{"in-range":D(n)}])},[e("div",G,a(t),1),e("div",H,a(n),1)],2))),128))])]),e("div",J,[s[5]||(s[5]=e("div",{class:"csd-label"},"累積和 S:",-1)),e("div",K,[(o(!0),d(p,null,f(m.value,(t,n)=>(o(),d("div",{key:n,class:"csd-cell csd-sum-cell"},[e("div",O,a(t),1),e("div",P,a(n),1)]))),128))])]),e("div",Q,[e("label",null,[s[6]||(s[6]=g(" L: ",-1)),k(e("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=t=>r.value=t),min:0,max:c.value.length-1,class:"csd-input"},null,8,W),[[C,r.value,void 0,{number:!0}]])]),e("label",null,[s[7]||(s[7]=g(" R: ",-1)),k(e("input",{type:"number","onUpdate:modelValue":s[3]||(s[3]=t=>v.value=t),min:0,max:c.value.length-1,class:"csd-input"},null,8,X),[[C,v.value,void 0,{number:!0}]])]),e("div",Y,[g(" S["+a(v.value+1)+"] - S["+a(r.value)+"] = "+a(m.value[v.value+1])+" - "+a(m.value[r.value])+" = ",1),e("strong",null,a(z.value),1)])])])):x("v-if",!0),x(" Imos Mode "),i.value==="imos"?(o(),d("div",Z,[e("div",ss,[s[9]||(s[9]=e("div",{class:"csd-label"},"イベント（区間）:",-1)),(o(!0),d(p,null,f(y.value,(t,n)=>(o(),d("div",{key:n,class:"csd-event"},[k(e("input",{type:"number","onUpdate:modelValue":b=>t.start=b,min:0,max:u-1,class:"csd-input"},null,8,es),[[C,t.start,void 0,{number:!0}]]),s[8]||(s[8]=g(" ~ ",-1)),k(e("input",{type:"number","onUpdate:modelValue":b=>t.end=b,min:0,max:u-1,class:"csd-input"},null,8,ts),[[C,t.end,void 0,{number:!0}]]),e("button",{class:"csd-remove",onClick:b=>A(n)},"x",8,ls)]))),128)),e("button",{class:"csd-add-btn",onClick:E},"+ 区間を追加")]),e("div",ns,[s[10]||(s[10]=e("div",{class:"csd-label"},"差分配列:",-1)),e("div",as,[(o(!0),d(p,null,f(M.value,(t,n)=>(o(),d("div",{key:n,class:h(["csd-cell",{positive:t>0,negative:t<0}])},[e("div",os,a(t>0?"+":"")+a(t),1),e("div",ds,a(n),1)],2))),128))])]),e("div",is,[s[11]||(s[11]=e("div",{class:"csd-label"},"結果（差分の累積和）:",-1)),e("div",us,[(o(!0),d(p,null,f(U.value,(t,n)=>(o(),d("div",{key:n,class:"csd-cell csd-result-cell"},[e("div",cs,a(t),1),e("div",rs,a(n),1),e("div",{class:"csd-bar",style:I({height:`${t/Math.max(...U.value,1)*60}px`})},null,4)]))),128))])])])):x("v-if",!0)]))}}),bs=L(vs,[["__scopeId","data-v-99043c69"]]),ms={class:"slidev-layout layout-interactive"},_s={class:"interactive-container"},hs={__name:"interactive",setup($){return q(),(V,i)=>(o(),d("div",ms,[e("h2",null,[R(V.$slots,"title")]),e("div",_s,[R(V.$slots,"default")])]))}};export{bs as _,hs as a};
