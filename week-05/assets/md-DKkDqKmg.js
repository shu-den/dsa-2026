import{f as L,G as z,o as d,e as m,g as t,j as g,F as N,aj as V,t as o,ad as f,r as v,z as k,b as A,w as T,d as j,v as E,x as R,T as $}from"./modules/vue-tYZCW_lj.js";import{u as C,f as D}from"./slidev/context-cM5lqrri.js";import{_ as G}from"./index-DhmK2RqR.js";import{_ as O}from"./interactive-DzYkQj19.js";import"./modules/shiki-BYUa97EI.js";const Q={class:"mcpi"},U={class:"mcpi-main"},Z=["viewBox"],q=["d","transform"],H=["cx","cy","fill"],J={class:"mcpi-info"},K={class:"mcpi-result"},W={class:"mcpi-pi-value"},X={class:"mcpi-result"},Y={class:"mcpi-pi-value mcpi-actual"},tt={class:"mcpi-result"},st={class:"mcpi-pi-value mcpi-error"},et={class:"mcpi-stats"},ot={class:"mcpi-inside"},it={class:"mcpi-outside"},nt={class:"mcpi-formula"},at={class:"mcpi-math"},lt={class:"mcpi-controls"},e=300,ct=50,rt=L({__name:"MonteCarloPI",setup(P){C();const i=v(0),n=v(0),r=v([]),l=v(!1);let a=null;const _=k(()=>i.value===0?0:4*n.value/i.value),y=k(()=>Math.abs(_.value-Math.PI));function p(x){for(let s=0;s<x;s++){const c=Math.random(),u=Math.random(),b=c*c+u*u<=1;i.value++,b&&n.value++,r.value.length<3e3&&r.value.push({x:c,y:u,inside:b})}}function F(){l.value=!0,a=setInterval(()=>p(ct),50)}function h(){l.value=!1,a&&(clearInterval(a),a=null)}function B(){l.value?h():F()}function I(){h(),i.value=0,n.value=0,r.value=[]}function M(){p(1)}function w(){p(100)}function S(){p(1e3)}return z(()=>{a&&clearInterval(a)}),(x,s)=>(d(),m("div",Q,[t("div",U,[(d(),m("svg",{viewBox:`0 0 ${e} ${e}`,class:"mcpi-canvas"},[g(" Quarter circle "),t("path",{d:`M 0 0 A ${e} ${e} 0 0 1 ${e} 0 L ${e} ${e} L 0 ${e} Z`,fill:"none",stroke:"var(--dsa-blue)","stroke-width":"2",transform:`scale(1, -1) translate(0, -${e})`},null,8,q),t("rect",{x:"0",y:"0",width:e,height:e,fill:"none",stroke:"var(--dsa-border)","stroke-width":"1"}),g(" Points "),(d(!0),m(N,null,V(r.value,(c,u)=>(d(),m("circle",{key:u,cx:c.x*e,cy:(1-c.y)*e,r:"2.5",fill:c.inside?"#03AF7A":"#FF4B00",opacity:.6},null,8,H))),128))],8,Z)),t("div",J,[t("div",K,[s[0]||(s[0]=t("div",{class:"mcpi-pi-label"},"推定値",-1)),t("div",W,o(_.value.toFixed(6)),1)]),t("div",X,[s[1]||(s[1]=t("div",{class:"mcpi-pi-label"},"真の値 (π)",-1)),t("div",Y,o(Math.PI.toFixed(6)),1)]),t("div",tt,[s[2]||(s[2]=t("div",{class:"mcpi-pi-label"},"誤差",-1)),t("div",st,o(y.value.toFixed(6)),1)]),t("div",et,[t("div",null,[s[3]||(s[3]=f("合計: ",-1)),t("strong",null,o(i.value.toLocaleString()),1)]),t("div",null,[s[4]||(s[4]=f("円内: ",-1)),t("strong",ot,o(n.value.toLocaleString()),1)]),t("div",null,[s[5]||(s[5]=f("円外: ",-1)),t("strong",it,o((i.value-n.value).toLocaleString()),1)])]),t("div",nt,[t("span",at,"4 x "+o(n.value)+" / "+o(i.value)+" = "+o(_.value.toFixed(4)),1)])])]),t("div",lt,[t("button",{class:"mcpi-btn",onClick:M},"+1"),t("button",{class:"mcpi-btn",onClick:w},"+100"),t("button",{class:"mcpi-btn",onClick:S},"+1000"),t("button",{class:"mcpi-btn mcpi-play",onClick:B},o(l.value?"一時停止":"自動"),1),t("button",{class:"mcpi-btn mcpi-reset",onClick:I},"リセット")])]))}}),ut=G(rt,[["__scopeId","data-v-04584f38"]]),ft={__name:"slides.md__slidev_31",setup(P){const{$clicksContext:i,$frontmatter:n}=C();return i.setup(),(r,l)=>{const a=ut;return d(),A(O,E(R($(D)($(n),30))),{default:T(()=>[l[0]||(l[0]=t("h2",null,"モンテカルロ法で円周率を求めよう",-1)),j(a)]),_:1},16)}}};export{ft as default};
