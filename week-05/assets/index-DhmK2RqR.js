const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./md-IrewENWe.js","./modules/vue-tYZCW_lj.js","./slidev/context-cM5lqrri.js","./modules/shiki-BYUa97EI.js","./modules/shiki-UqVAgQbi.css","./md-CEPC2DmM.js","./md-DJh9WcZU.js","./default-zHQqEpUO.js","./md-CDdzFU5-.js","./section-divider-CL3hE9YO.js","./md-CIJP8VX4.js","./md-vYxKhKYI.js","./md-HaA9AhVh.js","./md-CzAMAyB9.js","./md-C8eXHFc_.js","./md-BnHvFcTh.js","./md-Bjep8GZg.js","./md-NPEk8AFc.js","./md-Czp80Z7i.js","./md-B8doSBXx.js","./md-DsNmielj.js","./interactive-DzYkQj19.js","./md-DyKK2ZHi.css","./md-BzEm4G2v.js","./md-sq-QkbzX.js","./md-C7Zm1Vhm.js","./md-qiuw9ecC.js","./md-CCEAqFeg.js","./md-DAQkoEy7.js","./md-BR08cp8c.js","./md-BGJx-V01.js","./md-HT7y5Ut5.js","./md-CJN51shM.js","./md-CreaaRGL.js","./md-IUkhEAXC.js","./md-Ci11Ca-l.js","./md-DF6fdrL7.js","./md-CZcH5rqK.js","./md-DKkDqKmg.js","./md-CTtBwo_q.css","./md-CAaiftBi.js","./md-rSWNV0HU.js","./md-CFxmCflt.js","./md-DibLr8hC.js","./md-Durcl0CF.js","./md-Cni0sZSK.js","./md-BsIStdDk.js","./md-Me2KMRGV.js","./md-BRvgN0PB.js","./question-FG7nV6t6.js","./md-BZGHFzxH.js","./md-CMtVhymw.js","./md-boPG9dml.js","./slidev/entry-CgEeIgEI.js","./entry-CyMt_iSL.css","./slidev/overview-Dy5VUdQx.js","./modules/unplugin-icons-34141Anq.js","./slidev/NoteDisplay.vue_vue_type_style_index_0_lang-a2lBI0Fu.js","./NoteDisplay-DggBAdha.css","./slidev/SlideWrapper-D0h-l0Gi.js","./SlideWrapper-4Jte_8x4.css","./slidev/IconButton.vue_vue_type_script_setup_true_lang-SMlKiKWN.js","./slidev/useSlideInfo-CnP9X_nx.js","./slidev/notes-BzIaKGxy.js","./slidev/TimerBar.vue_vue_type_script_setup_true_lang-DeH94eJ1.js","./slidev/Modal.vue_vue_type_script_setup_true_lang-DILA9gOr.js","./slidev/notes-edit-eiYOVOcZ.js","./slidev/presenter-BEKrNwZ3.js","./slidev/shortcuts-BHz_ZEH0.js","./shortcuts-B4GtsM5T.css","./presenter-Bs6wyjjy.css","./slidev/play-B0IvNPWP.js","./play-D_7yfuao.css","./slidev/404-DoImkEMM.js","./404-poZcRPAh.css"])))=>i.map(i=>d[i]);
import{z as k,A as ml,B as Lt,C as ol,D as we,E as ua,G as cl,H as hl,I as gl,r as P,J as ve,K as ss,L as xe,M as z,N as ul,O as dl,o as Ua,e as zt,t as fl,f as ke,F as yl,g as ln,j as wl,P as L,Q as qt,R as vl,S as tt,p as xl,T as kl,U as bl,V as Ml,W as B,X as _l,Y as be,Z as Ll,_ as zl,$ as nt,a0 as Sl,a1 as Me,a2 as Ol,a3 as El,a4 as Nl,a5 as _e,b as Pl,a as $l,a6 as Al,a7 as Tl,a8 as Cl,a9 as Dl,aa as Rl,ab as jl,ac as Hl,c as Il}from"./modules/vue-tYZCW_lj.js";import{T as Vl}from"./modules/shiki-BYUa97EI.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?l.credentials="include":e.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(e){if(e.ep)return;e.ep=!0;const l=t(e);fetch(e.href,l)}})();const R={theme:"../theme",title:"DSA 第5回: 確率とシミュレーション",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],monacoRunUseStrict:!0,download:!1,export:{},info:`<p>データ構造とアルゴリズム 2026年度 第5回
関西大学 ビジネスデータサイエンス学部 / 伝住 周平</p>
`,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"light",routerMode:"hash",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Noto Sans JP"','"sans-serif"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"JetBrains Mono"','"monospace"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Noto Sans JP","sans-serif","JetBrains Mono","monospace"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!1,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,magicMoveCopy:!0,author:"",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"slide-left",editor:!0,contextMenu:null,wakeLock:!0,mdc:!1,seoMeta:{},notesAutoRuby:{},duration:"30min",timer:"stopwatch",magicMoveDuration:800,preloadImages:!0,layout:"title",slidesTitle:"DSA 第5回: 確率とシミュレーション - Slidev"};function St(a,s,t){return Math.min(t,Math.max(s,a))}function ql(...a){return Bl(a).reduce((s,t)=>s+t,0)}function Fl(a){return a=a??[],Array.isArray(a)?a:[a]}function Bl(a){return Fl(a).flat(1)}function Wl(a){return Array.from(new Set(a))}function pn(...a){let s,t,n;a.length===1?(s=0,n=1,[t]=a):[s,t,n=1]=a;const e=[];let l=s;for(;l<t;)e.push(l),l+=n||1;return e}function Ul(a){return a!=null}function Jl(a,s){return Object.fromEntries(Object.entries(a).map(([t,n])=>s(t,n)).filter(Ul))}const vo="build",Le=k(()=>R.aspectRatio),ze=k(()=>R.canvasWidth),Gl=k(()=>Math.ceil(ze.value/Le.value)),Kl=k(()=>Jl(R.themeConfig||{},(a,s)=>[`--slidev-theme-${a}`,s])),ht=R.slidesTitle,xo="./#/",Yl=[Object.values([])[0],Object.values([])[0]].filter(Boolean),Ql=new Set(["link","style","script","noscript"]),Xl=new Set(["title","titleTemplate","script","style","noscript"]),rn=new Set(["base","meta","link","style","script","noscript"]),Zl=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),si=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),ai=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),ti=new Set(["templateParams","htmlAttrs","bodyAttrs"]),ni=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function Ot(a,s={},t){for(const n in a){const e=a[n],l=t?`${t}:${n}`:n;typeof e=="object"&&e!==null?Ot(e,s,l):typeof e=="function"&&(s[l]=e)}return s}const Se=(()=>{if(console.createTask)return console.createTask;const a={run:s=>s()};return()=>a})();function Oe(a,s,t,n){for(let e=t;e<a.length;e+=1)try{const l=n?n.run(()=>a[e](...s)):a[e](...s);if(l instanceof Promise)return l.then(()=>Oe(a,s,e+1,n))}catch(l){return Promise.reject(l)}}function ei(a,s,t){if(a.length>0)return Oe(a,s,0,Se(t))}function li(a,s,t){if(a.length>0){const n=Se(t);return Promise.all(a.map(e=>n.run(()=>e(...s))))}}function gt(a,s){for(const t of[...a])t(s)}var ii=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(a,s,t={}){if(!a||typeof s!="function")return()=>{};const n=a;let e;for(;this._deprecatedHooks[a];)e=this._deprecatedHooks[a],a=e.to;if(e&&!t.allowDeprecated){let l=e.message;l||(l=`${n} hook has been deprecated`+(e.to?`, please use ${e.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(l)||(console.warn(l),this._deprecatedMessages.add(l))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+a.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[a]=this._hooks[a]||[],this._hooks[a].push(s),()=>{s&&(this.removeHook(a,s),s=void 0)}}hookOnce(a,s){let t,n=(...e)=>(typeof t=="function"&&t(),t=void 0,n=void 0,s(...e));return t=this.hook(a,n),t}removeHook(a,s){const t=this._hooks[a];if(t){const n=t.indexOf(s);n!==-1&&t.splice(n,1),t.length===0&&(this._hooks[a]=void 0)}}deprecateHook(a,s){this._deprecatedHooks[a]=typeof s=="string"?{to:s}:s;const t=this._hooks[a]||[];this._hooks[a]=void 0;for(const n of t)this.hook(a,n)}deprecateHooks(a){for(const s in a)this.deprecateHook(s,a[s])}addHooks(a){const s=Ot(a),t=Object.keys(s).map(n=>this.hook(n,s[n]));return()=>{for(const n of t)n();t.length=0}}removeHooks(a){const s=Ot(a);for(const t in s)this.removeHook(t,s[t])}removeAllHooks(){this._hooks={}}callHook(a,...s){return this.callHookWith(ei,a,s)}callHookParallel(a,...s){return this.callHookWith(li,a,s)}callHookWith(a,s,t){const n=this._before||this._after?{name:s,args:t,context:{}}:void 0;this._before&&gt(this._before,n);const e=a(this._hooks[s]?[...this._hooks[s]]:[],t,s);return e instanceof Promise?e.finally(()=>{this._after&&n&&gt(this._after,n)}):(this._after&&n&&gt(this._after,n),e)}beforeEach(a){return this._before=this._before||[],this._before.push(a),()=>{if(this._before!==void 0){const s=this._before.indexOf(a);s!==-1&&this._before.splice(s,1)}}}afterEach(a){return this._after=this._after||[],this._after.push(a),()=>{if(this._after!==void 0){const s=this._after.indexOf(a);s!==-1&&this._after.splice(s,1)}}}};function pi(){return new ii}const ri=["name","property","http-equiv"],mi=new Set(["viewport","description","keywords","robots"]);function Ee(a){const s=a.split(":");return s.length?ni.has(s[1]):!1}function Et(a){const{props:s,tag:t}=a;if(si.has(t))return t;if(t==="link"&&s.rel==="canonical")return"canonical";const n=s.hreflang||s.type;if(t==="link"&&s.rel==="alternate"&&n)return`alternate:${n}`;if(s.charset)return"charset";if(a.tag==="meta"){for(const e of ri)if(s[e]!==void 0){const l=s[e],i=l&&typeof l=="string"&&l.includes(":"),p=l&&mi.has(l),m=!(i||p)&&a.key?`:key:${a.key}`:"";return`${t}:${l}${m}`}}if(a.key)return`${t}:key:${a.key}`;if(s.id)return`${t}:id:${s.id}`;if(Xl.has(t)){const e=a.textContent||a.innerHTML;if(e)return`${t}:content:${e}`}}function mn(a){const s=a._h||a._d;if(s)return s;const t=a.textContent||a.innerHTML;return t||`${a.tag}:${Object.entries(a.props).map(([n,e])=>`${n}:${String(e)}`).join(",")}`}function Ja(a,s,t){typeof a==="function"&&(!t||t!=="titleTemplate"&&!(t[0]==="o"&&t[1]==="n"))&&(a=a());const e=s?s(t,a):a;if(Array.isArray(e))return e.map(l=>Ja(l,s));if(e?.constructor===Object){const l={};for(const i of Object.keys(e))l[i]=Ja(e[i],s,i);return l}return e}function oi(a,s){const t=a==="style"?new Map:new Set;function n(e){if(e==null||e===void 0)return;const l=String(e).trim();if(l)if(a==="style"){const[i,...p]=l.split(":").map(r=>r?r.trim():"");i&&p.length&&t.set(i,p.join(":"))}else l.split(" ").filter(Boolean).forEach(i=>t.add(i))}return typeof s=="string"?a==="style"?s.split(";").forEach(n):n(s):Array.isArray(s)?s.forEach(e=>n(e)):s&&typeof s=="object"&&Object.entries(s).forEach(([e,l])=>{l&&l!=="false"&&(a==="style"?t.set(String(e).trim(),String(l)):n(e))}),t}function Ne(a,s){return a.props=a.props||{},s?a.tag==="templateParams"?(a.props=s,a):(Object.entries(s).forEach(([t,n])=>{if(n===null){a.props[t]=null;return}if(t==="class"||t==="style"){a.props[t]=oi(t,n);return}if(ai.has(t)){if(["textContent","innerHTML"].includes(t)&&typeof n=="object"){let p=s.type;if(s.type||(p="application/json"),!p?.endsWith("json")&&p!=="speculationrules")return;s.type=p,a.props.type=p,a[t]=JSON.stringify(n)}else a[t]=n;return}const e=String(n),l=t.startsWith("data-"),i=a.tag==="meta"&&t==="content";e==="true"||e===""?a.props[t]=l||i?e:!0:!n&&l&&e==="false"?a.props[t]="false":n!==void 0&&(a.props[t]=n)}),a):a}function ci(a,s){const t=typeof s=="object"&&typeof s!="function"?s:{[a==="script"||a==="noscript"||a==="style"?"innerHTML":"textContent"]:s},n=Ne({tag:a,props:{}},t);return n.key&&Ql.has(n.tag)&&(n.props["data-hid"]=n._h=n.key),n.tag==="script"&&typeof n.innerHTML=="object"&&(n.innerHTML=JSON.stringify(n.innerHTML),n.props.type=n.props.type||"application/json"),Array.isArray(n.props.content)?n.props.content.map(e=>({...n,props:{...n.props,content:e}})):n}function hi(a,s){if(!a)return[];typeof a=="function"&&(a=a());const t=(e,l)=>{for(let i=0;i<s.length;i++)l=s[i](e,l);return l};a=t(void 0,a);const n=[];return a=Ja(a,t),Object.entries(a||{}).forEach(([e,l])=>{if(l!==void 0)for(const i of Array.isArray(l)?l:[l])n.push(ci(e,i))}),n.flat()}const on=(a,s)=>a._w===s._w?a._p-s._p:a._w-s._w,cn={base:-10,title:10},gi={critical:-8,high:-1,low:2},hn={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},ui=/@import/,wa=a=>a===""||a===!0;function di(a,s){if(typeof s.tagPriority=="number")return s.tagPriority;let t=100;const n=gi[s.tagPriority]||0,e=a.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:hn;if(s.tag in cn)t=cn[s.tag];else if(s.tag==="meta"){const l=s.props["http-equiv"]==="content-security-policy"?"content-security-policy":s.props.charset?"charset":s.props.name==="viewport"?"viewport":null;l&&(t=hn.meta[l])}else if(s.tag==="link"&&s.props.rel)t=e.link[s.props.rel];else if(s.tag==="script"){const l=String(s.props.type);wa(s.props.async)?t=e.script.async:s.props.src&&!wa(s.props.defer)&&!wa(s.props.async)&&l!=="module"&&!l.endsWith("json")||s.innerHTML&&!l.endsWith("json")?t=e.script.sync:(wa(s.props.defer)&&s.props.src&&!wa(s.props.async)||l==="module")&&(t=e.script.defer)}else s.tag==="style"&&(t=s.innerHTML&&ui.test(s.innerHTML)?e.style.imported:e.style.sync);return(t||100)+n}function gn(a,s){const t=typeof s=="function"?s(a):s,n=t.key||String(a.plugins.size+1);a.plugins.get(n)||(a.plugins.set(n,t),a.hooks.addHooks(t.hooks||{}))}function fi(a={}){const s=pi();s.addHooks(a.hooks||{});const t=!a.document,n=new Map,e=new Map,l=new Set,i={_entryCount:1,plugins:e,dirty:!1,resolvedOptions:a,hooks:s,ssr:t,entries:n,headEntries(){return[...n.values()]},use:p=>gn(i,p),push(p,r){const m={...r||{}};delete m.head;const c=m._index??i._entryCount++,g={_i:c,input:p,options:m},h={_poll(o=!1){i.dirty=!0,!o&&l.add(c),s.callHook("entries:updated",i)},dispose(){n.delete(c)&&i.invalidate()},patch(o){(!m.mode||m.mode==="server"&&t||m.mode==="client"&&!t)&&(g.input=o,n.set(c,g),h._poll())}};return h.patch(p),h},async resolveTags(){const p={tagMap:new Map,tags:[],entries:[...i.entries.values()]};for(await s.callHook("entries:resolve",p);l.size;){const h=l.values().next().value;l.delete(h);const o=n.get(h);if(o){const d={tags:hi(o.input,a.propResolvers||[]).map(u=>Object.assign(u,o.options)),entry:o};await s.callHook("entries:normalize",d),o._tags=d.tags.map((u,f)=>(u._w=di(i,u),u._p=(o._i<<10)+f,u._d=Et(u),u))}}let r=!1;p.entries.flatMap(h=>(h._tags||[]).map(o=>({...o,props:{...o.props}}))).sort(on).reduce((h,o)=>{const d=String(o._d||o._p);if(!h.has(d))return h.set(d,o);const u=h.get(d);if((o?.tagDuplicateStrategy||(ti.has(o.tag)?"merge":null)||(o.key&&o.key===u.key?"merge":null))==="merge"){const y={...u.props};Object.entries(o.props).forEach(([w,v])=>y[w]=w==="style"?new Map([...u.props.style||new Map,...v]):w==="class"?new Set([...u.props.class||new Set,...v]):v),h.set(d,{...o,props:y})}else o._p>>10===u._p>>10&&o.tag==="meta"&&Ee(d)?(h.set(d,Object.assign([...Array.isArray(u)?u:[u],o],o)),r=!0):(o._w===u._w?o._p>u._p:o?._w<u?._w)&&h.set(d,o);return h},p.tagMap);const m=p.tagMap.get("title"),c=p.tagMap.get("titleTemplate");if(i._title=m?.textContent,c){const h=c?.textContent;if(i._titleTemplate=h,h){let o=typeof h=="function"?h(m?.textContent):h;typeof o=="string"&&!i.plugins.has("template-params")&&(o=o.replace("%s",m?.textContent||"")),m?o===null?p.tagMap.delete("title"):p.tagMap.set("title",{...m,textContent:o}):(c.tag="title",c.textContent=o)}}p.tags=Array.from(p.tagMap.values()),r&&(p.tags=p.tags.flat().sort(on)),await s.callHook("tags:beforeResolve",p),await s.callHook("tags:resolve",p),await s.callHook("tags:afterResolve",p);const g=[];for(const h of p.tags){const{innerHTML:o,tag:d,props:u}=h;if(Zl.has(d)&&!(Object.keys(u).length===0&&!h.innerHTML&&!h.textContent)&&!(d==="meta"&&!u.content&&!u["http-equiv"]&&!u.charset)){if(d==="script"&&o){if(String(u.type).endsWith("json")){const f=typeof o=="string"?o:JSON.stringify(o);h.innerHTML=f.replace(/</g,"\\u003C")}else typeof o=="string"&&(h.innerHTML=o.replace(new RegExp(`</${d}`,"g"),`<\\/${d}`));h._d=Et(h)}g.push(h)}}return g},invalidate(){for(const p of n.values())l.add(p._i);i.dirty=!0,s.callHook("entries:updated",i)}};return(a?.plugins||[]).forEach(p=>gn(i,p)),i.hooks.callHook("init",i),a.init?.forEach(p=>p&&i.push(p)),i}const yi=(a,s)=>ml(s)?Lt(s):s,Pe="usehead";function wi(a){return{install(t){t.config.globalProperties.$unhead=a,t.config.globalProperties.$head=a,t.provide(Pe,a)}}.install}function vi(){if(ol()){const a=we(Pe);if(a)return a}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function xi(a,s={}){const t=s.head||vi();return t.ssr?t.push(a||{},s):ki(t,a,s)}function ki(a,s,t={}){const n=P(!1);let e;return ua(()=>{const i=n.value?{}:Ja(s,yi);e?e.patch(i):e=a.push(i,t)}),ve()&&(cl(()=>{e.dispose()}),hl(()=>{n.value=!0}),gl(()=>{n.value=!1})),e}function Nt(a){if(a===!1||a==="false")return null;if(a==null||a===!0||a==="true")return"+1";if(typeof a=="string"&&"+-".includes(a[0]))return a;const s=+a;return Number.isNaN(s)?(console.error(`Invalid "at" prop value: ${a}`),null):s<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${a}, has been set to 1`),1):s}function bi(a){return Array.isArray(a)?[Nt(a[0]),Nt(a[1])]:null}function $e(a,s=0,t){const n=P(!1);let e=new Map,l=new Map;const i={get current(){return St(+a.value,s,i.total)},set current(p){a.value=n.value?St(p,s,i.total):p},clicksStart:s,get relativeSizeMap(){return e},get maxMap(){return l},get isMounted(){return n.value},setup(){xe(()=>{n.value=!0,l=z(l),ul(a)||(i.current=a.value)}),dl(()=>{n.value=!1,e=new Map,l=new Map})},calculateSince(p,r=1){const m=Nt(p);if(m==null)return null;let c,g,h;if(typeof m=="string"){const o=i.currentOffset,d=+m;c=o+d,g=o+d+r-1,h=d+r-1}else c=m,g=m+r-1,h=0;return{start:c,end:+Number.POSITIVE_INFINITY,max:g,delta:h,currentOffset:k(()=>i.current-c),isCurrent:k(()=>i.current===c),isActive:k(()=>i.current>=c)}},calculateRange(p){const r=bi(p);if(r==null)return null;const[m,c]=r;let g,h,o;return typeof m=="string"?(g=i.currentOffset+ +m,o=+m):(g=m,o=0),typeof c=="string"?(h=g+ +c,o+=+c):h=c,{start:g,end:h,max:h,delta:o,currentOffset:k(()=>i.current-g),isCurrent:k(()=>i.current===g),isActive:k(()=>g<=i.current&&i.current<h)}},calculate(p){return Array.isArray(p)?i.calculateRange(p):i.calculateSince(p)},register(p,r){if(!r)return;const{delta:m,max:c}=r;e.set(p,m),l.set(p,c)},unregister(p){e.delete(p),l.delete(p)},get currentOffset(){return ql(...e.values())},get total(){return t??(n.value?Math.max(0,...l.values()):0)}};return i}function Mi(a,s=0){const t=a?.meta.slide?.frontmatter.clicksStart??0,n=P(Math.max(Lt(s),t));return ss(()=>Lt(s),e=>{n.value=Math.max(e,t)}),$e(n,t,a?.meta?.clicks)}const _i="modulepreload",Li=function(a,s){return new URL(a,s).href},un={},M=function(s,t,n){let e=Promise.resolve();if(t&&t.length>0){let m=function(c){return Promise.all(c.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const i=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),r=p?.nonce||p?.getAttribute("nonce");e=m(t.map(c=>{if(c=Li(c,n),c in un)return;un[c]=!0;const g=c.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(n)for(let d=i.length-1;d>=0;d--){const u=i[d];if(u.href===c&&(!g||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const o=document.createElement("link");if(o.rel=g?"stylesheet":_i,g||(o.as="script"),o.crossOrigin="",o.href=c,r&&o.setAttribute("nonce",r),document.head.appendChild(o),g)return new Promise((d,u)=>{o.addEventListener("load",d),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(i){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=i,window.dispatchEvent(p),!p.defaultPrevented)throw i}return e.then(i=>{for(const p of i||[])p.status==="rejected"&&l(p.reason);return s().catch(l)})},zi=(a,s)=>{const t=a.__vccOpts||a;for(const[n,e]of s)t[n]=e;return t},Si={},Oi={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function Ei(a,s){return Ua(),zt("div",Oi,fl("Failed to fetch this slide. Please check your network connection."))}const S=zi(Si,[["render",Ei]]),Ni={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},Pi=ke({__name:"SlideLoading",setup(a){const s=P(!1);return xe(()=>{setTimeout(()=>{s.value=!0},200)}),(t,n)=>(Ua(),zt("div",Ni,[s.value?(Ua(),zt(yl,{key:0},[n[0]||(n[0]=ln("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),n[1]||(n[1]=ln("div",null,"Loading slide...",-1))],64)):wl("v-if",!0)]))}}),$i={theme:"../theme",title:"DSA 第5回: 確率とシミュレーション",info:`データ構造とアルゴリズム 2026年度 第5回
関西大学 ビジネスデータサイエンス学部 / 伝住 周平
`,drawings:{enabled:!1},transition:"slide-left",routerMode:"hash",layout:"title"},hs=L($i),Ai=z({get layout(){return hs.layout},get transition(){return hs.transition},get class(){return hs.class},get clicks(){return hs.clicks},get name(){return hs.name},get preload(){return hs.preload},slide:{content:"",revision:"k7f4uk",frontmatterRaw:`theme: ../theme
title: 'DSA 第5回: 確率とシミュレーション'
info: |
  データ構造とアルゴリズム 2026年度 第5回
  関西大学 ビジネスデータサイエンス学部 / 伝住 周平
drawings:
  enabled: false
transition: slide-left
routerMode: hash
layout: title
`,note:"",title:"DSA 第5回: 確率とシミュレーション",index:0,noteHTML:`<p>「ガチャを回したことはありますか？</p>
<p>スマホゲームのガチャ，カプセルトイ，トレーディングカード ―
10種類のアイテムをコンプリートしたいとします．
毎回ランダムに1種類出る．</p>
<p>直感的に，何回引けば全種類揃うと思いますか？</p>
<p>10回？ それはあまりに楽観的です．
20回？ まだ足りない．</p>
<p>正解は <strong>約29回</strong> ．</p>
<p>10種類しかないのに29回も引かないといけない．
『最後の1種類がなかなか出ない』あの焦燥感には，
ちゃんと数学的な理由があったのです．</p>
<p>今日はこの29回を，第3回で学んだΣと期待値で正確に導出してみせます．」</p>
`,raw:"",frontmatter:hs,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),Ti={layout:"objectives"},gs=L(Ti),Ci=z({get layout(){return gs.layout},get transition(){return gs.transition},get class(){return gs.class},get clicks(){return gs.clicks},get name(){return gs.name},get preload(){return gs.preload},slide:{content:"",revision:"-djiav9",frontmatterRaw:`layout: objectives
`,note:"",title:"本日の学習目標",level:2,index:1,noteHTML:`<p>「今日のゴールは5つあります．</p>
<p>場合の数を計算できるようになること，
期待値の線形性を使えるようになること，
クーポンコレクター問題をΣで導出できること，
モンテカルロ法の原理を理解すること，
そして確率がAIや暗号の基盤であることを理解すること．</p>
<p>確率は難しいというイメージがあるかもしれませんが，
今日使う道具は基本的にΣと掛け算と割り算だけです．」</p>
`,raw:"",frontmatter:gs,filepath:"",start:42,id:1,no:2},__clicksContext:null,__preloaded:!1}),Di={},us=L(Di),Ri=z({get layout(){return us.layout},get transition(){return us.transition},get class(){return us.class},get clicks(){return us.clicks},get name(){return us.name},get preload(){return us.preload},slide:{content:"",revision:"t3fogt",note:"",title:"前回の復習",level:2,index:2,noteHTML:`<p>「前回の復習です．</p>
<p>素数判定は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> に改善できました．
エラトステネスのふるいは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> でほぼ線形．
ユークリッドの互除法は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> の超高速．</p>
<p>今日のキーポイントとして，
第3回で学んだΣがクーポンコレクター問題で再登場します．
第4回でちらっと触れたミラー・ラビン法は，今日のテーマである確率的アルゴリズムの一例です．
第2回の指数爆発は，パスワードの強度計算で再登場します．</p>
<p>そして前回の予告クイズ ―
ガチャで10種類のアイテム，平均何回で全種類揃うか？
今日の授業が終わる頃には，正確に29.3回と導出できるようになります．」</p>
`,raw:"",frontmatter:us,filepath:"",start:68,id:2,no:3},__clicksContext:null,__preloaded:!1}),ji={layout:"section-divider"},ds=L(ji),Hi=z({get layout(){return ds.layout},get transition(){return ds.transition},get class(){return ds.class},get clicks(){return ds.clicks},get name(){return ds.name},get preload(){return ds.preload},slide:{content:"",revision:"j8y44q",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 1",level:1,index:3,noteHTML:`<p>「まずは数え上げの基本から．
場合の数を正しく数えることは，確率を計算するための第一歩です．」</p>
`,raw:"",frontmatter:ds,filepath:"",start:115,id:3,no:4},__clicksContext:null,__preloaded:!1}),Ii={},fs=L(Ii),Vi=z({get layout(){return fs.layout},get transition(){return fs.transition},get class(){return fs.class},get clicks(){return fs.clicks},get name(){return fs.name},get preload(){return fs.preload},slide:{content:"",revision:"-54tx3o",note:"",title:"積の法則と和の法則",level:2,index:4,noteHTML:`<p>「数え上げの大原則は2つだけです．</p>
<p>積の法則 ― 選択を順番に行うとき，全体の場合の数は掛け算．
ランチセットでメインが3種類，ドリンクが4種類なら，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">3 \\times 4 = 12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span> 通りの組合せがあります．</p>
<p>和の法則 ― 排反な（同時に起こらない）選択肢があるとき，全体は足し算．
和食セット5種類と洋食セット3種類のどちらかを選ぶなら，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>+</mo><mn>3</mn><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">5 + 3 = 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> 通りです．</p>
<p>独立な選択の連続 → 掛ける．
排反な選択のどちらか → 足す．</p>
<p>この2つの原理だけで，驚くほど多くの問題が解けます．」</p>
`,raw:"",frontmatter:fs,filepath:"",start:129,id:4,no:5},__clicksContext:null,__preloaded:!1}),qi={},ys=L(qi),Fi=z({get layout(){return ys.layout},get transition(){return ys.transition},get class(){return ys.class},get clicks(){return ys.clicks},get name(){return ys.name},get preload(){return ys.preload},slide:{content:"",revision:"a30ko2",note:"",title:"順列（Permutation）",level:2,index:5,noteHTML:`<p>「まず順列です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 個のものから <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 個を選んで，順序をつけて並べる方法の数．</p>
<p>5人から3人を1列に並べるなら，
1人目の選び方は5通り，
2人目は残りの4通り，
3人目は残りの3通り．
積の法則で <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>×</mo><mn>4</mn><mo>×</mo><mn>3</mn><mo>=</mo><mn>60</mn></mrow><annotation encoding="application/x-tex">5 \\times 4 \\times 3 = 60</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">60</span></span></span></span> 通りです．</p>
<p>一般的には <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mi>n</mi></msub><msub><mi mathvariant="normal">P</mi><mi>r</mi></msub><mo>=</mo><mi>n</mi><mo stretchy="false">!</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mi>r</mi><mo stretchy="false">)</mo><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">_n\\mathrm{P}_r = n!/(n-r)!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)!</span></span></span></span> です．</p>
<p>特殊な場合として，
全員を並べるなら <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mi>n</mi></msub><msub><mi mathvariant="normal">P</mi><mi>n</mi></msub><mo>=</mo><mi>n</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">_n\\mathrm{P}_n = n!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span></span></span></span>，
1人選ぶだけなら <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mi>n</mi></msub><msub><mi mathvariant="normal">P</mi><mn>1</mn></msub><mo>=</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">_n\\mathrm{P}_1 = n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ．」</p>
`,raw:"",frontmatter:ys,filepath:"",start:193,id:5,no:6},__clicksContext:null,__preloaded:!1}),Bi={},ws=L(Bi),Wi=z({get layout(){return ws.layout},get transition(){return ws.transition},get class(){return ws.class},get clicks(){return ws.clicks},get name(){return ws.name},get preload(){return ws.preload},slide:{content:"",revision:"-716nio",note:"",title:"練習: 順列を計算してみよう",level:2,index:6,noteHTML:`<p>「練習してみましょう．</p>
<p>10人から委員長と副委員長を選ぶ．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mn>10</mn></msub><msub><mi mathvariant="normal">P</mi><mn>2</mn></msub><mo>=</mo><mn>10</mn><mo>×</mo><mn>9</mn><mo>=</mo><mn>90</mn></mrow><annotation encoding="application/x-tex">_&lbrace;&lbrace;10}}\\mathrm{P}_2 = 10 \\times 9 = 90</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">90</span></span></span></span> 通り．
委員長と副キャプテンは役割が違うので順列です．</p>
<p>アルファベット26文字から3文字を並べる．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mn>26</mn></msub><msub><mi mathvariant="normal">P</mi><mn>3</mn></msub><mo>=</mo><mn>26</mn><mo>×</mo><mn>25</mn><mo>×</mo><mn>24</mn><mo>=</mo><mn>15600</mn></mrow><annotation encoding="application/x-tex">_&lbrace;&lbrace;26}}\\mathrm{P}_3 = 26 \\times 25 \\times 24 = 15600</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">26</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">26</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">25</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">24</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">15600</span></span></span></span> 通り．</p>
<p>6人がリレーで走る順番．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo stretchy="false">!</mo><mo>=</mo><mn>720</mn></mrow><annotation encoding="application/x-tex">6! = 720</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">6</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">720</span></span></span></span> 通り．全員を並べるので階乗です．</p>
<p>ポイントは，『並べる』『順番をつける』『役職を割り当てる』
と言われたら順列です．」</p>
`,raw:"",frontmatter:ws,filepath:"",start:240,id:6,no:7},__clicksContext:null,__preloaded:!1}),Ui={},vs=L(Ui),Ji=z({get layout(){return vs.layout},get transition(){return vs.transition},get class(){return vs.class},get clicks(){return vs.clicks},get name(){return vs.name},get preload(){return vs.preload},slide:{content:"",revision:"ejcq0z",note:"",title:"組合せ（Combination）",level:2,index:7,noteHTML:`<p>「次に組合せです．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 個のものから <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 個を，順序を区別せずに選ぶ方法の数．</p>
<p>5人から3人を選ぶ場合 ― 並べない ― を考えます．
順列では60通りでしたが，
同じ3人の組は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo stretchy="false">!</mo><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">3! = 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">3</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> 通りずつ重複しています．
A-B-C と B-C-A と C-A-B は，チーム分けなら同じですよね．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>60</mn><mo>÷</mo><mn>6</mn><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">60 \\div 6 = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">60</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> 通り．</p>
<p>組合せ = 順列 ÷ 並べ方の重複．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>r</mi></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><msub><mrow></mrow><mi>n</mi></msub><msub><mi mathvariant="normal">P</mi><mi>r</mi></msub><mi mathvariant="normal">/</mi><mi>r</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">\\binom{n}{r} = {}_n\\mathrm{P}_r / r!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7454em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">!</span></span></span></span> です．」</p>
`,raw:"",frontmatter:vs,filepath:"",start:277,id:7,no:8},__clicksContext:null,__preloaded:!1}),Gi={},xs=L(Gi),Ki=z({get layout(){return xs.layout},get transition(){return xs.transition},get class(){return xs.class},get clicks(){return xs.clicks},get name(){return xs.name},get preload(){return xs.preload},slide:{content:"",revision:"-ljwpxr",note:"",title:"順列 vs 組合せの見分け方",level:2,index:8,noteHTML:`<p>「順列と組合せの見分け方を整理します．</p>
<p>5人から3人をリレーの走順で選ぶ ― 走順があるので順列，60通り．
5人から3人のチームを作る ― 並べないので組合せ，10通り．
トランプ52枚から5枚の手札 ― 手札に順序はないので組合せ，約260万通り．
4桁の暗証番号（重複なし） ― 数字の並びが重要なので順列，5040通り．</p>
<p>判断基準は1つだけ．
AとBを入れ替えたら別物か？
Yesなら順列，Noなら組合せです．</p>
<p>隣の人と確認してみてください．
トランプのポーカーの手札は，順序を入れ替えても同じ手ですよね．だから組合せです．」</p>
`,raw:"",frontmatter:xs,filepath:"",start:321,id:8,no:9},__clicksContext:null,__preloaded:!1}),Yi={},ks=L(Yi),Qi=z({get layout(){return ks.layout},get transition(){return ks.transition},get class(){return ks.class},get clicks(){return ks.clicks},get name(){return ks.name},get preload(){return ks.preload},slide:{content:"",revision:"x03ejq",note:"",title:"練習: 組合せを計算してみよう",level:2,index:9,noteHTML:`<p>「組合せの練習をしましょう．</p>
<p>10人から5人のチームを作る．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>10</mn><mn>5</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mn>252</mn></mrow><annotation encoding="application/x-tex">\\binom{10}{5} = 252</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2451em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">252</span></span></span></span> 通り．</p>
<p>ロト6 ― 43個の数字から6個選ぶ．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>43</mn><mn>6</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mn>6</mn><mo separator="true">,</mo><mn>096</mn><mo separator="true">,</mo><mn>454</mn></mrow><annotation encoding="application/x-tex">\\binom{43}{6} = 6,096,454</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2451em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">43</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">096</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">454</span></span></span></span> 通り．
約600万分の1の確率ですね．</p>
<p>サッカー11人からPK戦の5人を選ぶ．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>11</mn><mn>5</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mn>462</mn></mrow><annotation encoding="application/x-tex">\\binom{11}{5} = 462</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2451em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">462</span></span></span></span> 通り．</p>
<p>ちなみにロト6の1等当選確率は約600万分の1です．
1日1枚買っても平均16,700年かかる計算になります．
宝くじの期待値については，このあと詳しく見ます．」</p>
`,raw:"",frontmatter:ks,filepath:"",start:363,id:9,no:10},__clicksContext:null,__preloaded:!1}),Xi={},bs=L(Xi),Zi=z({get layout(){return bs.layout},get transition(){return bs.transition},get class(){return bs.class},get clicks(){return bs.clicks},get name(){return bs.name},get preload(){return bs.preload},slide:{content:"",revision:"ynlw11",note:"",title:"重複順列 — パスワードの数え方",level:2,index:10,noteHTML:`<p>「ここまでは『同じものは2回選べない』場合でしたが，
パスワードは同じ文字を何度でも使えますよね．</p>
<p>これを重複順列といいます．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 種類から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 個を選ぶ（重複あり，順序あり）場合の数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>r</mi></msup></mrow><annotation encoding="application/x-tex">n^r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span> 通り．</p>
<p>なぜ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>r</mi></msup></mrow><annotation encoding="application/x-tex">n^r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span> か？
1桁目は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 通り，2桁目も <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 通り（同じものを選べる），……<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 桁目も <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 通り．
積の法則で <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>n</mi><mo>×</mo><mo>⋯</mo><mo>×</mo><mi>n</mi><mo>=</mo><msup><mi>n</mi><mi>r</mi></msup></mrow><annotation encoding="application/x-tex">n \\times n \\times \\cdots \\times n = n^r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span> です．</p>
<p>数字4桁のパスワードなら <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>4</mn></msup><mo>=</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">10^4 = 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span> 通り．0000から9999まで全部です．</p>
<p>暗証番号の <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10000</mn></mrow><annotation encoding="application/x-tex">10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span> 通りは多そうに見えますが，
コンピュータにとっては一瞬で全部試せる数です．」</p>
`,raw:"",frontmatter:bs,filepath:"",start:403,id:10,no:11},__clicksContext:null,__preloaded:!1}),sp={},Ms=L(sp),ap=z({get layout(){return Ms.layout},get transition(){return Ms.transition},get class(){return Ms.class},get clicks(){return Ms.clicks},get name(){return Ms.name},get preload(){return Ms.preload},slide:{content:"",revision:"-sc2lhc",note:"",title:"パスワードの強度計算",level:2,index:11,noteHTML:`<p>「パスワードの強度を場合の数で定量的に評価しましょう．</p>
<p>表を見てください．</p>
<p>数字のみ（10種）で8桁: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>8</mn></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">10^8 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 億通り．
英小文字（26種）で8桁: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.1</mn><mo>×</mo><msup><mn>10</mn><mn>11</mn></msup></mrow><annotation encoding="application/x-tex">2.1 \\times 10^{11}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2.1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span></span></span></span></span></span></span></span> ― 約2100億通り．
英数字（62種）で8桁: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.2</mn><mo>×</mo><msup><mn>10</mn><mn>14</mn></msup></mrow><annotation encoding="application/x-tex">2.2 \\times 10^{14}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2.2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">14</span></span></span></span></span></span></span></span></span></span></span></span> ― 約220兆通り．
英数字+記号（95種）で8桁: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6.6</mn><mo>×</mo><msup><mn>10</mn><mn>15</mn></msup></mrow><annotation encoding="application/x-tex">6.6 \\times 10^{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6.6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span></span></span></span></span></span></span></span> ― 約6600兆通り．</p>
<p>面白いことに，桁数を増やす効果は文字種を増やす効果より劇的です．
なぜなら，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>r</mi></msup></mrow><annotation encoding="application/x-tex">n^r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span> において <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> が1増えると <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 倍になるからです．
数字8桁の <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">10^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span> と数字12桁の <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>12</mn></msup></mrow><annotation encoding="application/x-tex">10^{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span></span></span></span></span></span></span></span> では1万倍の差があります．</p>
<p>セキュリティの基本: 長くて，文字種が多いパスワードが強い．」</p>
`,raw:"",frontmatter:Ms,filepath:"",start:454,id:11,no:12},__clicksContext:null,__preloaded:!1}),tp={},_s=L(tp),np=z({get layout(){return _s.layout},get transition(){return _s.transition},get class(){return _s.class},get clicks(){return _s.clicks},get name(){return _s.name},get preload(){return _s.preload},slide:{content:"",revision:"-oxkrgd",note:"",title:"パスワード攻撃にかかる時間",level:2,index:12,noteHTML:`<p>「毎秒100万回の総当たり攻撃を想定してみます．</p>
<p>数字4桁: たったの0.01秒で突破されます．
数字8桁: 100秒．まだ危ない．
英小文字8桁: 2.4日．少し時間がかかるようになりましたが，まだ実用的な攻撃時間です．
英数字8桁: 7年．ここでようやく安全になってきます．
英数字+記号8桁: 209年．
英数字+記号12桁: 1.7京年．宇宙の年齢より長い．</p>
<p>第2回で学んだ指数爆発がここでも活躍しています．
桁数を1つ増やすだけで攻撃時間が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> 倍になる．</p>
<p>4桁の暗証番号はもう安全ではない ―
この授業で学んだ知識が，みなさんの身を守ることにつながります．」</p>
`,raw:"",frontmatter:_s,filepath:"",start:496,id:12,no:13},__clicksContext:null,__preloaded:!1}),ep={},Ls=L(ep),lp=z({get layout(){return Ls.layout},get transition(){return Ls.transition},get class(){return Ls.class},get clicks(){return Ls.clicks},get name(){return Ls.name},get preload(){return Ls.preload},slide:{content:"",revision:"-b1hib5",note:"",title:"誕生日のパラドックス",level:2,index:13,noteHTML:`<p>「場合の数の応用として，有名な問題を紹介します．</p>
<p>教室に何人集まれば，同じ誕生日の人が2人以上いる確率が50%を超えるか？</p>
<p>365日もあるのだから，かなりの人数が必要？</p>
<p>……答えはたった23人です．</p>
<p>計算を見てみましょう．
全員の誕生日が異なる確率は，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>365</mn><mn>365</mn></mfrac><mo>×</mo><mfrac><mn>364</mn><mn>365</mn></mfrac><mo>×</mo><mfrac><mn>363</mn><mn>365</mn></mfrac><mo>×</mo><mo>⋯</mo></mrow><annotation encoding="application/x-tex">\\frac{365}{365} \\times \\frac{364}{365} \\times \\frac{363}{365} \\times \\cdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">365</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">365</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">365</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">364</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">365</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">363</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.313em;"></span><span class="minner">⋯</span></span></span></span>
です．23人で約49.3%になり，一致する確率が50%を超えます．</p>
<p>直感に反する結果ですが，ペアの数を考えると納得できます．
23人から2人選ぶペアの数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>23</mn><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mn>253</mn></mrow><annotation encoding="application/x-tex">\\binom{23}{2} = 253</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2451em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">23</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">253</span></span></span></span> 組．
253組もあれば，どれかが一致する確率が高いのは不思議ではありません．</p>
<p>なぜこれが重要かというと，
第8回で学ぶハッシュテーブルの衝突と同じ数学だからです．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 個の格納先があるとき，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> 個程度のデータを入れただけで衝突が起きやすくなる．
これを『誕生日攻撃』と呼んで，暗号の安全性分析にも使います．」</p>
`,raw:"",frontmatter:Ls,filepath:"",start:540,id:13,no:14},__clicksContext:null,__preloaded:!1}),ip={layout:"interactive"},zs=L(ip),pp=z({get layout(){return zs.layout},get transition(){return zs.transition},get class(){return zs.class},get clicks(){return zs.clicks},get name(){return zs.name},get preload(){return zs.preload},slide:{content:"",revision:"-xs8tck",frontmatterRaw:`layout: interactive
`,note:"",title:"誕生日のパラドックスを体験しよう",level:2,index:14,noteHTML:`<p>「画面のBirthdayParadoxDemoを使って，実際に体験してみましょう．</p>
<p>人数を増やしていくと，衝突確率がどう変化するかを観察してください．</p>
<p>10人のとき，衝突確率は約12%です．まだ低い．
15人で約25%．4人に1人の確率でぶつかります．
20人で約41%．かなり高くなってきました．
23人で約50%を超える．これが閾値です．
30人で約70%．もうかなり高い．
50人だと約97%．ほぼ確実に誕生日が一致するペアがいます．</p>
<p>なぜ直感に反するか？
23人から2人を選ぶペアの数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>23</mn><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mn>253</mn></mrow><annotation encoding="application/x-tex">\\binom{23}{2} = 253</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2451em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">23</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">253</span></span></span></span> 組です．
人数は23人しかいなくても，ペアは253組もある．
このペアのどれか1つでも一致すればいい ―
だから意外なほど少人数で衝突が起きるのです．</p>
<p>衝突確率の式は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mtext>衝突</mtext><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><msubsup><mo>∏</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mfrac><mrow><mn>365</mn><mo>−</mo><mi>i</mi></mrow><mn>365</mn></mfrac></mrow><annotation encoding="application/x-tex">P(\\text{衝突}) = 1 - \\prod_{i=0}^{n-1} \\frac{365-i}{365}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord text"><span class="mord cjk_fallback">衝突</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.299em;vertical-align:-0.345em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∏</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8557em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">365</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">365</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> です．
全員が異なる確率の余事象として計算しています．</p>
<p>この直感に反する結果は，第8回のハッシュ衝突と深く関係します．
ハッシュテーブルで <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 個のスロットがあるとき，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> 個程度のデータを格納しただけで衝突が発生しやすくなる ―
これがハッシュ設計における重要な知見です．
覚えておいてください．」</p>
`,raw:"",frontmatter:zs,filepath:"",start:594,id:14,no:15},__clicksContext:null,__preloaded:!1}),rp={layout:"section-divider"},Ss=L(rp),mp=z({get layout(){return Ss.layout},get transition(){return Ss.transition},get class(){return Ss.class},get clicks(){return Ss.clicks},get name(){return Ss.name},get preload(){return Ss.preload},slide:{content:"",revision:"b0f0am",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 2",level:1,index:15,noteHTML:`<p>「場合の数ができたので，確率と期待値に進みます．
冒頭のガチャの答えを導く道具を手に入れましょう．」</p>
`,raw:"",frontmatter:Ss,filepath:"",start:650,id:15,no:16},__clicksContext:null,__preloaded:!1}),op={},Os=L(op),cp=z({get layout(){return Os.layout},get transition(){return Os.transition},get class(){return Os.class},get clicks(){return Os.clicks},get name(){return Os.name},get preload(){return Os.preload},slide:{content:"",revision:"kc8u0i",note:"",title:"確率の基本",level:2,index:16,noteHTML:`<p>「確率の定義を確認します．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span> = 事象Aが起きる場合の数 / すべての場合の数．</p>
<p>基本性質は3つ．
確率は0以上1以下．
すべての場合の確率の合計は1．
AまたはBの確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><mi>A</mi><mtext>かつ</mtext><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(A) + P(B) - P(A \\text{かつ} B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord text"><span class="mord cjk_fallback">かつ</span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span>．</p>
<p>最後の式は第3回の包除原理と同じです．</p>
<p>サイコロで偶数が出る確率は，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\\{2, 4, 6\\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">}</span></span></span></span> の3通り ÷ 全6通り = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">1/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span></span></span></span> です．</p>
<p>Part 1の場合の数がここで活きます．
確率は場合の数の比ですから．」</p>
`,raw:"",frontmatter:Os,filepath:"",start:664,id:16,no:17},__clicksContext:null,__preloaded:!1}),hp={},Es=L(hp),gp=z({get layout(){return Es.layout},get transition(){return Es.transition},get class(){return Es.class},get clicks(){return Es.clicks},get name(){return Es.name},get preload(){return Es.preload},slide:{content:"",revision:"vuoq69",note:"",title:"確率の計算例",level:2,index:17,noteHTML:`<p>「いくつか計算してみましょう．</p>
<p>トランプ52枚から1枚引いて，ハートを引く確率．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>13</mn><mi mathvariant="normal">/</mi><mn>52</mn><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">13/52 = 1/4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">13/52</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/4</span></span></span></span> です．</p>
<p>サイコロ2個を振って，合計が7になる確率．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>5</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>6</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> の6通り．
全体は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>×</mo><mn>6</mn><mo>=</mo><mn>36</mn></mrow><annotation encoding="application/x-tex">6 \\times 6 = 36</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">36</span></span></span></span> 通り．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mi mathvariant="normal">/</mi><mn>36</mn><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>6</mn></mrow><annotation encoding="application/x-tex">6/36 = 1/6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">6/36</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/6</span></span></span></span> ．
実は合計7が最も出やすい値です．</p>
<p>コイン3回投げて全部表になる確率．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><msup><mn>2</mn><mn>3</mn></msup><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>8</mn></mrow><annotation encoding="application/x-tex">1/2^3 = 1/8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/8</span></span></span></span> です．</p>
<p>コイン3回投げて2回以上表が出る確率．
2回表: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>3</mn><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">\\binom{3}{2} = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2451em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> 通り，3回表: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>3</mn><mn>3</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\\binom{3}{3} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2451em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 通り．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi mathvariant="normal">/</mi><mn>8</mn><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">4/8 = 1/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4/8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span></span></span></span> です．</p>
<p>場合の数を正確に数えることが，確率計算の基礎です．」</p>
`,raw:"",frontmatter:Es,filepath:"",start:715,id:17,no:18},__clicksContext:null,__preloaded:!1}),up={},Ns=L(up),dp=z({get layout(){return Ns.layout},get transition(){return Ns.transition},get class(){return Ns.class},get clicks(){return Ns.clicks},get name(){return Ns.name},get preload(){return Ns.preload},slide:{content:"",revision:"zg9z91",note:"",title:"期待値",level:2,index:18,noteHTML:`<p>「期待値とは，確率変数の『平均的な値』です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mo>∑</mo><mi>i</mi></msub><msub><mi>x</mi><mi>i</mi></msub><mo>⋅</mo><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo>=</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E[X] = \\sum_i x_i \\cdot P(X = x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.162em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>各結果にその確率を掛けて，全部足す．</p>
<p>サイコロの期待値を計算すると，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>6</mn><mo>+</mo><mn>2</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>6</mn><mo>+</mo><mn>3</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>6</mn><mo>+</mo><mn>4</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>6</mn><mo>+</mo><mn>5</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>6</mn><mo>+</mo><mn>6</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>6</mn><mo>=</mo><mn>21</mn><mi mathvariant="normal">/</mi><mn>6</mn><mo>=</mo><mn>3.5</mn></mrow><annotation encoding="application/x-tex">1 \\times 1/6 + 2 \\times 1/6 + 3 \\times 1/6 + 4 \\times 1/6 + 5 \\times 1/6 + 6 \\times 1/6 = 21/6 = 3.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">21/6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3.5</span></span></span></span></p>
<p>3.5という目は実際には出ませんが，
何千回も振って平均を取ると，3.5に収束していきます．</p>
<p>期待値は長い目で見たときの平均です．
ギャンブルの胴元はこの期待値を使って，確実に利益を出しています．」</p>
`,raw:"",frontmatter:Ns,filepath:"",start:760,id:18,no:19},__clicksContext:null,__preloaded:!1}),fp={},Ps=L(fp),yp=z({get layout(){return Ps.layout},get transition(){return Ps.transition},get class(){return Ps.class},get clicks(){return Ps.clicks},get name(){return Ps.name},get preload(){return Ps.preload},slide:{content:"",revision:"-x60jfn",note:"",title:"期待値の計算例",level:2,index:19,noteHTML:`<p>「もう少し実用的な例を見てみましょう．</p>
<p>宝くじの期待値を計算します．
1等300万円が10万分の1，2等10万円が1万分の1，3等1000円が100分の1．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mtext>当選金</mtext><mo stretchy="false">]</mo><mo>=</mo><mn>300</mn><mtext>万</mtext><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>10</mn><mtext>万</mtext><mo>+</mo><mn>10</mn><mtext>万</mtext><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>1</mn><mtext>万</mtext><mo>+</mo><mn>1000</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>100</mn></mrow><annotation encoding="application/x-tex">E[\\text{当選金}] = 300万 \\times 1/10万 + 10万 \\times 1/1万 + 1000 \\times 1/100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord text"><span class="mord cjk_fallback">当選金</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">300</span><span class="mord cjk_fallback">万</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/10</span><span class="mord cjk_fallback">万</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mord cjk_fallback">万</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/1</span><span class="mord cjk_fallback">万</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/100</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mn>30</mn><mo>+</mo><mn>10</mn><mo>+</mo><mn>10</mn><mo>=</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">= 30 + 10 + 10 = 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">30</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50</span></span></span></span> 円</p>
<p>1枚300円の宝くじの期待値が50円．
平均で250円の損です．</p>
<p>もちろん，宝くじは夢を買うもの，と言うこともできます．
数学的には正しくない投資ですが，期待値だけが人生の価値ではない．</p>
<p>ただし，確率的な意思決定をするとき，
期待値は最も基本的な判断基準です．」</p>
`,raw:"",frontmatter:Ps,filepath:"",start:807,id:19,no:20},__clicksContext:null,__preloaded:!1}),wp={},$s=L(wp),vp=z({get layout(){return $s.layout},get transition(){return $s.transition},get class(){return $s.class},get clicks(){return $s.clicks},get name(){return $s.name},get preload(){return $s.preload},slide:{content:"",revision:"-jzu2ps",note:"",title:"期待値の線形性",level:2,index:20,noteHTML:`<p>「確率論で最も強力な道具を紹介します．</p>
<p>期待値の線形性:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo>+</mo><mi>Y</mi><mo stretchy="false">]</mo><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>+</mo><mi>E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">E[X + Y] = E[X] + E[Y]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span></span></span></span></p>
<p>この式の驚くべき点は，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> が独立でなくても成り立つことです．
互いに影響し合う確率変数であっても，期待値の和は分解できる．</p>
<p>サイコロを3回振った合計の期待値は？
各回の期待値は3.5なので，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3.5</mn><mo>+</mo><mn>3.5</mn><mo>+</mo><mn>3.5</mn><mo>=</mo><mn>10.5</mn></mrow><annotation encoding="application/x-tex">3.5 + 3.5 + 3.5 = 10.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3.5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10.5</span></span></span></span>．</p>
<p>3つの和の確率分布を求めるのは面倒です．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>6</mn><mn>3</mn></msup><mo>=</mo><mn>216</mn></mrow><annotation encoding="application/x-tex">6^3 = 216</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">216</span></span></span></span> 通りの場合分けが必要になる．
でも期待値の線形性なら，分布を知らなくても期待値だけは即座に求まる．」</p>
`,raw:"",frontmatter:$s,filepath:"",start:853,id:20,no:21},__clicksContext:null,__preloaded:!1}),xp={},As=L(xp),kp=z({get layout(){return As.layout},get transition(){return As.transition},get class(){return As.class},get clicks(){return As.clicks},get name(){return As.name},get preload(){return As.preload},slide:{content:"",revision:"6ufh3f",note:"",title:"線形性の威力 — 応用例",level:2,index:21,noteHTML:`<p>「線形性の応用例を2つ見てみましょう．</p>
<p>例1: コイン100回投げて表が出る回数の期待値．
各回で表が出る回数の期待値は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">1/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span></span></span></span>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo>=</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">100 \\times 1/2 = 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">100</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50</span></span></span></span> 回．
直感的には当たり前ですが，線形性を使えば一瞬で出ます．</p>
<p>例2: 100人のクラスで誕生日が一致するペアの期待数．
ペア <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i, j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> の誕生日が一致する確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>365</mn></mrow><annotation encoding="application/x-tex">1/365</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/365</span></span></span></span>．
ペアの数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>100</mn><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mn>4950</mn></mrow><annotation encoding="application/x-tex">\\binom{100}{2} = 4950</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2451em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8951em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">100</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4950</span></span></span></span>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4950</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>365</mn><mo>≈</mo><mn>13.6</mn></mrow><annotation encoding="application/x-tex">4950 \\times 1/365 \\approx 13.6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4950</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/365</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">13.6</span></span></span></span> 組．</p>
<p>注意してください ― 各ペアは独立ではありません．
AとBの誕生日が一致していれば，AとCの一致確率にも影響するはず．
でも線形性は使えるのです．
独立でなくても成立する ― これが線形性の本当の威力です．」</p>
`,raw:"",frontmatter:As,filepath:"",start:905,id:21,no:22},__clicksContext:null,__preloaded:!1}),bp={},Ts=L(bp),Mp=z({get layout(){return Ts.layout},get transition(){return Ts.transition},get class(){return Ts.class},get clicks(){return Ts.clicks},get name(){return Ts.name},get preload(){return Ts.preload},slide:{content:"",revision:"6nq73q",note:"",title:"幾何分布と待ち時間",level:2,index:22,noteHTML:`<p>「クーポンコレクター問題を解くために，もう1つ道具を仕入れます．</p>
<p>確率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> の事象が初めて起きるまで，平均何回かかるか？
答えは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">1/p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal">p</span></span></span></span> 回です．これを幾何分布の期待値といいます．</p>
<p>具体例で確認しましょう．
確率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">1/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span></span></span></span> のコインで表が出るまで: 平均2回．
確率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>6</mn></mrow><annotation encoding="application/x-tex">1/6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/6</span></span></span></span> のサイコロで6が出るまで: 平均6回．
確率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>100</mn></mrow><annotation encoding="application/x-tex">1/100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/100</span></span></span></span> のガチャでSSRが出るまで: 平均100回．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> が小さいほど待ちが長くなる ― 当たり前ですが，
正確に <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">1/p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal">p</span></span></span></span> 回であることが数学的に証明できます．</p>
<p>この道具が，次のクーポンコレクター問題で大活躍します．」</p>
`,raw:"",frontmatter:Ts,filepath:"",start:948,id:22,no:23},__clicksContext:null,__preloaded:!1}),_p={},Cs=L(_p),Lp=z({get layout(){return Cs.layout},get transition(){return Cs.transition},get class(){return Cs.class},get clicks(){return Cs.clicks},get name(){return Cs.name},get preload(){return Cs.preload},slide:{content:"",revision:"-ed3rs4",note:"",title:"クーポンコレクター問題 — 設定",level:2,index:23,noteHTML:`<p>「いよいよ，冒頭のガチャの問題を解きましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 種類のアイテムがあるガチャ．毎回ランダムに1つ出る．
全種類コンプリートするのに，平均何回引く必要があるか？
これをクーポンコレクター問題と呼びます．</p>
<p>状況を整理します．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 種類すでに持っている状態で，次に新しいものが出る確率はいくつか？</p>
<p>全体が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 種類で，持っているのが <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 種類．
持っていないのは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">N - k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 種類．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mtext>新しいものが出る</mtext><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>N</mi><mo>−</mo><mi>k</mi></mrow><mi>N</mi></mfrac></mrow><annotation encoding="application/x-tex">P(\\text{新しいものが出る}) = \\frac{N - k}{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord text"><span class="mord cjk_fallback">新しいものが出る</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">k = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> のとき，確率は1です．1回目は必ず新しいアイテムですね．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k = N - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> のとき ― つまり最後の1種類 ― 確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">1/N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> です．</p>
<p>最後の1つが圧倒的に出にくい．
これがコンプリートの難しさの正体です．」</p>
`,raw:"",frontmatter:Cs,filepath:"",start:993,id:23,no:24},__clicksContext:null,__preloaded:!1}),zp={},Ds=L(zp),Sp=z({get layout(){return Ds.layout},get transition(){return Ds.transition},get class(){return Ds.class},get clicks(){return Ds.clicks},get name(){return Ds.name},get preload(){return Ds.preload},slide:{content:"",revision:"-u9kgjk",note:"",title:"クーポンコレクター問題 — 導出",level:2,index:24,noteHTML:`<p>「導出を3ステップで行います．</p>
<p>ステップ1: 各段階の待ち時間．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 種類持っている状態から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">k+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 種類になるまでの期待回数は，
さっき学んだ幾何分布の期待値 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">1/p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal">p</span></span></span></span> を使って，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>N</mi><mrow><mi>N</mi><mo>−</mo><mi>k</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\\frac{N}{N-k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2757em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 回です．</p>
<p>ステップ2: 全体は各段階の和．
期待値の線形性がここで活躍します．
各段階の期待値を足すだけでよい．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mtext>合計</mtext><mo stretchy="false">]</mo><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mfrac><mi>N</mi><mrow><mi>N</mi><mo>−</mo><mi>k</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">E[\\text{合計}] = \\sum_{k=0}^{N-1} \\frac{N}{N-k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord text"><span class="mord cjk_fallback">合計</span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3846em;vertical-align:-0.4033em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>ステップ3: Σを変形する．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi><mo>=</mo><mi>N</mi><mo>−</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">j = N - k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> と置くと，</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mfrac><mi>N</mi><mrow><mi>N</mi><mo>−</mo><mi>k</mi></mrow></mfrac><mo>=</mo><mi>N</mi><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mfrac><mn>1</mn><mi>j</mi></mfrac><mo>=</mo><mi>N</mi><mo>⋅</mo><msub><mi>H</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">\\sum_{k=0}^{N-1} \\frac{N}{N-k} = N \\sum_{j=1}^{N} \\frac{1}{j} = N \\cdot H_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3846em;vertical-align:-0.4033em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4623em;vertical-align:-0.4811em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>N</mi></msub><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></msubsup><mn>1</mn><mi mathvariant="normal">/</mi><mi>j</mi></mrow><annotation encoding="application/x-tex">H_N = \\sum_{j=1}^{N} 1/j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.417em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> は調和級数です．
第3回のΣが再登場しました．」</p>
`,raw:"",frontmatter:Ds,filepath:"",start:1049,id:24,no:25},__clicksContext:null,__preloaded:!1}),Op={},Rs=L(Op),Ep=z({get layout(){return Rs.layout},get transition(){return Rs.transition},get class(){return Rs.class},get clicks(){return Rs.clicks},get name(){return Rs.name},get preload(){return Rs.preload},slide:{content:"",revision:"lfx4jb",note:"",title:"クーポンコレクター問題 — 数値と直感",level:2,index:25,noteHTML:`<p>「<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">N = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> の場合を計算します．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mo>×</mo><msub><mi>H</mi><mn>10</mn></msub><mo>=</mo><mn>10</mn><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo>+</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>3</mn><mo>+</mo><mo>⋯</mo><mo>+</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>10</mn><mo stretchy="false">)</mo><mo>≈</mo><mn>10</mn><mo>×</mo><mn>2.93</mn><mo>=</mo><mn>29.3</mn></mrow><annotation encoding="application/x-tex">10 \\times H_{10} = 10 \\times (1 + 1/2 + 1/3 + \\cdots + 1/10) \\approx 10 \\times 2.93 = 29.3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/10</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2.93</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">29.3</span></span></span></span> 回．</p>
<p>内訳を見てみましょう．</p>
<p>最初: 0種類から1種類へ．確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mi mathvariant="normal">/</mi><mn>10</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">10/10 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">10/10</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>．期待回数は1.0回．
中盤: 5種類から6種類へ．確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi mathvariant="normal">/</mi><mn>10</mn><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">5/10 = 0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5/10</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.5</span></span></span></span>．期待回数は2.0回．
終盤: 8種類から9種類へ．確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi mathvariant="normal">/</mi><mn>10</mn><mo>=</mo><mn>0.2</mn></mrow><annotation encoding="application/x-tex">2/10 = 0.2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2/10</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.2</span></span></span></span>．期待回数は5.0回．
最後: 9種類から10種類へ．確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>10</mn><mo>=</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">1/10 = 0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/10</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.1</span></span></span></span>．期待回数は <strong>10.0回</strong> ．</p>
<p>最後の1種類だけで10回もかかります．
全体29回の約3分の1が，最後の1つのために使われている．</p>
<p>『あと1つが出ない……』というのは，数学的に正しい嘆きだったのです．」</p>
`,raw:"",frontmatter:Rs,filepath:"",start:1097,id:25,no:26},__clicksContext:null,__preloaded:!1}),Np={},js=L(Np),Pp=z({get layout(){return js.layout},get transition(){return js.transition},get class(){return js.class},get clicks(){return js.clicks},get name(){return js.name},get preload(){return js.preload},slide:{content:"",revision:"juteau",note:"",title:"調和級数と$\\Sigma$の接続",level:2,index:26,noteHTML:`<p>「調和級数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">H_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> についてもう少し見ておきましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>N</mi></msub><mo>=</mo><mn>1</mn><mo>+</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo>+</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>3</mn><mo>+</mo><mo>⋯</mo><mo>+</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">H_N = 1 + 1/2 + 1/3 + \\cdots + 1/N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mn>10</mn></msub><mo>≈</mo><mn>2.93</mn></mrow><annotation encoding="application/x-tex">H_{10} \\approx 2.93</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2.93</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mn>100</mn></msub><mo>≈</mo><mn>5.19</mn></mrow><annotation encoding="application/x-tex">H_{100} \\approx 5.19</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">100</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5.19</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mn>1000</mn></msub><mo>≈</mo><mn>7.49</mn></mrow><annotation encoding="application/x-tex">H_{1000} \\approx 7.49</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1000</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7.49</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mn>1000000</mn></msub><mo>≈</mo><mn>14.39</mn></mrow><annotation encoding="application/x-tex">H_{1000000} \\approx 14.39</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1000000</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">14.39</span></span></span></span>．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>N</mi></msub><mo>≈</mo><mi>ln</mi><mo>⁡</mo><mi>N</mi><mo>+</mo><mn>0.577</mn></mrow><annotation encoding="application/x-tex">H_N \\approx \\ln N + 0.577</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.577</span></span></span></span> ．この0.577はオイラー・マスケローニ定数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span></span></span></span> と呼ばれます．</p>
<p>これをクーポンコレクター問題に適用すると，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">N = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span> 種類なら約519回，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">N = 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span> 種類なら約7490回必要です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> が大きくなると <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">N \\log N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 回が必要になる．
種類が多いほどコンプリートは困難です．</p>
<p>余談ですが，この調和級数は実はゆっくりと無限大に発散します．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo>+</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>3</mn><mo>+</mo><mo>⋯</mo></mrow><annotation encoding="application/x-tex">1 + 1/2 + 1/3 + \\cdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.313em;"></span><span class="minner">⋯</span></span></span></span> は永遠に足し続けると無限になる．
にもかかわらず，増え方が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ln</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\\ln N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 程度でとても遅い ―
対数的な増え方の具体例ですね．」</p>
`,raw:"",frontmatter:js,filepath:"",start:1146,id:26,no:27},__clicksContext:null,__preloaded:!1}),$p={layout:"section-divider"},Hs=L($p),Ap=z({get layout(){return Hs.layout},get transition(){return Hs.transition},get class(){return Hs.class},get clicks(){return Hs.clicks},get name(){return Hs.name},get preload(){return Hs.preload},slide:{content:"",revision:"-l8ircg",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 3",level:1,index:27,noteHTML:`<p>「数式で正確な値を求めるのが難しい問題もあります．
そんなとき，コンピュータの力を借りる方法 ― モンテカルロ法 ― を学びましょう．」</p>
`,raw:"",frontmatter:Hs,filepath:"",start:1200,id:27,no:28},__clicksContext:null,__preloaded:!1}),Tp={},Is=L(Tp),Cp=z({get layout(){return Is.layout},get transition(){return Is.transition},get class(){return Is.class},get clicks(){return Is.clicks},get name(){return Is.name},get preload(){return Is.preload},slide:{content:"",revision:"equa58",note:"",title:"モンテカルロ法とは",level:2,index:28,noteHTML:`<p>「モンテカルロ法とは，乱数を使って近似値を求めるシミュレーション手法です．</p>
<p>1940年代に，数学者スタニスワフ・ウラムとジョン・フォン・ノイマンが命名しました．
彼らはマンハッタン計画 ― 原爆開発 ― で中性子の散乱をシミュレーションするために
この方法を考案しました．</p>
<p>名前の由来は，カジノで有名なモナコ公国のモンテカルロ地区．
乱数 ― ランダムさ ― を使うから，ギャンブルの街にちなんだわけです．</p>
<p>アイデアは非常にシンプルです．
数学の公式が使えない問題でも，
ランダムに大量の実験をすれば答えが近似できる ―
それがモンテカルロ法です．」</p>
`,raw:"",frontmatter:Is,filepath:"",start:1214,id:28,no:29},__clicksContext:null,__preloaded:!1}),Dp={},Vs=L(Dp),Rp=z({get layout(){return Vs.layout},get transition(){return Vs.transition},get class(){return Vs.class},get clicks(){return Vs.clicks},get name(){return Vs.name},get preload(){return Vs.preload},slide:{content:"",revision:"-zcdcnm",note:"",title:"円周率の計算原理",level:2,index:29,noteHTML:`<p>「最も有名な例で，円周率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> を計算してみましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \\times 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> の正方形を考えます．
その中に，原点を中心とした半径1の四分円が入っています．</p>
<p>正方形の中にランダムに点を打ちます．
原点からの距離が1以下なら『円の内側』，そうでなければ『外側』．</p>
<p>四分円の面積は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mi mathvariant="normal">/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">\\pi / 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord">/4</span></span></span></span>，正方形の面積は1．
したがって，ランダムに点を打ったとき，
円の内側に入る確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mi mathvariant="normal">/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">\\pi / 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mord">/4</span></span></span></span> です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo>≈</mo><mn>4</mn><mo>×</mo><mfrac><mtext>円の内側の点の数</mtext><mtext>全体の点の数</mtext></mfrac></mrow><annotation encoding="application/x-tex">\\pi \\approx 4 \\times \\frac{\\text{円の内側の点の数}}{\\text{全体の点の数}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">全体の点の数</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">円の内側の点の数</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>100個の点を打って78個が円の内側に入ったとします．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> の近似値はいくつになりますか？</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>×</mo><mn>78</mn><mi mathvariant="normal">/</mi><mn>100</mn><mo>=</mo><mn>3.12</mn></mrow><annotation encoding="application/x-tex">4 \\times 78/100 = 3.12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">78/100</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3.12</span></span></span></span>．
実際の <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi><mo>≈</mo><mn>3.14159</mn></mrow><annotation encoding="application/x-tex">\\pi \\approx 3.14159</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3.14159</span></span></span></span> にそこそこ近いですね．」</p>
`,raw:"",frontmatter:Vs,filepath:"",start:1254,id:29,no:30},__clicksContext:null,__preloaded:!1}),jp={layout:"interactive"},qs=L(jp),Hp=z({get layout(){return qs.layout},get transition(){return qs.transition},get class(){return qs.class},get clicks(){return qs.clicks},get name(){return qs.name},get preload(){return qs.preload},slide:{content:"",revision:"-b2fl90",frontmatterRaw:`layout: interactive
`,note:"",title:"モンテカルロ法で円周率を求めよう",level:2,index:30,noteHTML:`<p>「画面のMonteCarloPIを使って，実際に体験してみましょう．</p>
<p>ボタンを押すと，ランダムに点が打たれていきます．
青い点が円の内側，赤い点が外側です．</p>
<p>まず10個打ってみてください．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> の推定値はどうですか？
かなりズレているはずです．</p>
<p>次に100個．少しましになりましたか？</p>
<p>1000個．だいぶ安定してきました．</p>
<p>10000個．かなり正確になってきたはずです．</p>
<p>自由に <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> の値を変えて試してみてください．
同じ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> でも実行するたびに値が変わることに注目してください．
ランダムだからです．」</p>
`,raw:"",frontmatter:qs,filepath:"",start:1307,id:30,no:31},__clicksContext:null,__preloaded:!1}),Ip={},Fs=L(Ip),Vp=z({get layout(){return Fs.layout},get transition(){return Fs.transition},get class(){return Fs.class},get clicks(){return Fs.clicks},get name(){return Fs.name},get preload(){return Fs.preload},slide:{content:"",revision:"n8sl8v",note:"",title:"試行回数と精度",level:2,index:31,noteHTML:`<p>「試行回数と精度の関係を見ておきましょう．</p>
<p>100回の試行で誤差は0.1〜0.3程度．
1000回で0.03〜0.1．
10000回で0.01〜0.03．
100万回で0.001〜0.003．</p>
<p>精度は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(1/\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord">1/</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> で改善されます．
精度を10倍にしたければ，試行回数を100倍にしなければならない．</p>
<p>なぜ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">1/\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> かというと，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 個のサンプルの平均の標準偏差が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">1/\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> に比例するからです．
これは大数の法則から導かれます．</p>
<p>効率は悪い ― でも，どんな問題にも使える．
それがモンテカルロ法の価値です．」</p>
`,raw:"",frontmatter:Fs,filepath:"",start:1336,id:31,no:32},__clicksContext:null,__preloaded:!1}),qp={},Bs=L(qp),Fp=z({get layout(){return Bs.layout},get transition(){return Bs.transition},get class(){return Bs.class},get clicks(){return Bs.clicks},get name(){return Bs.name},get preload(){return Bs.preload},slide:{content:"",revision:"-kqc8a4",note:"",title:"モンテカルロ法の真価",level:2,index:32,noteHTML:`<p>「実は，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span> の計算にはモンテカルロ法は向いていません．
公式を使えば何兆桁でも正確に計算できますから．</p>
<p>ではなぜ重要か？
公式が存在しない問題に使えるからです．</p>
<p>金融工学では，デリバティブの価格計算にモンテカルロ法が使われています．
将来の株価の変動をランダムに何万回もシミュレーションして，平均的な価値を求める．</p>
<p>気象予報では，大気の乱流をシミュレーションしています．
初期条件をわずかに変えて何百回も計算し，確率的に天気を予測する．</p>
<p>医薬品開発では，タンパク質の折りたたみをシミュレーションして，
薬が効くかどうかを予測しています．</p>
<p>物理学，AI，ゲーム開発 ―
あらゆる分野でモンテカルロ法が使われています．</p>
<p>正確ではないが，どんな問題にも使える ― この汎用性がモンテカルロ法の強みです．」</p>
`,raw:"",frontmatter:Bs,filepath:"",start:1392,id:32,no:33},__clicksContext:null,__preloaded:!1}),Bp={layout:"section-divider"},Ws=L(Bp),Wp=z({get layout(){return Ws.layout},get transition(){return Ws.transition},get class(){return Ws.class},get clicks(){return Ws.clicks},get name(){return Ws.name},get preload(){return Ws.preload},slide:{content:"",revision:"kyu7d7",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 4",level:1,index:33,noteHTML:`<p>「最後に，確率がコンピュータサイエンスとAIをどう動かしているかを見ましょう．」</p>
`,raw:"",frontmatter:Ws,filepath:"",start:1443,id:33,no:34},__clicksContext:null,__preloaded:!1}),Up={},Us=L(Up),Jp=z({get layout(){return Us.layout},get transition(){return Us.transition},get class(){return Us.class},get clicks(){return Us.clicks},get name(){return Us.name},get preload(){return Us.preload},slide:{content:"",revision:"oxcobn",note:"",title:"ChatGPTと確率",level:2,index:34,noteHTML:`<p>「ChatGPTはどうやって文章を生成しているか？</p>
<p>実は，『次に来る単語の確率分布』を計算して，
その確率に基づいてランダムに単語を選んでいます．</p>
<p>『今日の天気は』の次に来る単語の確率:
晴れ 30%，曇り 25%，雨 20%，良い 15%，……</p>
<p>この確率分布から1つ選ぶ．それを繰り返して文章ができます．</p>
<p>だから，同じ質問をしてもChatGPTは毎回微妙に違う答えを返すのです．
確率的に単語を選んでいるから．</p>
<p>興味深いのは，この確率的な選択が
人間らしい多様な表現を生み出すことです．
もし常に最も確率の高い単語だけを選んだら，
非常に退屈な文章になってしまいます．</p>
<p>確率 = 曖昧さ ではなく，確率 = 人間らしい多様性 を生む仕組みなのです．」</p>
`,raw:"",frontmatter:Us,filepath:"",start:1456,id:34,no:35},__clicksContext:null,__preloaded:!1}),Gp={},Js=L(Gp),Kp=z({get layout(){return Js.layout},get transition(){return Js.transition},get class(){return Js.class},get clicks(){return Js.clicks},get name(){return Js.name},get preload(){return Js.preload},slide:{content:"",revision:"6d7mou",note:"",title:"AlphaGoとモンテカルロ木探索",level:2,index:35,noteHTML:`<p>「2016年，AIのAlphaGoが囲碁の世界チャンピオン李世乭に4勝1敗で勝利しました．
AI史上の大事件です．</p>
<p>核心技術の1つが，今日学んだモンテカルロ法の応用 ―
モンテカルロ木探索（MCTS）です．</p>
<p>仕組みは3ステップ．</p>
<ol>
<li>現在の局面から，先の手をランダムに大量にシミュレーションする．</li>
<li>各手について，勝率を推定する．</li>
<li>最も勝率が高い手を選ぶ．</li>
</ol>
<p>なぜモンテカルロ法が必要かというと，
囲碁の全局面数は約 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>170</mn></msup></mrow><annotation encoding="application/x-tex">10^{170}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">170</span></span></span></span></span></span></span></span></span></span></span></span> あります．
宇宙の原子数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>80</mn></msup></mrow><annotation encoding="application/x-tex">10^{80}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">80</span></span></span></span></span></span></span></span></span></span></span></span> よりはるかに多い．</p>
<p>全探索は不可能 ― ランダムサンプリングで近似するのが現実的な唯一の方法です．</p>
<p>今日学んだ『乱数で近似する』という発想が，
人類最強の棋士に勝つAIを生み出しました．」</p>
`,raw:"",frontmatter:Js,filepath:"",start:1510,id:35,no:36},__clicksContext:null,__preloaded:!1}),Yp={},Gs=L(Yp),Qp=z({get layout(){return Gs.layout},get transition(){return Gs.transition},get class(){return Gs.class},get clicks(){return Gs.clicks},get name(){return Gs.name},get preload(){return Gs.preload},slide:{content:"",revision:"okrqd",note:"",title:"確率的アルゴリズム",level:2,index:36,noteHTML:`<p>「確率を使うアルゴリズムは，この授業の中にもたくさん登場します．</p>
<p>ミラー・ラビン素数判定 ― 第4回で名前だけ紹介しましたね．
『たぶん素数』を高い確率で判定するアルゴリズムです．</p>
<p>クイックソートのピボット選択 ― 第6回で学びます．
ランダムに選ぶことで最悪ケースを回避できる．</p>
<p>ハッシュ関数 ― 第8回で学びます．
データをランダムに散らして衝突を減らす．</p>
<p>モンテカルロ木探索 ― 今日学びました．</p>
<p>確率的アルゴリズムには2つのタイプがあります．
ラスベガス型 ― 答えは常に正しいが，実行時間がランダム．クイックソートがこれです．
モンテカルロ型 ― 実行時間は確定的だが，答えが確率的に正しい．ミラー・ラビン法がこれです．</p>
<p>確率は弱さではなく武器です．
確率を味方につけると，決定的アルゴリズムより効率的になることがある ―
これは第6回以降で具体的に見ていきます．」</p>
`,raw:"",frontmatter:Gs,filepath:"",start:1562,id:36,no:37},__clicksContext:null,__preloaded:!1}),Xp={layout:"section-divider"},Ks=L(Xp),Zp=z({get layout(){return Ks.layout},get transition(){return Ks.transition},get class(){return Ks.class},get clicks(){return Ks.clicks},get name(){return Ks.name},get preload(){return Ks.preload},slide:{content:"",revision:"-p5h6uq",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 5",level:1,index:37,noteHTML:`<p>「最後にまとめと確認問題です．」</p>
`,raw:"",frontmatter:Ks,filepath:"",start:1612,id:37,no:38},__clicksContext:null,__preloaded:!1}),sr={layout:"summary"},Ys=L(sr),ar=z({get layout(){return Ys.layout},get transition(){return Ys.transition},get class(){return Ys.class},get clicks(){return Ys.clicks},get name(){return Ys.name},get preload(){return Ys.preload},slide:{content:"",revision:"wpevom",frontmatterRaw:`layout: summary
`,note:"",title:"本日のまとめ",level:2,index:38,noteHTML:`<p>「今日のポイントを5つにまとめます．</p>
<p>1つ目，場合の数．
順列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mi>n</mi></msub><msub><mi mathvariant="normal">P</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">_n\\mathrm{P}_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（順序あり），組合せ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>n</mi><mi>r</mi></mfrac><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\\binom{n}{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7454em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span>（順序なし），
重複順列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mi>r</mi></msup></mrow><annotation encoding="application/x-tex">n^r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span>（同じものを繰り返し選べる）．</p>
<p>2つ目，期待値の線形性．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo>+</mo><mi>Y</mi><mo stretchy="false">]</mo><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>+</mo><mi>E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">E[X+Y] = E[X] + E[Y]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span></span></span></span> は独立でなくても成立．
確率論で最も使い勝手のいい道具です．</p>
<p>3つ目，クーポンコレクター問題．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 種類コンプリートに平均 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>⋅</mo><msub><mi>H</mi><mi>N</mi></msub><mo>≈</mo><mi>N</mi><mi>ln</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">N \\cdot H_N \\approx N \\ln N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 回．
最後の1つが一番つらい．</p>
<p>4つ目，モンテカルロ法．
乱数で近似．精度は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(1/\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord">1/</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>．
正確ではないが何にでも使える．</p>
<p>5つ目，確率はAIの基盤．
ChatGPTの文章生成もAlphaGoの手の選択も確率的です．</p>
<p>教科書の対応箇所は第4章の4.1から4.5です．」</p>
`,raw:"",frontmatter:Ys,filepath:"",start:1624,id:38,no:39},__clicksContext:null,__preloaded:!1}),tr={layout:"question"},Qs=L(tr),nr=z({get layout(){return Qs.layout},get transition(){return Qs.transition},get class(){return Qs.class},get clicks(){return Qs.clicks},get name(){return Qs.name},get preload(){return Qs.preload},slide:{content:"",revision:"-6tioec",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ①",level:2,index:39,noteHTML:`<p>「確認問題です．</p>
<p>英小文字（a-z，26種類）4文字のパスワードの組合せ数は？</p>
<p>選択肢は，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>×</mo><mn>26</mn></mrow><annotation encoding="application/x-tex">4 \\times 26</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">26</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">4!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">4</span><span class="mclose">!</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>26</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">26^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">2</span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mn>26</mn></msub><msub><mi mathvariant="normal">P</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">_&lbrace;&lbrace;26}}\\mathrm{P}_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">26</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>．</p>
<p>……答えは3番の <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>26</mn><mn>4</mn></msup><mo>=</mo><mn>456976</mn></mrow><annotation encoding="application/x-tex">26^4 = 456976</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">2</span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">456976</span></span></span></span> 通りです．</p>
<p>各位置で26通りの文字が独立に選べて，同じ文字も使えるので，重複順列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>26</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">26^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">2</span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span> ．</p>
<p>4番の <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mn>26</mn></msub><msub><mi mathvariant="normal">P</mi><mn>4</mn></msub><mo>=</mo><mn>358800</mn></mrow><annotation encoding="application/x-tex">_&lbrace;&lbrace;26}}\\mathrm{P}_4 = 358800</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">26</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">358800</span></span></span></span> は同じ文字を使えない場合の数です．
パスワードは同じ文字を繰り返し使えるのが普通なので，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>26</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">26^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">2</span><span class="mord"><span class="mord">6</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span> が正解です．」</p>
`,raw:"",frontmatter:Qs,filepath:"",start:1667,id:39,no:40},__clicksContext:null,__preloaded:!1}),er={layout:"question"},Xs=L(er),lr=z({get layout(){return Xs.layout},get transition(){return Xs.transition},get class(){return Xs.class},get clicks(){return Xs.clicks},get name(){return Xs.name},get preload(){return Xs.preload},slide:{content:"",revision:"-109oea",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ②",level:2,index:40,noteHTML:`<p>「2問目です．</p>
<p>サイコロを5回振ったとき，出た目の合計の期待値はいくつか？</p>
<p>選択肢は，15.0，17.5，18.0，21.0．</p>
<p>……答えは2番の17.5です．</p>
<p>サイコロ1回の期待値は3.5．
期待値の線形性で，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>×</mo><mn>3.5</mn><mo>=</mo><mn>17.5</mn></mrow><annotation encoding="application/x-tex">5 \\times 3.5 = 17.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3.5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">17.5</span></span></span></span>．</p>
<p>各回の確率分布を考える必要はありません．足すだけです．
これが線形性の威力でしたね．」</p>
`,raw:"",frontmatter:Xs,filepath:"",start:1713,id:40,no:41},__clicksContext:null,__preloaded:!1}),ir={layout:"question"},Zs=L(ir),pr=z({get layout(){return Zs.layout},get transition(){return Zs.transition},get class(){return Zs.class},get clicks(){return Zs.clicks},get name(){return Zs.name},get preload(){return Zs.preload},slide:{content:"",revision:"kgab1v",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ③",level:2,index:41,noteHTML:`<p>「最後の確認問題．</p>
<p>クーポンコレクター問題で5種類のアイテムを集めるとき，
4種類持っている状態から最後の1種類を引くまでの期待回数はいくつか？</p>
<p>選択肢は，1回，2.5回，5回，10回．</p>
<p>……答えは3番の5回です．</p>
<p>4種類持っている → 新しいものが出る確率は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>5</mn><mo>−</mo><mn>4</mn></mrow><mn>5</mn></mfrac><mo>=</mo><mfrac><mn>1</mn><mn>5</mn></mfrac></mrow><annotation encoding="application/x-tex">\\frac{5-4}{5} = \\frac{1}{5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span><span class="mbin mtight">−</span><span class="mord mtight">4</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>．
幾何分布の期待値 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mn>5</mn></mrow></mfrac><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">\\frac{1}{1/5} = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3651em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1/5</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> 回．</p>
<p>最後の1種類は確率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">1/N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> でしか出ないため，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 回もかかる ―
これがコンプリートの『最後の壁』です．」</p>
`,raw:"",frontmatter:Zs,filepath:"",start:1762,id:41,no:42},__clicksContext:null,__preloaded:!1}),rr={},sa=L(rr),mr=z({get layout(){return sa.layout},get transition(){return sa.transition},get class(){return sa.class},get clicks(){return sa.clicks},get name(){return sa.name},get preload(){return sa.preload},slide:{content:"",revision:"-2xazo3",note:"",title:"次回予告",level:2,index:42,noteHTML:`<p>「次回は <strong>ソートの世界</strong> です．
ただし，次回はオンデマンド回で，対面授業はありません．
配信される教材を自分のペースで学習してください．</p>
<p>予告クイズ．
みなさんはトランプの手札を整理するとき，
無意識にあるソートアルゴリズムを使っています．
1枚ずつ手に取って，正しい位置に差し込む ― それは挿入ソートです．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> の差がどう現れるか，次回体験してもらいます．
第3回の再帰が分割統治法として活躍する場面もあります．</p>
<p>オンデマンド教材は今週中にLMSで配信します．
学習課題の提出期限は翌週の授業前日までです．
小テストはMicrosoft Formsで配信します．</p>
<p>それでは今日はここまで．ありがとうございました．」</p>
`,raw:"",frontmatter:sa,filepath:"",start:1813,id:42,no:43},__clicksContext:null,__preloaded:!1}),E=new Array(43),O=(a,s)=>vl({loader:s,delay:300,loadingComponent:Pi,errorComponent:S,onError:t=>console.error("Failed to load slide "+(a+1),t)}),dn=async()=>{try{return E[0]??=await M(()=>import("./md-IrewENWe.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},fn=async()=>{try{return E[1]??=await M(()=>import("./md-CEPC2DmM.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},yn=async()=>{try{return E[2]??=await M(()=>import("./md-DJh9WcZU.js"),__vite__mapDeps([6,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},wn=async()=>{try{return E[3]??=await M(()=>import("./md-CDdzFU5-.js"),__vite__mapDeps([8,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},vn=async()=>{try{return E[4]??=await M(()=>import("./md-CIJP8VX4.js"),__vite__mapDeps([10,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},xn=async()=>{try{return E[5]??=await M(()=>import("./md-vYxKhKYI.js"),__vite__mapDeps([11,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},kn=async()=>{try{return E[6]??=await M(()=>import("./md-HaA9AhVh.js"),__vite__mapDeps([12,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},bn=async()=>{try{return E[7]??=await M(()=>import("./md-CzAMAyB9.js"),__vite__mapDeps([13,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Mn=async()=>{try{return E[8]??=await M(()=>import("./md-C8eXHFc_.js"),__vite__mapDeps([14,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},_n=async()=>{try{return E[9]??=await M(()=>import("./md-BnHvFcTh.js"),__vite__mapDeps([15,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Ln=async()=>{try{return E[10]??=await M(()=>import("./md-Bjep8GZg.js"),__vite__mapDeps([16,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},zn=async()=>{try{return E[11]??=await M(()=>import("./md-NPEk8AFc.js"),__vite__mapDeps([17,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Sn=async()=>{try{return E[12]??=await M(()=>import("./md-Czp80Z7i.js"),__vite__mapDeps([18,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},On=async()=>{try{return E[13]??=await M(()=>import("./md-B8doSBXx.js"),__vite__mapDeps([19,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},En=async()=>{try{return E[14]??=await M(()=>import("./md-DsNmielj.js"),__vite__mapDeps([20,1,2,21,3,4,22]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Nn=async()=>{try{return E[15]??=await M(()=>import("./md-BzEm4G2v.js"),__vite__mapDeps([23,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Pn=async()=>{try{return E[16]??=await M(()=>import("./md-sq-QkbzX.js"),__vite__mapDeps([24,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},$n=async()=>{try{return E[17]??=await M(()=>import("./md-C7Zm1Vhm.js"),__vite__mapDeps([25,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},An=async()=>{try{return E[18]??=await M(()=>import("./md-qiuw9ecC.js"),__vite__mapDeps([26,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Tn=async()=>{try{return E[19]??=await M(()=>import("./md-CCEAqFeg.js"),__vite__mapDeps([27,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Cn=async()=>{try{return E[20]??=await M(()=>import("./md-DAQkoEy7.js"),__vite__mapDeps([28,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Dn=async()=>{try{return E[21]??=await M(()=>import("./md-BR08cp8c.js"),__vite__mapDeps([29,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Rn=async()=>{try{return E[22]??=await M(()=>import("./md-BGJx-V01.js"),__vite__mapDeps([30,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},jn=async()=>{try{return E[23]??=await M(()=>import("./md-HT7y5Ut5.js"),__vite__mapDeps([31,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Hn=async()=>{try{return E[24]??=await M(()=>import("./md-CJN51shM.js"),__vite__mapDeps([32,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},In=async()=>{try{return E[25]??=await M(()=>import("./md-CreaaRGL.js"),__vite__mapDeps([33,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Vn=async()=>{try{return E[26]??=await M(()=>import("./md-IUkhEAXC.js"),__vite__mapDeps([34,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},qn=async()=>{try{return E[27]??=await M(()=>import("./md-Ci11Ca-l.js"),__vite__mapDeps([35,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Fn=async()=>{try{return E[28]??=await M(()=>import("./md-DF6fdrL7.js"),__vite__mapDeps([36,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Bn=async()=>{try{return E[29]??=await M(()=>import("./md-CZcH5rqK.js"),__vite__mapDeps([37,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Wn=async()=>{try{return E[30]??=await M(()=>import("./md-DKkDqKmg.js"),__vite__mapDeps([38,1,2,21,3,4,39]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Un=async()=>{try{return E[31]??=await M(()=>import("./md-CAaiftBi.js"),__vite__mapDeps([40,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Jn=async()=>{try{return E[32]??=await M(()=>import("./md-rSWNV0HU.js"),__vite__mapDeps([41,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Gn=async()=>{try{return E[33]??=await M(()=>import("./md-CFxmCflt.js"),__vite__mapDeps([42,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Kn=async()=>{try{return E[34]??=await M(()=>import("./md-DibLr8hC.js"),__vite__mapDeps([43,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Yn=async()=>{try{return E[35]??=await M(()=>import("./md-Durcl0CF.js"),__vite__mapDeps([44,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Qn=async()=>{try{return E[36]??=await M(()=>import("./md-Cni0sZSK.js"),__vite__mapDeps([45,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Xn=async()=>{try{return E[37]??=await M(()=>import("./md-BsIStdDk.js"),__vite__mapDeps([46,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},Zn=async()=>{try{return E[38]??=await M(()=>import("./md-Me2KMRGV.js"),__vite__mapDeps([47,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},se=async()=>{try{return E[39]??=await M(()=>import("./md-BRvgN0PB.js"),__vite__mapDeps([48,1,49,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},ae=async()=>{try{return E[40]??=await M(()=>import("./md-BZGHFzxH.js"),__vite__mapDeps([50,1,49,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},te=async()=>{try{return E[41]??=await M(()=>import("./md-CMtVhymw.js"),__vite__mapDeps([51,1,49,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},ne=async()=>{try{return E[42]??=await M(()=>import("./md-boPG9dml.js"),__vite__mapDeps([52,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),S}},or=[{no:1,meta:Ai,load:dn,component:O(0,dn)},{no:2,meta:Ci,load:fn,component:O(1,fn)},{no:3,meta:Ri,load:yn,component:O(2,yn)},{no:4,meta:Hi,load:wn,component:O(3,wn)},{no:5,meta:Vi,load:vn,component:O(4,vn)},{no:6,meta:Fi,load:xn,component:O(5,xn)},{no:7,meta:Wi,load:kn,component:O(6,kn)},{no:8,meta:Ji,load:bn,component:O(7,bn)},{no:9,meta:Ki,load:Mn,component:O(8,Mn)},{no:10,meta:Qi,load:_n,component:O(9,_n)},{no:11,meta:Zi,load:Ln,component:O(10,Ln)},{no:12,meta:ap,load:zn,component:O(11,zn)},{no:13,meta:np,load:Sn,component:O(12,Sn)},{no:14,meta:lp,load:On,component:O(13,On)},{no:15,meta:pp,load:En,component:O(14,En)},{no:16,meta:mp,load:Nn,component:O(15,Nn)},{no:17,meta:cp,load:Pn,component:O(16,Pn)},{no:18,meta:gp,load:$n,component:O(17,$n)},{no:19,meta:dp,load:An,component:O(18,An)},{no:20,meta:yp,load:Tn,component:O(19,Tn)},{no:21,meta:vp,load:Cn,component:O(20,Cn)},{no:22,meta:kp,load:Dn,component:O(21,Dn)},{no:23,meta:Mp,load:Rn,component:O(22,Rn)},{no:24,meta:Lp,load:jn,component:O(23,jn)},{no:25,meta:Sp,load:Hn,component:O(24,Hn)},{no:26,meta:Ep,load:In,component:O(25,In)},{no:27,meta:Pp,load:Vn,component:O(26,Vn)},{no:28,meta:Ap,load:qn,component:O(27,qn)},{no:29,meta:Cp,load:Fn,component:O(28,Fn)},{no:30,meta:Rp,load:Bn,component:O(29,Bn)},{no:31,meta:Hp,load:Wn,component:O(30,Wn)},{no:32,meta:Vp,load:Un,component:O(31,Un)},{no:33,meta:Fp,load:Jn,component:O(32,Jn)},{no:34,meta:Wp,load:Gn,component:O(33,Gn)},{no:35,meta:Jp,load:Kn,component:O(34,Kn)},{no:36,meta:Kp,load:Yn,component:O(35,Yn)},{no:37,meta:Qp,load:Qn,component:O(36,Qn)},{no:38,meta:Zp,load:Xn,component:O(37,Xn)},{no:39,meta:ar,load:Zn,component:O(38,Zn)},{no:40,meta:nr,load:se,component:O(39,se)},{no:41,meta:lr,load:ae,component:O(40,ae)},{no:42,meta:pr,load:te,component:O(41,te)},{no:43,meta:mr,load:ne,component:O(42,ne)}],ns=qt(or);function ko(a){if(typeof a=="number")return{seconds:a,relative:!1};const s=a.startsWith("+");s&&(a=a.slice(1));let t=0;if(a.includes(":")){const n=a.split(":").map(Number);let e=0,l=0,i=0;if(n.length===3)e=n[0],l=n[1],i=n[2];else if(n.length===2)l=n[0],i=n[1];else if(n.length===1)i=n[0];else throw new TypeError("Invalid timestamp format");if(Number.isNaN(e)||Number.isNaN(l)||Number.isNaN(i))throw new TypeError("Invalid timestamp format");t=(e||0)*3600+(l||0)*60+(i||0)}else if(!a.match(/[a-z]/i))t=Number(a);else{const n={s:1,sec:1,secs:1,m:60,min:60,mins:60,h:3600,hr:3600,hrs:3600,hour:3600,hours:3600,day:86400,days:86400,week:604800,weeks:604800,month:2629746,months:2629746,year:31556952,years:31556952},e=/([\d.]+)([a-z]+)/gi,l=a.matchAll(e);if(l)for(const p of l){const r=Number(p[1]);if(Number.isNaN(r))throw new TypeError(`Invalid timestamp value: ${p[1]}`);const m=p[2].toLowerCase();if(!(m in n))throw new TypeError(`Invalid timestamp unit: ${m}`);t+=r*n[m]}const i=a.replace(e,"").trim();if(i)throw new TypeError(`Unknown timestamp remaining: ${i}`)}return{seconds:t,relative:s}}function cr(a,s){if(!s||s==="all"||s==="*")return pn(1,a+1);if(s==="none")return[];const t=[];for(const n of s.split(/[,;]/g))if(!n.includes("-"))t.push(+n);else{const[e,l]=n.split("-",2);t.push(...pn(+e,l?+l+1:a+1))}return Wl(t).filter(n=>n<=a).sort((n,e)=>n-e)}const et="$$slidev-clicks-context",Ft="$$slidev-page",Ae="$$slidev-slide-element",hr="$$slidev-slide-scale",gr="$$slidev-context",bo="$$slidev-route",Bt="$$slidev-render-context",ur="$$slidev-fontmatter",dr="$$slidev-slide-zoom",Ha="slidev-vclick-target",va="slidev-vclick-hidden",xa="slidev-vclick-fade",ut="slidev-vclick-hidden-explicitly",dt="slidev-vclick-current",ft="slidev-vclick-prior",Ia=999999,fr=["localhost","127.0.0.1"],yr=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],Mo=[...yr,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","monacoRunUseStrict","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta","notesAutoRuby","magicMoveDuration","preloadImages"];function wr(a,s,{mode:t="replace"}={}){const n=tt();return k({get(){const e=n.currentRoute.value.query[a];return e==null?s:Array.isArray(e)?e.filter(Boolean):e},set(e){xl(()=>{(n.currentRoute.value.query[a]??s?.toString())!==e.toString()&&n[kl(t)]({query:{...n.currentRoute.value.query,[a]:`${e}`===s?void 0:e}})})}})}function lt(a){return ns.value.find(s=>s.no===+a||s.meta.slide?.frontmatter.routeAlias===a)}function oa(a,s,t=!1){(typeof a=="number"||typeof a=="string")&&(a=lt(a));const n=a.meta.slide?.frontmatter.routeAlias??a.no;return t?`/export/${n}`:s?`/presenter/${n}`:`/${n}`}const vr={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function xr(a,s=!1){if(!a||(typeof a=="string"&&(a={name:a}),!a.name))return;let t=a.name.includes("|")?a.name:vr[a.name]||a.name;if(t.includes("|")){const[n,e]=t.split("|").map(l=>l.trim());t=s?e:n}if(t)return{...a,name:t}}function kr(a,s,t){let n=a>0?t?.meta?.transition:s?.meta?.transition;return n||(n=R.transition||void 0),xr(n,a<0)}const _o=P(!1),Lo=P(!1),zo=P(!1),br=P(!1),Wt=P(!1),So=P(!1),Oo=P(!0),Mr=L(new Set),Eo=k(()=>Mr.size>0),No=_l({xs:460,...zl}),Ga=Sl(),Po=bl(),$o=k(()=>Ga.height.value-Ga.width.value/Le.value>120),Ao=Ml(nt?document.body:null),Te=Ll(),To=k(()=>["INPUT","TEXTAREA"].includes(Te.value?.tagName||"")),Co=k(()=>["BUTTON","A"].includes(Te.value?.tagName||""));B("slidev-camera","default",{listenToStorageChanges:!1});B("slidev-mic","default",{listenToStorageChanges:!1});const _r=B("slidev-scale",0),Do=B("slidev-wake-lock",!0),Ro=B("slidev-hide-cursor-idle",!0);B("slidev-skip-export-pdf-tip",!1);B("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const jo=B("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),Lr=B("slidev-show-editor",!1,{listenToStorageChanges:!1}),zr=B("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),Sr=B("slidev-editor-width",nt?window.innerWidth*.4:318,{listenToStorageChanges:!1}),Or=B("slidev-editor-height",nt?window.innerHeight*.4:300,{listenToStorageChanges:!1}),Pa=qt(null),Ka=B("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),$a=B("slidev-presenter-layout",1,{listenToStorageChanges:!1}),Pt={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},Er=B("slidev-viewer-css-filter",Pt,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),Ho=k(()=>Object.keys(Pt).some(a=>Er.value[a]!==Pt[a]));function Io(){$a.value=$a.value+1,$a.value>3&&($a.value=1)}function Vo(){Ka.value=Math.min(2,Ka.value+.1)}function qo(){Ka.value=Math.max(.5,Ka.value-.1)}const Fo=be(br),Aa=B("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Ce(a,s,t=1){const n=s.meta.slide.level??t;n&&n>t&&a.length>0?Ce(a[a.length-1].children,s,t+1):a.push({no:s.no,children:[],level:t,titleLevel:n,path:oa(s.meta.slide?.frontmatter?.routeAlias??s.no,!1),hideInToc:!!s.meta?.slide?.frontmatter?.hideInToc,title:s.meta?.slide?.title})}function De(a,s,t=!1,n,e){return a.map(l=>{const i={...l,active:l.no===e?.value,hasActiveParent:t};return i.children.length>0&&(i.children=De(i.children,s,i.active||i.hasActiveParent,i,e)),n&&(i.active||i.activeParent)&&(n.activeParent=!0),i})}function Re(a,s=1){return a.filter(t=>!t.hideInToc).map(t=>({...t,children:Re(t.children,s+1)}))}function Nr(a,s,t){const n=k(()=>a.value.filter(l=>l.meta?.slide?.title).reduce((l,i)=>(Ce(l,i),l),[])),e=k(()=>De(n.value,t.value,void 0,void 0,s));return k(()=>Re(e.value))}function Pr(a,s,t=P(0),n,e,l){const i=k(()=>ns.value.length),p=P(0),r=P(0),m=k(()=>oa(a.value,n.value)),c=k(()=>a.value.no),g=k(()=>a.value.meta?.layout||(c.value===1?"cover":"default")),h=k(()=>s.value.current),o=k(()=>s.value.clicksStart),d=k(()=>s.value.total),u=k(()=>ns.value[Math.min(ns.value.length,c.value+1)-1]),f=k(()=>ns.value[Math.max(1,c.value-1)-1]),y=k(()=>c.value<ns.value.length||h.value<d.value),w=k(()=>c.value>1||h.value>0),v=k(()=>e.value?void 0:kr(p.value,a.value,f.value));ss(a,(H,C)=>{p.value=H.no-C.no});async function x(H){return!1}const b=Nr(ns,c,a);async function $(){r.value=1,d.value<=t.value?await V():t.value+=1}async function T(){r.value=-1,t.value<=o.value?await U(!0):t.value-=1}async function V(H=!1){r.value=1,c.value<ns.value.length&&await N(c.value+1,H&&!e.value?Ia:void 0)}async function U(H=!1){r.value=-1,c.value>1&&await N(c.value-1,H&&!e.value?Ia:void 0)}function rs(){return N(1)}function X(){return N(i.value)}async function N(H,C=0,is=!1){Wt.value=!1;const ms=c.value!==H,ya=C!==t.value,K=lt(H)?.meta,j=K?.slide?.frontmatter.clicksStart??0;C=St(C,j,K?.__clicksContext?.total??Ia),(is||ms||ya)&&await l?.push({path:oa(H,n.value,l.currentRoute.value.name==="export"),query:{...l.currentRoute.value.query,clicks:C===0?void 0:C.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function A(){l?.push({path:oa(c.value,!0),query:{...l.currentRoute.value.query}})}function q(){l?.push({path:oa(c.value,!1),query:{...l.currentRoute.value.query}})}return{slides:ns,total:i,currentPath:m,currentSlideNo:c,currentPage:c,currentSlideRoute:a,currentLayout:g,currentTransition:v,clicksDirection:r,nextRoute:u,prevRoute:f,clicksContext:s,clicks:h,clicksStart:o,clicksTotal:d,hasNext:y,hasPrev:w,tocTree:b,navDirection:p,openInEditor:x,next:$,prev:T,go:N,goLast:X,goFirst:rs,nextSlide:V,prevSlide:U,enterPresenter:A,exitPresenter:q}}const $r=Me(()=>{const a=tt(),s=Ol(),t=k(()=>(a?.currentRoute?.value?.query,new URLSearchParams(location.search))),n=k(()=>t.value.has("print")||s.name==="export"),e=P(t.value.get("print")==="clicks"),l=k(()=>t.value.has("embedded")),i=k(()=>s.name==="play"),p=k(()=>s.name==="presenter"),r=k(()=>s.name==="notes"),m=k(()=>!p.value&&(!R.remote||t.value.get("password")===R.remote)),c=k(()=>!!s.params.no),g=k(()=>c.value?lt(s.params.no)?.no??1:1),h=k(()=>ns.value[g.value-1]),o=P(cr(ns.value.length,s?.query?.range)),d=wr("clicks","0"),u=k(()=>y(h.value)),f=k({get(){let w=+(d.value||0);return Number.isNaN(w)&&(w=0),w},set(w){Wt.value=!1,d.value=w.toString()}});function y(w){if(w?.meta?.__clicksContext)return w.meta.__clicksContext;const v=w.no,x=$e(k({get(){return g.value===v?Math.max(+(d.value??0),x.clicksStart):g.value>v?Ia:x.clicksStart},set(b){g.value===v&&(d.value=b.toString())}}),w?.meta.slide?.frontmatter.clicksStart??0,w?.meta.clicks);return w?.meta&&(w.meta.__clicksContext=x),x}return{router:a,currentRoute:k(()=>s),isPrintMode:n,isPrintWithClicks:e,isEmbedded:l,isPlaying:i,isPresenter:p,isNotesViewer:r,isPresenterAvailable:m,hasPrimarySlide:c,currentSlideNo:g,currentSlideRoute:h,clicksContext:u,queryClicksRaw:d,queryClicks:f,printRange:o,getPrimaryClicks:y}}),fa=Me(()=>{const a=$r(),s=tt(),t=Pr(a.currentSlideRoute,a.clicksContext,a.queryClicks,a.isPresenter,a.isPrintMode,s);return ss([t.total,a.currentRoute],async()=>{const n=a.currentRoute.value.params.no;a.hasPrimarySlide.value&&!lt(n)&&(n&&n!=="index.html"?await t.go(t.total.value,0,!0):await t.go(1,0,!0))},{flush:"pre",immediate:!0}),{...t,...a}}),ee=El(),yt=B("slidev-color-schema","auto"),le=k(()=>R.colorSchema!=="auto"),je=k({get(){return le.value?R.colorSchema==="dark":yt.value==="auto"?ee.value:yt.value==="dark"},set(a){le.value||(yt.value=a===ee.value?"auto":a?"dark":"light")}}),Bo=be(je);if(nt){const a="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ss(je,s=>{const t=window.document.createElement("style");t.appendChild(document.createTextNode(a)),window.document.head.appendChild(t);const n=document.querySelector("html");n.classList.toggle("dark",s),n.classList.toggle("light",!s),window.getComputedStyle(t).opacity,document.head.removeChild(t)},{immediate:!0})}function Ar(){const{isPrintMode:a}=fa();Nl(k(()=>a.value?`
@page {
  size: ${ze.value}px ${Gl.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const Ut=Symbol.for("yaml.alias"),Tr=Symbol.for("yaml.document"),ea=Symbol.for("yaml.map"),He=Symbol.for("yaml.pair"),Jt=Symbol.for("yaml.scalar"),Oa=Symbol.for("yaml.seq"),ls=Symbol.for("yaml.node.type"),la=a=>!!a&&typeof a=="object"&&a[ls]===Ut,it=a=>!!a&&typeof a=="object"&&a[ls]===Tr,Ie=a=>!!a&&typeof a=="object"&&a[ls]===ea,F=a=>!!a&&typeof a=="object"&&a[ls]===He,I=a=>!!a&&typeof a=="object"&&a[ls]===Jt,Gt=a=>!!a&&typeof a=="object"&&a[ls]===Oa;function Q(a){if(a&&typeof a=="object")switch(a[ls]){case ea:case Oa:return!0}return!1}function W(a){if(a&&typeof a=="object")switch(a[ls]){case Ut:case ea:case Jt:case Oa:return!0}return!1}const Ve=a=>(I(a)||Q(a))&&!!a.anchor,aa=Symbol("break visit"),Cr=Symbol("skip children"),_a=Symbol("remove node");function pt(a,s){const t=Dr(s);it(a)?ca(null,a.contents,t,Object.freeze([a]))===_a&&(a.contents=null):ca(null,a,t,Object.freeze([]))}pt.BREAK=aa;pt.SKIP=Cr;pt.REMOVE=_a;function ca(a,s,t,n){const e=Rr(a,s,t,n);if(W(e)||F(e))return jr(a,n,e),ca(a,e,t,n);if(typeof e!="symbol"){if(Q(s)){n=Object.freeze(n.concat(s));for(let l=0;l<s.items.length;++l){const i=ca(l,s.items[l],t,n);if(typeof i=="number")l=i-1;else{if(i===aa)return aa;i===_a&&(s.items.splice(l,1),l-=1)}}}else if(F(s)){n=Object.freeze(n.concat(s));const l=ca("key",s.key,t,n);if(l===aa)return aa;l===_a&&(s.key=null);const i=ca("value",s.value,t,n);if(i===aa)return aa;i===_a&&(s.value=null)}}return e}function Dr(a){return typeof a=="object"&&(a.Collection||a.Node||a.Value)?Object.assign({Alias:a.Node,Map:a.Node,Scalar:a.Node,Seq:a.Node},a.Value&&{Map:a.Value,Scalar:a.Value,Seq:a.Value},a.Collection&&{Map:a.Collection,Seq:a.Collection},a):a}function Rr(a,s,t,n){if(typeof t=="function")return t(a,s,n);if(Ie(s))return t.Map?.(a,s,n);if(Gt(s))return t.Seq?.(a,s,n);if(F(s))return t.Pair?.(a,s,n);if(I(s))return t.Scalar?.(a,s,n);if(la(s))return t.Alias?.(a,s,n)}function jr(a,s,t){const n=s[s.length-1];if(Q(n))n.items[a]=t;else if(F(n))a==="key"?n.key=t:n.value=t;else if(it(n))n.contents=t;else{const e=la(n)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}}function qe(a){if(/[\x00-\x19\s,[\]{}]/.test(a)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(a)}`;throw new Error(t)}return!0}function Ma(a,s,t,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let e=0,l=n.length;e<l;++e){const i=n[e],p=Ma(a,n,String(e),i);p===void 0?delete n[e]:p!==i&&(n[e]=p)}else if(n instanceof Map)for(const e of Array.from(n.keys())){const l=n.get(e),i=Ma(a,n,e,l);i===void 0?n.delete(e):i!==l&&n.set(e,i)}else if(n instanceof Set)for(const e of Array.from(n)){const l=Ma(a,n,e,e);l===void 0?n.delete(e):l!==e&&(n.delete(e),n.add(l))}else for(const[e,l]of Object.entries(n)){const i=Ma(a,n,e,l);i===void 0?delete n[e]:i!==l&&(n[e]=i)}return a.call(s,t,n)}function es(a,s,t){if(Array.isArray(a))return a.map((n,e)=>es(n,String(e),t));if(a&&typeof a.toJSON=="function"){if(!t||!Ve(a))return a.toJSON(s,t);const n={aliasCount:0,count:1,res:void 0};t.anchors.set(a,n),t.onCreate=l=>{n.res=l,delete t.onCreate};const e=a.toJSON(s,t);return t.onCreate&&t.onCreate(e),e}return typeof a=="bigint"&&!t?.keep?Number(a):a}class Kt{constructor(s){Object.defineProperty(this,ls,{value:s})}clone(){const s=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(s.range=this.range.slice()),s}toJS(s,{mapAsMap:t,maxAliasCount:n,onAnchor:e,reviver:l}={}){if(!it(s))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:s,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},p=es(this,"",i);if(typeof e=="function")for(const{count:r,res:m}of i.anchors.values())e(m,r);return typeof l=="function"?Ma(l,{"":p},"",p):p}}class Hr extends Kt{constructor(s){super(Ut),this.source=s,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(s,t){let n;t?.aliasResolveCache?n=t.aliasResolveCache:(n=[],pt(s,{Node:(l,i)=>{(la(i)||Ve(i))&&n.push(i)}}),t&&(t.aliasResolveCache=n));let e;for(const l of n){if(l===this)break;l.anchor===this.source&&(e=l)}return e}toJSON(s,t){if(!t)return{source:this.source};const{anchors:n,doc:e,maxAliasCount:l}=t,i=this.resolve(e,t);if(!i){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(r)}let p=n.get(i);if(p||(es(i,null,t),p=n.get(i)),p?.res===void 0){const r="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(r)}if(l>=0&&(p.count+=1,p.aliasCount===0&&(p.aliasCount=Va(e,i,n)),p.count*p.aliasCount>l)){const r="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(r)}return p.res}toString(s,t,n){const e=`*${this.source}`;if(s){if(qe(this.source),s.options.verifyAliasOrder&&!s.anchors.has(this.source)){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(l)}if(s.implicitKey)return`${e} `}return e}}function Va(a,s,t){if(la(s)){const n=s.resolve(a),e=t&&n&&t.get(n);return e?e.count*e.aliasCount:0}else if(Q(s)){let n=0;for(const e of s.items){const l=Va(a,e,t);l>n&&(n=l)}return n}else if(F(s)){const n=Va(a,s.key,t),e=Va(a,s.value,t);return Math.max(n,e)}return 1}const Fe=a=>!a||typeof a!="function"&&typeof a!="object";class D extends Kt{constructor(s){super(Jt),this.value=s}toJSON(s,t){return t?.keep?this.value:es(this.value,s,t)}toString(){return String(this.value)}}D.BLOCK_FOLDED="BLOCK_FOLDED";D.BLOCK_LITERAL="BLOCK_LITERAL";D.PLAIN="PLAIN";D.QUOTE_DOUBLE="QUOTE_DOUBLE";D.QUOTE_SINGLE="QUOTE_SINGLE";function Ir(a,s,t){return t.find(n=>n.identify?.(a)&&!n.format)}function Ya(a,s,t){if(it(a)&&(a=a.contents),W(a))return a;if(F(a)){const g=t.schema[ea].createNode?.(t.schema,null,t);return g.items.push(a),g}(a instanceof String||a instanceof Number||a instanceof Boolean||typeof BigInt<"u"&&a instanceof BigInt)&&(a=a.valueOf());const{aliasDuplicateObjects:n,onAnchor:e,onTagObj:l,schema:i,sourceObjects:p}=t;let r;if(n&&a&&typeof a=="object"){if(r=p.get(a),r)return r.anchor??(r.anchor=e(a)),new Hr(r.anchor);r={anchor:null,node:null},p.set(a,r)}let m=Ir(a,s,i.tags);if(!m){if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),!a||typeof a!="object"){const g=new D(a);return r&&(r.node=g),g}m=a instanceof Map?i[ea]:Symbol.iterator in Object(a)?i[Oa]:i[ea]}l&&(l(m),delete t.onTagObj);const c=m?.createNode?m.createNode(t.schema,a,t):typeof m?.nodeClass?.from=="function"?m.nodeClass.from(t.schema,a,t):new D(a);return m.default||(c.tag=m.tag),r&&(r.node=c),c}function ie(a,s,t){let n=t;for(let e=s.length-1;e>=0;--e){const l=s[e];if(typeof l=="number"&&Number.isInteger(l)&&l>=0){const i=[];i[l]=n,n=i}else n=new Map([[l,n]])}return Ya(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:a,sourceObjects:new Map})}const Vr=a=>a==null||typeof a=="object"&&!!a[Symbol.iterator]().next().done;class Be extends Kt{constructor(s,t){super(s),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(s){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return s&&(t.schema=s),t.items=t.items.map(n=>W(n)||F(n)?n.clone(s):n),this.range&&(t.range=this.range.slice()),t}addIn(s,t){if(Vr(s))this.add(t);else{const[n,...e]=s,l=this.get(n,!0);if(Q(l))l.addIn(e,t);else if(l===void 0&&this.schema)this.set(n,ie(this.schema,e,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${e}`)}}deleteIn(s){const[t,...n]=s;if(n.length===0)return this.delete(t);const e=this.get(t,!0);if(Q(e))return e.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(s,t){const[n,...e]=s,l=this.get(n,!0);return e.length===0?!t&&I(l)?l.value:l:Q(l)?l.getIn(e,t):void 0}hasAllNullValues(s){return this.items.every(t=>{if(!F(t))return!1;const n=t.value;return n==null||s&&I(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(s){const[t,...n]=s;if(n.length===0)return this.has(t);const e=this.get(t,!0);return Q(e)?e.hasIn(n):!1}setIn(s,t){const[n,...e]=s;if(e.length===0)this.set(n,t);else{const l=this.get(n,!0);if(Q(l))l.setIn(e,t);else if(l===void 0&&this.schema)this.set(n,ie(this.schema,e,t));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${e}`)}}}const qr=a=>a.replace(/^(?!$)(?: $)?/gm,"#");function Sa(a,s){return/^\n+$/.test(a)?a.substring(1):s?a.replace(/^(?! *$)/gm,s):a}const ha=(a,s,t)=>a.endsWith(`
`)?Sa(t,s):t.includes(`
`)?`
`+Sa(t,s):(a.endsWith(" ")?"":" ")+t,We="flow",$t="block",qa="quoted";function rt(a,s,t="flow",{indentAtStart:n,lineWidth:e=80,minContentWidth:l=20,onFold:i,onOverflow:p}={}){if(!e||e<0)return a;e<l&&(l=0);const r=Math.max(1+l,1+e-s.length);if(a.length<=r)return a;const m=[],c={};let g=e-s.length;typeof n=="number"&&(n>e-Math.max(2,l)?m.push(0):g=e-n);let h,o,d=!1,u=-1,f=-1,y=-1;t===$t&&(u=pe(a,u,s.length),u!==-1&&(g=u+r));for(let v;v=a[u+=1];){if(t===qa&&v==="\\"){switch(f=u,a[u+1]){case"x":u+=3;break;case"u":u+=5;break;case"U":u+=9;break;default:u+=1}y=u}if(v===`
`)t===$t&&(u=pe(a,u,s.length)),g=u+s.length+r,h=void 0;else{if(v===" "&&o&&o!==" "&&o!==`
`&&o!=="	"){const x=a[u+1];x&&x!==" "&&x!==`
`&&x!=="	"&&(h=u)}if(u>=g)if(h)m.push(h),g=h+r,h=void 0;else if(t===qa){for(;o===" "||o==="	";)o=v,v=a[u+=1],d=!0;const x=u>y+1?u-2:f-1;if(c[x])return a;m.push(x),c[x]=!0,g=x+r,h=void 0}else d=!0}o=v}if(d&&p&&p(),m.length===0)return a;i&&i();let w=a.slice(0,m[0]);for(let v=0;v<m.length;++v){const x=m[v],b=m[v+1]||a.length;x===0?w=`
${s}${a.slice(0,b)}`:(t===qa&&c[x]&&(w+=`${a[x]}\\`),w+=`
${s}${a.slice(x+1,b)}`)}return w}function pe(a,s,t){let n=s,e=s+1,l=a[e];for(;l===" "||l==="	";)if(s<e+t)l=a[++s];else{do l=a[++s];while(l&&l!==`
`);n=s,e=s+1,l=a[e]}return n}const mt=(a,s)=>({indentAtStart:s?a.indent.length:a.indentAtStart,lineWidth:a.options.lineWidth,minContentWidth:a.options.minContentWidth}),ot=a=>/^(%|---|\.\.\.)/m.test(a);function Fr(a,s,t){if(!s||s<0)return!1;const n=s-t,e=a.length;if(e<=n)return!1;for(let l=0,i=0;l<e;++l)if(a[l]===`
`){if(l-i>n)return!0;if(i=l+1,e-i<=n)return!1}return!0}function La(a,s){const t=JSON.stringify(a);if(s.options.doubleQuotedAsJSON)return t;const{implicitKey:n}=s,e=s.options.doubleQuotedMinMultiLineLength,l=s.indent||(ot(a)?"  ":"");let i="",p=0;for(let r=0,m=t[r];m;m=t[++r])if(m===" "&&t[r+1]==="\\"&&t[r+2]==="n"&&(i+=t.slice(p,r)+"\\ ",r+=1,p=r,m="\\"),m==="\\")switch(t[r+1]){case"u":{i+=t.slice(p,r);const c=t.substr(r+2,4);switch(c){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:c.substr(0,2)==="00"?i+="\\x"+c.substr(2):i+=t.substr(r,6)}r+=5,p=r+1}break;case"n":if(n||t[r+2]==='"'||t.length<e)r+=1;else{for(i+=t.slice(p,r)+`

`;t[r+2]==="\\"&&t[r+3]==="n"&&t[r+4]!=='"';)i+=`
`,r+=2;i+=l,t[r+2]===" "&&(i+="\\"),r+=1,p=r+1}break;default:r+=1}return i=p?i+t.slice(p):t,n?i:rt(i,l,qa,mt(s,!1))}function At(a,s){if(s.options.singleQuote===!1||s.implicitKey&&a.includes(`
`)||/[ \t]\n|\n[ \t]/.test(a))return La(a,s);const t=s.indent||(ot(a)?"  ":""),n="'"+a.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return s.implicitKey?n:rt(n,t,We,mt(s,!1))}function ga(a,s){const{singleQuote:t}=s.options;let n;if(t===!1)n=La;else{const e=a.includes('"'),l=a.includes("'");e&&!l?n=At:l&&!e?n=La:n=t?At:La}return n(a,s)}let Tt;try{Tt=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Tt=/\n+(?!\n|$)/g}function Fa({comment:a,type:s,value:t},n,e,l){const{blockQuote:i,commentString:p,lineWidth:r}=n.options;if(!i||/\n[\t ]+$/.test(t))return ga(t,n);const m=n.indent||(n.forceBlockIndent||ot(t)?"  ":""),c=i==="literal"?!0:i==="folded"||s===D.BLOCK_FOLDED?!1:s===D.BLOCK_LITERAL?!0:!Fr(t,r,m.length);if(!t)return c?`|
`:`>
`;let g,h;for(h=t.length;h>0;--h){const b=t[h-1];if(b!==`
`&&b!=="	"&&b!==" ")break}let o=t.substring(h);const d=o.indexOf(`
`);d===-1?g="-":t===o||d!==o.length-1?(g="+",l&&l()):g="",o&&(t=t.slice(0,-o.length),o[o.length-1]===`
`&&(o=o.slice(0,-1)),o=o.replace(Tt,`$&${m}`));let u=!1,f,y=-1;for(f=0;f<t.length;++f){const b=t[f];if(b===" ")u=!0;else if(b===`
`)y=f;else break}let w=t.substring(0,y<f?y+1:f);w&&(t=t.substring(w.length),w=w.replace(/\n+/g,`$&${m}`));let x=(u?m?"2":"1":"")+g;if(a&&(x+=" "+p(a.replace(/ ?[\r\n]+/g," ")),e&&e()),!c){const b=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${m}`);let $=!1;const T=mt(n,!0);i!=="folded"&&s!==D.BLOCK_FOLDED&&(T.onOverflow=()=>{$=!0});const V=rt(`${w}${b}${o}`,m,$t,T);if(!$)return`>${x}
${m}${V}`}return t=t.replace(/\n+/g,`$&${m}`),`|${x}
${m}${w}${t}${o}`}function Br(a,s,t,n){const{type:e,value:l}=a,{actualString:i,implicitKey:p,indent:r,indentStep:m,inFlow:c}=s;if(p&&l.includes(`
`)||c&&/[[\]{},]/.test(l))return ga(l,s);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(l))return p||c||!l.includes(`
`)?ga(l,s):Fa(a,s,t,n);if(!p&&!c&&e!==D.PLAIN&&l.includes(`
`))return Fa(a,s,t,n);if(ot(l)){if(r==="")return s.forceBlockIndent=!0,Fa(a,s,t,n);if(p&&r===m)return ga(l,s)}const g=l.replace(/\n+/g,`$&
${r}`);if(i){const h=u=>u.default&&u.tag!=="tag:yaml.org,2002:str"&&u.test?.test(g),{compat:o,tags:d}=s.doc.schema;if(d.some(h)||o?.some(h))return ga(l,s)}return p?g:rt(g,r,We,mt(s,!1))}function Wr(a,s,t,n){const{implicitKey:e,inFlow:l}=s,i=typeof a.value=="string"?a:Object.assign({},a,{value:String(a.value)});let{type:p}=a;p!==D.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(p=D.QUOTE_DOUBLE);const r=c=>{switch(c){case D.BLOCK_FOLDED:case D.BLOCK_LITERAL:return e||l?ga(i.value,s):Fa(i,s,t,n);case D.QUOTE_DOUBLE:return La(i.value,s);case D.QUOTE_SINGLE:return At(i.value,s);case D.PLAIN:return Br(i,s,t,n);default:return null}};let m=r(p);if(m===null){const{defaultKeyType:c,defaultStringType:g}=s.options,h=e&&c||g;if(m=r(h),m===null)throw new Error(`Unsupported default string type ${h}`)}return m}function Ur(a,s){const t=Object.assign({blockQuote:!0,commentString:qr,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},a.schema.toStringOptions,s);let n;switch(t.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:a,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:n,options:t}}function Jr(a,s){if(s.tag){const e=a.filter(l=>l.tag===s.tag);if(e.length>0)return e.find(l=>l.format===s.format)??e[0]}let t,n;if(I(s)){n=s.value;let e=a.filter(l=>l.identify?.(n));if(e.length>1){const l=e.filter(i=>i.test);l.length>0&&(e=l)}t=e.find(l=>l.format===s.format)??e.find(l=>!l.format)}else n=s,t=a.find(e=>e.nodeClass&&n instanceof e.nodeClass);if(!t){const e=n?.constructor?.name??(n===null?"null":typeof n);throw new Error(`Tag not resolved for ${e} value`)}return t}function Gr(a,s,{anchors:t,doc:n}){if(!n.directives)return"";const e=[],l=(I(a)||Q(a))&&a.anchor;l&&qe(l)&&(t.add(l),e.push(`&${l}`));const i=a.tag??(s.default?null:s.tag);return i&&e.push(n.directives.tagString(i)),e.join(" ")}function Qa(a,s,t,n){if(F(a))return a.toString(s,t,n);if(la(a)){if(s.doc.directives)return a.toString(s);if(s.resolvedAliases?.has(a))throw new TypeError("Cannot stringify circular structure without alias nodes");s.resolvedAliases?s.resolvedAliases.add(a):s.resolvedAliases=new Set([a]),a=a.resolve(s.doc)}let e;const l=W(a)?a:s.doc.createNode(a,{onTagObj:r=>e=r});e??(e=Jr(s.doc.schema.tags,l));const i=Gr(l,e,s);i.length>0&&(s.indentAtStart=(s.indentAtStart??0)+i.length+1);const p=typeof e.stringify=="function"?e.stringify(l,s,t,n):I(l)?Wr(l,s,t,n):l.toString(s,t,n);return i?I(l)||p[0]==="{"||p[0]==="["?`${i} ${p}`:`${i}
${s.indent}${p}`:p}function Kr({key:a,value:s},t,n,e){const{allNullValues:l,doc:i,indent:p,indentStep:r,options:{commentString:m,indentSeq:c,simpleKeys:g}}=t;let h=W(a)&&a.comment||null;if(g){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Q(a)||!W(a)&&typeof a=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let o=!g&&(!a||h&&s==null&&!t.inFlow||Q(a)||(I(a)?a.type===D.BLOCK_FOLDED||a.type===D.BLOCK_LITERAL:typeof a=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!o&&(g||!l),indent:p+r});let d=!1,u=!1,f=Qa(a,t,()=>d=!0,()=>u=!0);if(!o&&!t.inFlow&&f.length>1024){if(g)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");o=!0}if(t.inFlow){if(l||s==null)return d&&n&&n(),f===""?"?":o?`? ${f}`:f}else if(l&&!g||s==null&&o)return f=`? ${f}`,h&&!d?f+=ha(f,t.indent,m(h)):u&&e&&e(),f;d&&(h=null),o?(h&&(f+=ha(f,t.indent,m(h))),f=`? ${f}
${p}:`):(f=`${f}:`,h&&(f+=ha(f,t.indent,m(h))));let y,w,v;W(s)?(y=!!s.spaceBefore,w=s.commentBefore,v=s.comment):(y=!1,w=null,v=null,s&&typeof s=="object"&&(s=i.createNode(s))),t.implicitKey=!1,!o&&!h&&I(s)&&(t.indentAtStart=f.length+1),u=!1,!c&&r.length>=2&&!t.inFlow&&!o&&Gt(s)&&!s.flow&&!s.tag&&!s.anchor&&(t.indent=t.indent.substring(2));let x=!1;const b=Qa(s,t,()=>x=!0,()=>u=!0);let $=" ";if(h||y||w){if($=y?`
`:"",w){const T=m(w);$+=`
${Sa(T,t.indent)}`}b===""&&!t.inFlow?$===`
`&&v&&($=`

`):$+=`
${t.indent}`}else if(!o&&Q(s)){const T=b[0],V=b.indexOf(`
`),U=V!==-1,rs=t.inFlow??s.flow??s.items.length===0;if(U||!rs){let X=!1;if(U&&(T==="&"||T==="!")){let N=b.indexOf(" ");T==="&"&&N!==-1&&N<V&&b[N+1]==="!"&&(N=b.indexOf(" ",N+1)),(N===-1||V<N)&&(X=!0)}X||($=`
${t.indent}`)}}else(b===""||b[0]===`
`)&&($="");return f+=$+b,t.inFlow?x&&n&&n():v&&!x?f+=ha(f,t.indent,m(v)):u&&e&&e(),f}function Yr(a,s){(a==="debug"||a==="warn")&&console.warn(s)}const Ta="<<",wt={identify:a=>a===Ta||typeof a=="symbol"&&a.description===Ta,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new D(Symbol(Ta)),{addToJSMap:Ue}),stringify:()=>Ta},Qr=(a,s)=>(wt.identify(s)||I(s)&&(!s.type||s.type===D.PLAIN)&&wt.identify(s.value))&&a?.doc.schema.tags.some(t=>t.tag===wt.tag&&t.default);function Ue(a,s,t){if(t=a&&la(t)?t.resolve(a.doc):t,Gt(t))for(const n of t.items)vt(a,s,n);else if(Array.isArray(t))for(const n of t)vt(a,s,n);else vt(a,s,t)}function vt(a,s,t){const n=a&&la(t)?t.resolve(a.doc):t;if(!Ie(n))throw new Error("Merge sources must be maps or map aliases");const e=n.toJSON(null,a,Map);for(const[l,i]of e)s instanceof Map?s.has(l)||s.set(l,i):s instanceof Set?s.add(l):Object.prototype.hasOwnProperty.call(s,l)||Object.defineProperty(s,l,{value:i,writable:!0,enumerable:!0,configurable:!0});return s}function Je(a,s,{key:t,value:n}){if(W(t)&&t.addToJSMap)t.addToJSMap(a,s,n);else if(Qr(a,t))Ue(a,s,n);else{const e=es(t,"",a);if(s instanceof Map)s.set(e,es(n,e,a));else if(s instanceof Set)s.add(e);else{const l=Xr(t,e,a),i=es(n,l,a);l in s?Object.defineProperty(s,l,{value:i,writable:!0,enumerable:!0,configurable:!0}):s[l]=i}}return s}function Xr(a,s,t){if(s===null)return"";if(typeof s!="object")return String(s);if(W(a)&&t?.doc){const n=Ur(t.doc,{});n.anchors=new Set;for(const l of t.anchors.keys())n.anchors.add(l.anchor);n.inFlow=!0,n.inStringifyKey=!0;const e=a.toString(n);if(!t.mapKeyWarned){let l=JSON.stringify(e);l.length>40&&(l=l.substring(0,36)+'..."'),Yr(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${l}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return e}return JSON.stringify(s)}function Yt(a,s,t){const n=Ya(a,void 0,t),e=Ya(s,void 0,t);return new ps(n,e)}class ps{constructor(s,t=null){Object.defineProperty(this,ls,{value:He}),this.key=s,this.value=t}clone(s){let{key:t,value:n}=this;return W(t)&&(t=t.clone(s)),W(n)&&(n=n.clone(s)),new ps(t,n)}toJSON(s,t){const n=t?.mapAsMap?new Map:{};return Je(t,n,this)}toString(s,t,n){return s?.doc?Kr(this,s,t,n):JSON.stringify(this)}}function Ge(a,s,t){return(s.inFlow??a.flow?sm:Zr)(a,s,t)}function Zr({comment:a,items:s},t,{blockItemPrefix:n,flowChars:e,itemIndent:l,onChompKeep:i,onComment:p}){const{indent:r,options:{commentString:m}}=t,c=Object.assign({},t,{indent:l,type:null});let g=!1;const h=[];for(let d=0;d<s.length;++d){const u=s[d];let f=null;if(W(u))!g&&u.spaceBefore&&h.push(""),Xa(t,h,u.commentBefore,g),u.comment&&(f=u.comment);else if(F(u)){const w=W(u.key)?u.key:null;w&&(!g&&w.spaceBefore&&h.push(""),Xa(t,h,w.commentBefore,g))}g=!1;let y=Qa(u,c,()=>f=null,()=>g=!0);f&&(y+=ha(y,l,m(f))),g&&f&&(g=!1),h.push(n+y)}let o;if(h.length===0)o=e.start+e.end;else{o=h[0];for(let d=1;d<h.length;++d){const u=h[d];o+=u?`
${r}${u}`:`
`}}return a?(o+=`
`+Sa(m(a),r),p&&p()):g&&i&&i(),o}function sm({items:a},s,{flowChars:t,itemIndent:n}){const{indent:e,indentStep:l,flowCollectionPadding:i,options:{commentString:p}}=s;n+=l;const r=Object.assign({},s,{indent:n,inFlow:!0,type:null});let m=!1,c=0;const g=[];for(let d=0;d<a.length;++d){const u=a[d];let f=null;if(W(u))u.spaceBefore&&g.push(""),Xa(s,g,u.commentBefore,!1),u.comment&&(f=u.comment);else if(F(u)){const w=W(u.key)?u.key:null;w&&(w.spaceBefore&&g.push(""),Xa(s,g,w.commentBefore,!1),w.comment&&(m=!0));const v=W(u.value)?u.value:null;v?(v.comment&&(f=v.comment),v.commentBefore&&(m=!0)):u.value==null&&w?.comment&&(f=w.comment)}f&&(m=!0);let y=Qa(u,r,()=>f=null);d<a.length-1&&(y+=","),f&&(y+=ha(y,n,p(f))),!m&&(g.length>c||y.includes(`
`))&&(m=!0),g.push(y),c=g.length}const{start:h,end:o}=t;if(g.length===0)return h+o;if(!m){const d=g.reduce((u,f)=>u+f.length+2,2);m=s.options.lineWidth>0&&d>s.options.lineWidth}if(m){let d=h;for(const u of g)d+=u?`
${l}${e}${u}`:`
`;return`${d}
${e}${o}`}else return`${h}${i}${g.join(" ")}${i}${o}`}function Xa({indent:a,options:{commentString:s}},t,n,e){if(n&&e&&(n=n.replace(/^\n+/,"")),n){const l=Sa(s(n),a);t.push(l.trimStart())}}function na(a,s){const t=I(s)?s.value:s;for(const n of a)if(F(n)&&(n.key===s||n.key===t||I(n.key)&&n.key.value===t))return n}class ra extends Be{static get tagName(){return"tag:yaml.org,2002:map"}constructor(s){super(ea,s),this.items=[]}static from(s,t,n){const{keepUndefined:e,replacer:l}=n,i=new this(s),p=(r,m)=>{if(typeof l=="function")m=l.call(t,r,m);else if(Array.isArray(l)&&!l.includes(r))return;(m!==void 0||e)&&i.items.push(Yt(r,m,n))};if(t instanceof Map)for(const[r,m]of t)p(r,m);else if(t&&typeof t=="object")for(const r of Object.keys(t))p(r,t[r]);return typeof s.sortMapEntries=="function"&&i.items.sort(s.sortMapEntries),i}add(s,t){let n;F(s)?n=s:!s||typeof s!="object"||!("key"in s)?n=new ps(s,s?.value):n=new ps(s.key,s.value);const e=na(this.items,n.key),l=this.schema?.sortMapEntries;if(e){if(!t)throw new Error(`Key ${n.key} already set`);I(e.value)&&Fe(n.value)?e.value.value=n.value:e.value=n.value}else if(l){const i=this.items.findIndex(p=>l(n,p)<0);i===-1?this.items.push(n):this.items.splice(i,0,n)}else this.items.push(n)}delete(s){const t=na(this.items,s);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(s,t){const e=na(this.items,s)?.value;return(!t&&I(e)?e.value:e)??void 0}has(s){return!!na(this.items,s)}set(s,t){this.add(new ps(s,t),!0)}toJSON(s,t,n){const e=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(e);for(const l of this.items)Je(t,e,l);return e}toString(s,t,n){if(!s)return JSON.stringify(this);for(const e of this.items)if(!F(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!s.allNullValues&&this.hasAllNullValues(!1)&&(s=Object.assign({},s,{allNullValues:!0})),Ge(this,s,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:s.indent||"",onChompKeep:n,onComment:t})}}class Ke extends Be{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(s){super(Oa,s),this.items=[]}add(s){this.items.push(s)}delete(s){const t=Ca(s);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(s,t){const n=Ca(s);if(typeof n!="number")return;const e=this.items[n];return!t&&I(e)?e.value:e}has(s){const t=Ca(s);return typeof t=="number"&&t<this.items.length}set(s,t){const n=Ca(s);if(typeof n!="number")throw new Error(`Expected a valid index, not ${s}.`);const e=this.items[n];I(e)&&Fe(t)?e.value=t:this.items[n]=t}toJSON(s,t){const n=[];t?.onCreate&&t.onCreate(n);let e=0;for(const l of this.items)n.push(es(l,String(e++),t));return n}toString(s,t,n){return s?Ge(this,s,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(s.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(s,t,n){const{replacer:e}=n,l=new this(s);if(t&&Symbol.iterator in Object(t)){let i=0;for(let p of t){if(typeof e=="function"){const r=t instanceof Set?p:String(i++);p=e.call(t,r,p)}l.items.push(Ya(p,void 0,n))}}return l}}function Ca(a){let s=I(a)?a.value:a;return s&&typeof s=="string"&&(s=Number(s)),typeof s=="number"&&Number.isInteger(s)&&s>=0?s:null}function am(a,s,t){const{replacer:n}=t,e=new Ke(a);e.tag="tag:yaml.org,2002:pairs";let l=0;if(s&&Symbol.iterator in Object(s))for(let i of s){typeof n=="function"&&(i=n.call(s,String(l++),i));let p,r;if(Array.isArray(i))if(i.length===2)p=i[0],r=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){const m=Object.keys(i);if(m.length===1)p=m[0],r=i[p];else throw new TypeError(`Expected tuple with one key, not ${m.length} keys`)}else p=i;e.items.push(Yt(p,r,t))}return e}class Qt extends Ke{constructor(){super(),this.add=ra.prototype.add.bind(this),this.delete=ra.prototype.delete.bind(this),this.get=ra.prototype.get.bind(this),this.has=ra.prototype.has.bind(this),this.set=ra.prototype.set.bind(this),this.tag=Qt.tag}toJSON(s,t){if(!t)return super.toJSON(s);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let l,i;if(F(e)?(l=es(e.key,"",t),i=es(e.value,l,t)):l=es(e,"",t),n.has(l))throw new Error("Ordered maps must not include duplicate keys");n.set(l,i)}return n}static from(s,t,n){const e=am(s,t,n),l=new this;return l.items=e.items,l}}Qt.tag="tag:yaml.org,2002:omap";class Xt extends ra{constructor(s){super(s),this.tag=Xt.tag}add(s){let t;F(s)?t=s:s&&typeof s=="object"&&"key"in s&&"value"in s&&s.value===null?t=new ps(s.key,null):t=new ps(s,null),na(this.items,t.key)||this.items.push(t)}get(s,t){const n=na(this.items,s);return!t&&F(n)?I(n.key)?n.key.value:n.key:n}set(s,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const n=na(this.items,s);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new ps(s))}toJSON(s,t){return super.toJSON(s,t,Set)}toString(s,t,n){if(!s)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},s,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(s,t,n){const{replacer:e}=n,l=new this(s);if(t&&Symbol.iterator in Object(t))for(let i of t)typeof e=="function"&&(i=e.call(t,i,i)),l.items.push(Yt(i,null,n));return l}}Xt.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function Zt(a=5){const s=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=t.length;for(let e=0;e<a;e++)s.push(t.charAt(Math.floor(Math.random()*n)));return s.join("")}function Ye(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function as(a,s,t){Object.defineProperty(a,s,{value:t,writable:!0,enumerable:!1})}const os=L({});let tm=[],nm=[];as(os,"$syncUp",!0);as(os,"$syncDown",!0);as(os,"$paused",!1);as(os,"$onSet",a=>tm.push(a));as(os,"$onPatch",a=>nm.push(a));Ye();as(os,"$patch",async()=>!1);const em={channels:[],enabled:!0,init(a,s,t,n=!1){let e;if(!n)e=new BroadcastChannel(a),e.addEventListener("message",l=>s(l.data)),this.channels.push(e);else if(n){this.listener=function(i){i&&i.key===a&&i.newValue&&s(JSON.parse(i.newValue))},window.addEventListener("storage",this.listener);const l=window.localStorage.getItem(a);l&&s(JSON.parse(l))}return(l,i=!1)=>{this.enabled&&(!n&&e&&!i&&e.postMessage(_e(l)),n&&!i&&window.localStorage.setItem(a,JSON.stringify(l)))}},disable(){this.enabled=!1,this.channels.forEach(a=>a.close()),this.listener&&window.removeEventListener("storage",this.listener)}},lm=L([em]),im=new Map,re=P({});function Qe(a,s,t=!1){const n=[];let e=!1,l=!1,i,p;const r=L(s);function m(o){n.push(o)}function c(o,d){r[o]!==d&&(clearTimeout(i),e=!0,r[o]=d,i=setTimeout(()=>e=!1,0))}function g(o){e||(clearTimeout(p),l=!0,Object.entries(o).forEach(([d,u])=>{r[d]=u}),p=setTimeout(()=>l=!1,0))}function h(o){im.set(o,{onUpdate:g,persist:t,state:r}),re.value[o]=lm.map(u=>u.init(o,g,r,t)).filter(u=>!!u);function d(){re.value[o].forEach(u=>u?.(_e(r),l)),e||n.forEach(u=>u(r))}ss(r,d,{deep:!0})}return{init:h,onPatch:m,onUpdate:g,patch:c,state:r}}const{init:pm,onPatch:Wo,patch:Uo,state:Jo}=Qe(os,os,!1),ia=L({page:0,clicks:0,timer:{status:"stopped",slides:{},startedAt:0,pausedAt:0}});let rm=[],mm=[];as(ia,"$syncUp",!0);as(ia,"$syncDown",!0);as(ia,"$paused",!1);as(ia,"$onSet",a=>rm.push(a));as(ia,"$onPatch",a=>mm.push(a));Ye();as(ia,"$patch",async()=>!1);const{init:om,onPatch:cm,patch:Da,state:Go}=Qe(ia,{page:1,clicks:0,clicksTotal:0,timer:{status:"stopped",slides:{},startedAt:0,pausedAt:0}});function hm(){const a=ve().appContext.app,s=L({nav:fa(),configs:R,themeConfigs:k(()=>R.themeConfig)});a.provide(Bt,P("none")),a.provide(gr,s),a.provide(Ft,k(()=>s.nav.currentSlideNo)),a.provide(et,qt(Mi()));for(const h of Yl)h();const{clicksContext:t,currentSlideNo:n,hasPrimarySlide:e,isNotesViewer:l,isPresenter:i,isPrintMode:p}=fa();xi({title:ht,htmlAttrs:R.htmlAttrs}),Ar(),om(`${ht} - shared`),pm(`${ht} - drawings`);const r=`${location.origin}_${Zt()}`,m=k(()=>i.value?"presenter":"viewer");function c(){(i.value?Aa.value.presenterSend:Aa.value.viewerSend)&&(l.value||p.value||!i.value&&!fr.includes(location.host.split(":")[0])||(Da("page",+n.value),Da("clicks",t.value.current),Da("clicksTotal",t.value.total),Da("lastUpdate",{id:r,type:m.value,time:new Date().getTime()})))}const g=tt();g.afterEach(c),ss(t,c),cm(h=>{(i.value?Aa.value.presenterReceive:Aa.value.viewerReceive)&&(!e.value||p.value||h.lastUpdate?.type!==m.value&&(+h.page==+n.value&&+t.value.current==+h.clicks||(Wt.value=!1,g.replace({path:oa(h.page,i.value),query:{...g.currentRoute.value.query,clicks:h.clicks||0}}))))})}const gm=ke({__name:"App",setup(a){return hm(),ua(()=>{for(const[s,t]of Object.entries(Kl.value))document.body.style.setProperty(s,t.toString())}),(s,t)=>{const n=$l("RouterView");return Ua(),Pl(n)}}});function um(a){return a}const dm=um,fm=dm(({app:a})=>{}),ym=[Object.values([fm])[0],Object.values([])[0]].filter(Boolean);async function Xe(a,s={}){const t=s.document||a.resolvedOptions.document;if(!t||!a.dirty)return;const n={shouldRender:!0,tags:[]};if(await a.hooks.callHook("dom:beforeRender",n),!!n.shouldRender)return a._domUpdatePromise||(a._domUpdatePromise=new Promise(async e=>{const l=new Map,i=new Promise(o=>{a.resolveTags().then(d=>{o(d.map(u=>{const f=l.get(u._d)||0,y={tag:u,id:(f?`${u._d}:${f}`:u._d)||mn(u),shouldRender:!0};return u._d&&Ee(u._d)&&l.set(u._d,f+1),y}))})});let p=a._dom;if(!p){p={title:t.title,elMap:new Map().set("htmlAttrs",t.documentElement).set("bodyAttrs",t.body)};for(const o of["body","head"]){const d=t[o]?.children;for(const u of d){const f=u.tagName.toLowerCase();if(!rn.has(f))continue;const y=Ne({tag:f,props:{}},{innerHTML:u.innerHTML,...u.getAttributeNames().reduce((w,v)=>(w[v]=u.getAttribute(v),w),{})||{}});if(y.key=u.getAttribute("data-hid")||void 0,y._d=Et(y)||mn(y),p.elMap.has(y._d)){let w=1,v=y._d;for(;p.elMap.has(v);)v=`${y._d}:${w++}`;p.elMap.set(v,u)}else p.elMap.set(y._d,u)}}}p.pendingSideEffects={...p.sideEffects},p.sideEffects={};function r(o,d,u){const f=`${o}:${d}`;p.sideEffects[f]=u,delete p.pendingSideEffects[f]}function m({id:o,$el:d,tag:u}){const f=u.tag.endsWith("Attrs");p.elMap.set(o,d),f||(u.textContent&&u.textContent!==d.textContent&&(d.textContent=u.textContent),u.innerHTML&&u.innerHTML!==d.innerHTML&&(d.innerHTML=u.innerHTML),r(o,"el",()=>{d?.remove(),p.elMap.delete(o)}));for(const y in u.props){if(!Object.prototype.hasOwnProperty.call(u.props,y))continue;const w=u.props[y];if(y.startsWith("on")&&typeof w=="function"){const x=d?.dataset;if(x&&x[`${y}fired`]){const b=y.slice(0,-5);w.call(d,new Event(b.substring(2)))}d.getAttribute(`data-${y}`)!==""&&((u.tag==="bodyAttrs"?t.defaultView:d).addEventListener(y.substring(2),w.bind(d)),d.setAttribute(`data-${y}`,""));continue}const v=`attr:${y}`;if(y==="class"){if(!w)continue;for(const x of w)f&&r(o,`${v}:${x}`,()=>d.classList.remove(x)),!d.classList.contains(x)&&d.classList.add(x)}else if(y==="style"){if(!w)continue;for(const[x,b]of w)r(o,`${v}:${x}`,()=>{d.style.removeProperty(x)}),d.style.setProperty(x,b)}else w!==!1&&w!==null&&(d.getAttribute(y)!==w&&d.setAttribute(y,w===!0?"":String(w)),f&&r(o,v,()=>d.removeAttribute(y)))}}const c=[],g={bodyClose:void 0,bodyOpen:void 0,head:void 0},h=await i;for(const o of h){const{tag:d,shouldRender:u,id:f}=o;if(u){if(d.tag==="title"){t.title=d.textContent,r("title","",()=>t.title=p.title);continue}o.$el=o.$el||p.elMap.get(f),o.$el?m(o):rn.has(d.tag)&&c.push(o)}}for(const o of c){const d=o.tag.tagPosition||"head";o.$el=t.createElement(o.tag.tag),m(o),g[d]=g[d]||t.createDocumentFragment(),g[d].appendChild(o.$el)}for(const o of h)await a.hooks.callHook("dom:renderTag",o,t,r);g.head&&t.head.appendChild(g.head),g.bodyOpen&&t.body.insertBefore(g.bodyOpen,t.body.firstChild),g.bodyClose&&t.body.appendChild(g.bodyClose);for(const o in p.pendingSideEffects)p.pendingSideEffects[o]();a._dom=p,await a.hooks.callHook("dom:rendered",{renders:h}),e()}).finally(()=>{a._domUpdatePromise=void 0,a.dirty=!1})),a._domUpdatePromise}function wm(a={}){const s=a.domOptions?.render||Xe;a.document=a.document||(typeof window<"u"?document:void 0);const t=a.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return fi({...a,plugins:[...a.plugins||[],{key:"client",hooks:{"entries:updated":s}}],init:[t?JSON.parse(t):!1,...a.init||[]]})}function vm(a,s){let t=0;return()=>{const n=++t;s(()=>{t===n&&a()})}}function xm(a={}){const s=wm({domOptions:{render:vm(()=>Xe(s),t=>setTimeout(t,0))},...a});return s.install=wi(s),s}function Ko(a,s=""){const t=["slidev-page",s],n=a?.meta?.slide?.no;return n!=null&&t.push(`slidev-page-${n}`),t.filter(Boolean).join(" ")}async function Yo(){const{saveAs:a}=await M(async()=>{const{saveAs:s}=await import("./modules/file-saver-DKWcVV7Q.js").then(t=>t.F);return{saveAs:s}},[],import.meta.url);a(typeof R.download=="string"?R.download:R.exportFilename?`${R.exportFilename}.pdf`:"./slidev-exported.pdf",`${R.title}.pdf`)}function da(a,s,t){return(a.instance?.$).provides[s]??t}function km(){return{install(a){a.directive("click",{name:"v-click",mounted(s,t){const n=Ba(s,t,t.value);n!=null&&(s.classList.toggle(Ha,!0),s.dataset.slidevClicksStart=String(n.start),Number.isFinite(n.end)&&(s.dataset.slidevClicksEnd=String(n.end)),s.watchStopHandle=ua(()=>{const e=n.isActive.value,l=n.isCurrent.value,i=e&&!l;n.flagHide?(s.classList.toggle(n.flagFade?xa:va,e),s.classList.toggle(ut,e)):s.classList.toggle(n.flagFade?xa:va,!e),s.classList.toggle(dt,l),s.classList.toggle(ft,i)}))},unmounted:xt}),a.directive("after",{name:"v-after",mounted(s,t){const n=Ba(s,t,"+0");n!=null&&(s.classList.toggle(Ha,!0),s.watchStopHandle=ua(()=>{const e=n.isActive.value,l=n.isCurrent.value,i=e&&!l;n.flagHide?(s.classList.toggle(n.flagFade?xa:va,e),s.classList.toggle(ut,e)):s.classList.toggle(n.flagFade?xa:va,!e),s.classList.toggle(dt,l),s.classList.toggle(ft,i)}))},unmounted:xt}),a.directive("click-hide",{name:"v-click-hide",mounted(s,t){const n=Ba(s,t,t.value,!0);n!=null&&(s.classList.toggle(Ha,!0),s.watchStopHandle=ua(()=>{const e=n.isActive.value,l=n.isCurrent.value,i=e&&!l;s.classList.toggle(n.flagFade?xa:va,e),s.classList.toggle(ut,e),s.classList.toggle(dt,l),s.classList.toggle(ft,i)}))},unmounted:xt})}}}const Ze=new Map;function Ba(a,s,t,n=!1){const e=da(s,et)?.value;if(!a||!e)return null;const l=n||s.modifiers.hide!==!1&&s.modifiers.hide!=null,i=s.modifiers.fade!==!1&&s.modifiers.fade!=null,p=e.calculate(t);if(!p)return null;e.register(a,p);const r=k(()=>l?!p.isActive.value:p.isActive.value),m=k(()=>r.value?"shown":Number.isFinite(p.end)?e.current<p.start?"before":"after":l?"after":"before"),c={...p,isShown:r,visibilityState:m,flagFade:i,flagHide:l};return Ze.set(a,c),c}function xt(a,s){a.classList.toggle(Ha,!1),da(s,et)?.value?.unregister(a),a.watchStopHandle?.()}function bm(a=we(Ae,P())){const s=Al(a),t=ss([Lr,zr,Sr,Or,_r,Ga.width,Ga.height],()=>{setTimeout(s.update,300)},{flush:"post",immediate:!0});return{...s,stop:t}}function Mm(a){return()=>{}}function _m(a,s,t,n=!1){function e(j){return a?da(a,j):Cl(j)}const l=e(Bt),i=e(ur)??{},p=e(Ft),r=k(()=>Mm(p.value)),m=e(hr)??P(1),c=e(dr)??P(1),{left:g,top:h,stop:o}=bm(e(Ae)??P()),{isPrintMode:d}=fa(),u=["slide","presenter"].includes(l.value)&&!d.value;let f=a?"directive":"prop",y=Zt(),w;if(Array.isArray(s)?w=s:typeof s=="string"&&s.includes(",")?w=s.split(",").map(Number):s!=null&&(f="frontmatter",y=`${s}`,s=i?.dragPos?.[y],w=s?.split(",").map(Number)),f!=="frontmatter"&&!t)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const v=[o],x=!n&&s!=null&&!Number.isFinite(w?.[3]);w??=[Number.NaN,Number.NaN,0];const b=P(w[2]),$=P(w[0]+w[2]/2),T=P(n?0:w[4]??0),V=k(()=>T.value*Math.PI/180),U=k(()=>Math.sin(V.value)),rs=k(()=>Math.cos(V.value)),X=P(),N=P({left:0,top:0,width:0,height:0}),A=P(0);function q(){if(!X.value)return;const j=X.value.getBoundingClientRect();N.value={left:j.left/c.value,top:j.top/c.value,width:j.width/c.value,height:j.height/c.value},A.value=(N.value.width+N.value.height)/m.value/(Math.abs(U.value)+Math.abs(rs.value))-b.value}v.push(ss(b,q,{flush:"post"}));const H=P(w[3]??0),C=x?k({get:()=>(x?A.value:H.value)||0,set:j=>!x&&(H.value=j)}):H,is=x?P(w[1]):P(w[1]+w[3]/2),ms=x?k({get:()=>is.value+C.value/2,set:j=>is.value=j-C.value/2}):is,ya=k(()=>Number.isFinite($.value)?{position:"absolute",zIndex:100,left:`${$.value-b.value/2}px`,top:`${ms.value-C.value/2}px`,width:`${b.value}px`,height:x?void 0:`${C.value}px`,transformOrigin:"center center",transform:`rotate(${T.value}deg)`}:{position:"absolute",zIndex:100});v.push(ss([$,ms,b,C,T],([j,Na,tn,nn,en])=>{let pa=[j-tn/2,Na-nn/2,tn].map(Math.round).join();x?pa+=f==="directive"?",NaN":",_":pa+=`,${Math.round(nn)}`,Math.round(en)!==0&&(pa+=`,${Math.round(en)}`),f==="directive"&&(pa=`[${pa}]`),r.value(y,pa,f,t)}));const K={dragId:y,dataSource:f,markdownSource:t,isArrow:n,zoom:c,autoHeight:x,x0:$,y0:ms,width:b,height:C,rotate:T,container:X,containerStyle:ya,watchStopHandles:v,dragging:k(()=>Pa.value===K),mounted(){u&&(q(),s||setTimeout(()=>{q(),$.value=(N.value.left+N.value.width/2-g.value)/m.value,ms.value=(N.value.top-h.value)/m.value,b.value=N.value.width/m.value,C.value=N.value.height/m.value},100))},unmounted(){u&&K.stopDragging()},startDragging(){u&&(q(),Pa.value=K)},stopDragging(){u&&Pa.value===K&&(Pa.value=null)}};return v.push(Tl(X,j=>{const Na=document.querySelector("#drag-control-container");Na&&j.target&&Na.contains(j.target)||K.stopDragging()}),ss(Dl(),j=>{j||K.stopDragging()})),K}function Lm(){return{install(a){a.directive("drag",{name:"v-drag",created(s,t,n){const e=_m(t,t.value,n.props?.markdownSource);n.props&&(n.props={...n.props},delete n.props.markdownSource),e.container.value=s,s.draggingState=e,s.dataset.dragId=e.dragId,e.watchStopHandles.push(ss(e.containerStyle,l=>{for(const[i,p]of Object.entries(l))p&&(s.style[i]=p)},{immediate:!0})),s.addEventListener("dblclick",e.startDragging)},mounted(s){s.draggingState.mounted()},unmounted(s){const t=s.draggingState;t.unmounted(),s.removeEventListener("dblclick",t.startDragging),t.watchStopHandles.forEach(n=>n())}})}}}function sl(){return Math.floor(Math.random()*2**31)}class zm{constructor(s){this.seed=s}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function Ct(a,s,t){if(a&&a.length){const[n,e]=s,l=Math.PI/180*t,i=Math.cos(l),p=Math.sin(l);for(const r of a){const[m,c]=r;r[0]=(m-n)*i-(c-e)*p+n,r[1]=(m-n)*p+(c-e)*i+e}}}function Sm(a,s,t){const n=[];a.forEach(e=>n.push(...e)),Ct(n,s,t)}function Om(a,s){return a[0]===s[0]&&a[1]===s[1]}function Em(a,s,t,n=1){const e=t,l=Math.max(s,.1),i=a[0]&&a[0][0]&&typeof a[0][0]=="number"?[a]:a,p=[0,0];if(e)for(const m of i)Ct(m,p,e);const r=Nm(i,l,n);if(e){for(const m of i)Ct(m,p,-e);Sm(r,p,-e)}return r}function Nm(a,s,t){const n=[];for(const m of a){const c=[...m];Om(c[0],c[c.length-1])||c.push([c[0][0],c[0][1]]),c.length>2&&n.push(c)}const e=[];s=Math.max(s,.1);const l=[];for(const m of n)for(let c=0;c<m.length-1;c++){const g=m[c],h=m[c+1];if(g[1]!==h[1]){const o=Math.min(g[1],h[1]);l.push({ymin:o,ymax:Math.max(g[1],h[1]),x:o===g[1]?g[0]:h[0],islope:(h[0]-g[0])/(h[1]-g[1])})}}if(l.sort((m,c)=>m.ymin<c.ymin?-1:m.ymin>c.ymin?1:m.x<c.x?-1:m.x>c.x?1:m.ymax===c.ymax?0:(m.ymax-c.ymax)/Math.abs(m.ymax-c.ymax)),!l.length)return e;let i=[],p=l[0].ymin,r=0;for(;i.length||l.length;){if(l.length){let m=-1;for(let g=0;g<l.length&&!(l[g].ymin>p);g++)m=g;l.splice(0,m+1).forEach(g=>{i.push({s:p,edge:g})})}if(i=i.filter(m=>!(m.edge.ymax<=p)),i.sort((m,c)=>m.edge.x===c.edge.x?0:(m.edge.x-c.edge.x)/Math.abs(m.edge.x-c.edge.x)),(t!==1||r%s===0)&&i.length>1)for(let m=0;m<i.length;m=m+2){const c=m+1;if(c>=i.length)break;const g=i[m].edge,h=i[c].edge;e.push([[Math.round(g.x),p],[Math.round(h.x),p]])}p+=t,i.forEach(m=>{m.edge.x=m.edge.x+t*m.edge.islope}),r++}return e}function Ea(a,s){var t;const n=s.hachureAngle+90;let e=s.hachureGap;e<0&&(e=s.strokeWidth*4),e=Math.round(Math.max(e,.1));let l=1;return s.roughness>=1&&(((t=s.randomizer)===null||t===void 0?void 0:t.next())||Math.random())>.7&&(l=e),Em(a,e,n,l||1)}class sn{constructor(s){this.helper=s}fillPolygons(s,t){return this._fillPolygons(s,t)}_fillPolygons(s,t){const n=Ea(s,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(s,t){const n=[];for(const e of s)n.push(...this.helper.doubleLineOps(e[0][0],e[0][1],e[1][0],e[1][1],t));return n}}function ct(a){const s=a[0],t=a[1];return Math.sqrt(Math.pow(s[0]-t[0],2)+Math.pow(s[1]-t[1],2))}class Pm extends sn{fillPolygons(s,t){let n=t.hachureGap;n<0&&(n=t.strokeWidth*4),n=Math.max(n,.1);const e=Object.assign({},t,{hachureGap:n}),l=Ea(s,e),i=Math.PI/180*t.hachureAngle,p=[],r=n*.5*Math.cos(i),m=n*.5*Math.sin(i);for(const[g,h]of l)ct([g,h])&&p.push([[g[0]-r,g[1]+m],[...h]],[[g[0]+r,g[1]-m],[...h]]);return{type:"fillSketch",ops:this.renderLines(p,t)}}}class $m extends sn{fillPolygons(s,t){const n=this._fillPolygons(s,t),e=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),l=this._fillPolygons(s,e);return n.ops=n.ops.concat(l.ops),n}}class Am{constructor(s){this.helper=s}fillPolygons(s,t){t=Object.assign({},t,{hachureAngle:0});const n=Ea(s,t);return this.dotsOnLines(n,t)}dotsOnLines(s,t){const n=[];let e=t.hachureGap;e<0&&(e=t.strokeWidth*4),e=Math.max(e,.1);let l=t.fillWeight;l<0&&(l=t.strokeWidth/2);const i=e/4;for(const p of s){const r=ct(p),m=r/e,c=Math.ceil(m)-1,g=r-c*e,h=(p[0][0]+p[1][0])/2-e/4,o=Math.min(p[0][1],p[1][1]);for(let d=0;d<c;d++){const u=o+g+d*e,f=h-i+Math.random()*2*i,y=u-i+Math.random()*2*i,w=this.helper.ellipse(f,y,l,l,t);n.push(...w.ops)}}return{type:"fillSketch",ops:n}}}class Tm{constructor(s){this.helper=s}fillPolygons(s,t){const n=Ea(s,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(s,t){const n=t.dashOffset<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashOffset,e=t.dashGap<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashGap,l=[];return s.forEach(i=>{const p=ct(i),r=Math.floor(p/(n+e)),m=(p+e-r*(n+e))/2;let c=i[0],g=i[1];c[0]>g[0]&&(c=i[1],g=i[0]);const h=Math.atan((g[1]-c[1])/(g[0]-c[0]));for(let o=0;o<r;o++){const d=o*(n+e),u=d+n,f=[c[0]+d*Math.cos(h)+m*Math.cos(h),c[1]+d*Math.sin(h)+m*Math.sin(h)],y=[c[0]+u*Math.cos(h)+m*Math.cos(h),c[1]+u*Math.sin(h)+m*Math.sin(h)];l.push(...this.helper.doubleLineOps(f[0],f[1],y[0],y[1],t))}}),l}}class Cm{constructor(s){this.helper=s}fillPolygons(s,t){const n=t.hachureGap<0?t.strokeWidth*4:t.hachureGap,e=t.zigzagOffset<0?n:t.zigzagOffset;t=Object.assign({},t,{hachureGap:n+e});const l=Ea(s,t);return{type:"fillSketch",ops:this.zigzagLines(l,e,t)}}zigzagLines(s,t,n){const e=[];return s.forEach(l=>{const i=ct(l),p=Math.round(i/(2*t));let r=l[0],m=l[1];r[0]>m[0]&&(r=l[1],m=l[0]);const c=Math.atan((m[1]-r[1])/(m[0]-r[0]));for(let g=0;g<p;g++){const h=g*2*t,o=(g+1)*2*t,d=Math.sqrt(2*Math.pow(t,2)),u=[r[0]+h*Math.cos(c),r[1]+h*Math.sin(c)],f=[r[0]+o*Math.cos(c),r[1]+o*Math.sin(c)],y=[u[0]+d*Math.cos(c+Math.PI/4),u[1]+d*Math.sin(c+Math.PI/4)];e.push(...this.helper.doubleLineOps(u[0],u[1],y[0],y[1],n),...this.helper.doubleLineOps(y[0],y[1],f[0],f[1],n))}}),e}}const J={};function Dm(a,s){let t=a.fillStyle||"hachure";if(!J[t])switch(t){case"zigzag":J[t]||(J[t]=new Pm(s));break;case"cross-hatch":J[t]||(J[t]=new $m(s));break;case"dots":J[t]||(J[t]=new Am(s));break;case"dashed":J[t]||(J[t]=new Tm(s));break;case"zigzag-line":J[t]||(J[t]=new Cm(s));break;default:t="hachure",J[t]||(J[t]=new sn(s));break}return J[t]}const Rm=0,Dt=1,al=2,Ra={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function jm(a){const s=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))s[s.length]={type:Rm,text:RegExp.$1},a=a.substr(RegExp.$1.length);else if(a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))s[s.length]={type:Dt,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length);else return[];return s[s.length]={type:al,text:""},s}function kt(a,s){return a.type===s}function an(a){const s=[],t=jm(a);let n="BOD",e=0,l=t[e];for(;!kt(l,al);){let i=0;const p=[];if(n==="BOD")if(l.text==="M"||l.text==="m")e++,i=Ra[l.text],n=l.text;else return an("M0,0"+a);else kt(l,Dt)?i=Ra[n]:(e++,i=Ra[l.text],n=l.text);if(e+i<t.length){for(let r=e;r<e+i;r++){const m=t[r];if(kt(m,Dt))p[p.length]=+m.text;else throw new Error("Param not a number: "+n+","+m.text)}if(typeof Ra[n]=="number"){const r={key:n,data:p};s.push(r),e+=i,l=t[e],n==="M"&&(n="L"),n==="m"&&(n="l")}else throw new Error("Bad segment: "+n)}else throw new Error("Path data ended short")}return s}function tl(a){let s=0,t=0,n=0,e=0;const l=[];for(const{key:i,data:p}of a)switch(i){case"M":l.push({key:"M",data:[...p]}),[s,t]=p,[n,e]=p;break;case"m":s+=p[0],t+=p[1],l.push({key:"M",data:[s,t]}),n=s,e=t;break;case"L":l.push({key:"L",data:[...p]}),[s,t]=p;break;case"l":s+=p[0],t+=p[1],l.push({key:"L",data:[s,t]});break;case"C":l.push({key:"C",data:[...p]}),s=p[4],t=p[5];break;case"c":{const r=p.map((m,c)=>c%2?m+t:m+s);l.push({key:"C",data:r}),s=r[4],t=r[5];break}case"Q":l.push({key:"Q",data:[...p]}),s=p[2],t=p[3];break;case"q":{const r=p.map((m,c)=>c%2?m+t:m+s);l.push({key:"Q",data:r}),s=r[2],t=r[3];break}case"A":l.push({key:"A",data:[...p]}),s=p[5],t=p[6];break;case"a":s+=p[5],t+=p[6],l.push({key:"A",data:[p[0],p[1],p[2],p[3],p[4],s,t]});break;case"H":l.push({key:"H",data:[...p]}),s=p[0];break;case"h":s+=p[0],l.push({key:"H",data:[s]});break;case"V":l.push({key:"V",data:[...p]}),t=p[0];break;case"v":t+=p[0],l.push({key:"V",data:[t]});break;case"S":l.push({key:"S",data:[...p]}),s=p[2],t=p[3];break;case"s":{const r=p.map((m,c)=>c%2?m+t:m+s);l.push({key:"S",data:r}),s=r[2],t=r[3];break}case"T":l.push({key:"T",data:[...p]}),s=p[0],t=p[1];break;case"t":s+=p[0],t+=p[1],l.push({key:"T",data:[s,t]});break;case"Z":case"z":l.push({key:"Z",data:[]}),s=n,t=e;break}return l}function nl(a){const s=[];let t="",n=0,e=0,l=0,i=0,p=0,r=0;for(const{key:m,data:c}of a){switch(m){case"M":s.push({key:"M",data:[...c]}),[n,e]=c,[l,i]=c;break;case"C":s.push({key:"C",data:[...c]}),n=c[4],e=c[5],p=c[2],r=c[3];break;case"L":s.push({key:"L",data:[...c]}),[n,e]=c;break;case"H":n=c[0],s.push({key:"L",data:[n,e]});break;case"V":e=c[0],s.push({key:"L",data:[n,e]});break;case"S":{let g=0,h=0;t==="C"||t==="S"?(g=n+(n-p),h=e+(e-r)):(g=n,h=e),s.push({key:"C",data:[g,h,...c]}),p=c[0],r=c[1],n=c[2],e=c[3];break}case"T":{const[g,h]=c;let o=0,d=0;t==="Q"||t==="T"?(o=n+(n-p),d=e+(e-r)):(o=n,d=e);const u=n+2*(o-n)/3,f=e+2*(d-e)/3,y=g+2*(o-g)/3,w=h+2*(d-h)/3;s.push({key:"C",data:[u,f,y,w,g,h]}),p=o,r=d,n=g,e=h;break}case"Q":{const[g,h,o,d]=c,u=n+2*(g-n)/3,f=e+2*(h-e)/3,y=o+2*(g-o)/3,w=d+2*(h-d)/3;s.push({key:"C",data:[u,f,y,w,o,d]}),p=g,r=h,n=o,e=d;break}case"A":{const g=Math.abs(c[0]),h=Math.abs(c[1]),o=c[2],d=c[3],u=c[4],f=c[5],y=c[6];g===0||h===0?(s.push({key:"C",data:[n,e,f,y,f,y]}),n=f,e=y):(n!==f||e!==y)&&(el(n,e,f,y,g,h,o,d,u).forEach(function(v){s.push({key:"C",data:v})}),n=f,e=y);break}case"Z":s.push({key:"Z",data:[]}),n=l,e=i;break}t=m}return s}function Hm(a){return Math.PI*a/180}function ka(a,s,t){const n=a*Math.cos(t)-s*Math.sin(t),e=a*Math.sin(t)+s*Math.cos(t);return[n,e]}function el(a,s,t,n,e,l,i,p,r,m){const c=Hm(i);let g=[],h=0,o=0,d=0,u=0;if(m)[h,o,d,u]=m;else{[a,s]=ka(a,s,-c),[t,n]=ka(t,n,-c);const N=(a-t)/2,A=(s-n)/2;let q=N*N/(e*e)+A*A/(l*l);q>1&&(q=Math.sqrt(q),e=q*e,l=q*l);const H=p===r?-1:1,C=e*e,is=l*l,ms=C*is-C*A*A-is*N*N,ya=C*A*A+is*N*N,K=H*Math.sqrt(Math.abs(ms/ya));d=K*e*A/l+(a+t)/2,u=K*-l*N/e+(s+n)/2,h=Math.asin(parseFloat(((s-u)/l).toFixed(9))),o=Math.asin(parseFloat(((n-u)/l).toFixed(9))),a<d&&(h=Math.PI-h),t<d&&(o=Math.PI-o),h<0&&(h=Math.PI*2+h),o<0&&(o=Math.PI*2+o),r&&h>o&&(h=h-Math.PI*2),!r&&o>h&&(o=o-Math.PI*2)}let f=o-h;if(Math.abs(f)>Math.PI*120/180){const N=o,A=t,q=n;r&&o>h?o=h+Math.PI*120/180*1:o=h+Math.PI*120/180*-1,t=d+e*Math.cos(o),n=u+l*Math.sin(o),g=el(t,n,A,q,e,l,i,0,r,[o,N,d,u])}f=o-h;const y=Math.cos(h),w=Math.sin(h),v=Math.cos(o),x=Math.sin(o),b=Math.tan(f/4),$=4/3*e*b,T=4/3*l*b,V=[a,s],U=[a+$*w,s-T*y],rs=[t+$*x,n-T*v],X=[t,n];if(U[0]=2*V[0]-U[0],U[1]=2*V[1]-U[1],m)return[U,rs,X].concat(g);{g=[U,rs,X].concat(g);const N=[];for(let A=0;A<g.length;A+=3){const q=ka(g[A][0],g[A][1],c),H=ka(g[A+1][0],g[A+1][1],c),C=ka(g[A+2][0],g[A+2][1],c);N.push([q[0],q[1],H[0],H[1],C[0],C[1]])}return N}}const Im={randOffset:Fm,randOffsetWithRange:Bm,ellipse:Rt,doubleLineOps:Wm};function Z(a,s,t,n,e){return{type:"path",ops:cs(a,s,t,n,e)}}function za(a,s,t){const n=(a||[]).length;if(n>2){const e=[];for(let l=0;l<n-1;l++)e.push(...cs(a[l][0],a[l][1],a[l+1][0],a[l+1][1],t));return s&&e.push(...cs(a[n-1][0],a[n-1][1],a[0][0],a[0][1],t)),{type:"path",ops:e}}else if(n===2)return Z(a[0][0],a[0][1],a[1][0],a[1][1],t);return{type:"path",ops:[]}}function Vm(a,s){return za(a,!0,s)}function ll(a,s,t,n,e){const l=[[a,s],[a+t,s],[a+t,s+n],[a,s+n]];return Vm(l,e)}function me(a,s){if(a.length){const n=typeof a[0][0]=="number"?[a]:a,e=ja(n[0],1*(1+s.roughness*.2),s),l=s.disableMultiStroke?[]:ja(n[0],1.5*(1+s.roughness*.22),he(s));for(let i=1;i<n.length;i++){const p=n[i];if(p.length){const r=ja(p,1*(1+s.roughness*.2),s),m=s.disableMultiStroke?[]:ja(p,1.5*(1+s.roughness*.22),he(s));for(const c of r)c.op!=="move"&&e.push(c);for(const c of m)c.op!=="move"&&l.push(c)}}return{type:"path",ops:e.concat(l)}}return{type:"path",ops:[]}}function Rt(a,s,t,n,e){const l=il(t,n,e);return jt(a,s,e,l).opset}function il(a,s,t){const n=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(a/2,2)+Math.pow(s/2,2))/2)),e=Math.ceil(Math.max(t.curveStepCount,t.curveStepCount/Math.sqrt(200)*n)),l=Math.PI*2/e;let i=Math.abs(a/2),p=Math.abs(s/2);const r=1-t.curveFitting;return i+=_(i*r,t),p+=_(p*r,t),{increment:l,rx:i,ry:p}}function jt(a,s,t,n){const[e,l]=ge(n.increment,a,s,n.rx,n.ry,1,n.increment*Za(.1,Za(.4,1,t),t),t);let i=st(e,null,t);if(!t.disableMultiStroke&&t.roughness!==0){const[p]=ge(n.increment,a,s,n.rx,n.ry,1.5,0,t),r=st(p,null,t);i=i.concat(r)}return{estimatedPoints:l,opset:{type:"path",ops:i}}}function oe(a,s,t,n,e,l,i,p,r){const m=a,c=s;let g=Math.abs(t/2),h=Math.abs(n/2);g+=_(g*.01,r),h+=_(h*.01,r);let o=e,d=l;for(;o<0;)o+=Math.PI*2,d+=Math.PI*2;d-o>Math.PI*2&&(o=0,d=Math.PI*2);const u=Math.PI*2/r.curveStepCount,f=Math.min(u/2,(d-o)/2),y=ue(f,m,c,g,h,o,d,1,r);if(!r.disableMultiStroke){const w=ue(f,m,c,g,h,o,d,1.5,r);y.push(...w)}return i&&(p?y.push(...cs(m,c,m+g*Math.cos(o),c+h*Math.sin(o),r),...cs(m,c,m+g*Math.cos(d),c+h*Math.sin(d),r)):y.push({op:"lineTo",data:[m,c]},{op:"lineTo",data:[m+g*Math.cos(o),c+h*Math.sin(o)]})),{type:"path",ops:y}}function ce(a,s){const t=nl(tl(an(a))),n=[];let e=[0,0],l=[0,0];for(const{key:i,data:p}of t)switch(i){case"M":{l=[p[0],p[1]],e=[p[0],p[1]];break}case"L":n.push(...cs(l[0],l[1],p[0],p[1],s)),l=[p[0],p[1]];break;case"C":{const[r,m,c,g,h,o]=p;n.push(...Um(r,m,c,g,h,o,l,s)),l=[h,o];break}case"Z":n.push(...cs(l[0],l[1],e[0],e[1],s)),l=[e[0],e[1]];break}return{type:"path",ops:n}}function bt(a,s){const t=[];for(const n of a)if(n.length){const e=s.maxRandomnessOffset||0,l=n.length;if(l>2){t.push({op:"move",data:[n[0][0]+_(e,s),n[0][1]+_(e,s)]});for(let i=1;i<l;i++)t.push({op:"lineTo",data:[n[i][0]+_(e,s),n[i][1]+_(e,s)]})}}return{type:"fillPath",ops:t}}function ma(a,s){return Dm(s,Im).fillPolygons(a,s)}function qm(a,s,t,n,e,l,i){const p=a,r=s;let m=Math.abs(t/2),c=Math.abs(n/2);m+=_(m*.01,i),c+=_(c*.01,i);let g=e,h=l;for(;g<0;)g+=Math.PI*2,h+=Math.PI*2;h-g>Math.PI*2&&(g=0,h=Math.PI*2);const o=(h-g)/i.curveStepCount,d=[];for(let u=g;u<=h;u=u+o)d.push([p+m*Math.cos(u),r+c*Math.sin(u)]);return d.push([p+m*Math.cos(h),r+c*Math.sin(h)]),d.push([p,r]),ma([d],i)}function Fm(a,s){return _(a,s)}function Bm(a,s,t){return Za(a,s,t)}function Wm(a,s,t,n,e){return cs(a,s,t,n,e,!0)}function he(a){const s=Object.assign({},a);return s.randomizer=void 0,a.seed&&(s.seed=a.seed+1),s}function pl(a){return a.randomizer||(a.randomizer=new zm(a.seed||0)),a.randomizer.next()}function Za(a,s,t,n=1){return t.roughness*n*(pl(t)*(s-a)+a)}function _(a,s,t=1){return Za(-a,a,s,t)}function cs(a,s,t,n,e,l=!1){const i=l?e.disableMultiStrokeFill:e.disableMultiStroke,p=Ht(a,s,t,n,e,!0,!1);if(i)return p;const r=Ht(a,s,t,n,e,!0,!0);return p.concat(r)}function Ht(a,s,t,n,e,l,i){const p=Math.pow(a-t,2)+Math.pow(s-n,2),r=Math.sqrt(p);let m=1;r<200?m=1:r>500?m=.4:m=-.0016668*r+1.233334;let c=e.maxRandomnessOffset||0;c*c*100>p&&(c=r/10);const g=c/2,h=.2+pl(e)*.2;let o=e.bowing*e.maxRandomnessOffset*(n-s)/200,d=e.bowing*e.maxRandomnessOffset*(a-t)/200;o=_(o,e,m),d=_(d,e,m);const u=[],f=()=>_(g,e,m),y=()=>_(c,e,m),w=e.preserveVertices;return i?u.push({op:"move",data:[a+(w?0:f()),s+(w?0:f())]}):u.push({op:"move",data:[a+(w?0:_(c,e,m)),s+(w?0:_(c,e,m))]}),i?u.push({op:"bcurveTo",data:[o+a+(t-a)*h+f(),d+s+(n-s)*h+f(),o+a+2*(t-a)*h+f(),d+s+2*(n-s)*h+f(),t+(w?0:f()),n+(w?0:f())]}):u.push({op:"bcurveTo",data:[o+a+(t-a)*h+y(),d+s+(n-s)*h+y(),o+a+2*(t-a)*h+y(),d+s+2*(n-s)*h+y(),t+(w?0:y()),n+(w?0:y())]}),u}function ja(a,s,t){if(!a.length)return[];const n=[];n.push([a[0][0]+_(s,t),a[0][1]+_(s,t)]),n.push([a[0][0]+_(s,t),a[0][1]+_(s,t)]);for(let e=1;e<a.length;e++)n.push([a[e][0]+_(s,t),a[e][1]+_(s,t)]),e===a.length-1&&n.push([a[e][0]+_(s,t),a[e][1]+_(s,t)]);return st(n,null,t)}function st(a,s,t){const n=a.length,e=[];if(n>3){const l=[],i=1-t.curveTightness;e.push({op:"move",data:[a[1][0],a[1][1]]});for(let p=1;p+2<n;p++){const r=a[p];l[0]=[r[0],r[1]],l[1]=[r[0]+(i*a[p+1][0]-i*a[p-1][0])/6,r[1]+(i*a[p+1][1]-i*a[p-1][1])/6],l[2]=[a[p+1][0]+(i*a[p][0]-i*a[p+2][0])/6,a[p+1][1]+(i*a[p][1]-i*a[p+2][1])/6],l[3]=[a[p+1][0],a[p+1][1]],e.push({op:"bcurveTo",data:[l[1][0],l[1][1],l[2][0],l[2][1],l[3][0],l[3][1]]})}}else n===3?(e.push({op:"move",data:[a[1][0],a[1][1]]}),e.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[2][0],a[2][1]]})):n===2&&e.push(...Ht(a[0][0],a[0][1],a[1][0],a[1][1],t,!0,!0));return e}function ge(a,s,t,n,e,l,i,p){const r=p.roughness===0,m=[],c=[];if(r){a=a/4,c.push([s+n*Math.cos(-a),t+e*Math.sin(-a)]);for(let g=0;g<=Math.PI*2;g=g+a){const h=[s+n*Math.cos(g),t+e*Math.sin(g)];m.push(h),c.push(h)}c.push([s+n*Math.cos(0),t+e*Math.sin(0)]),c.push([s+n*Math.cos(a),t+e*Math.sin(a)])}else{const g=_(.5,p)-Math.PI/2;c.push([_(l,p)+s+.9*n*Math.cos(g-a),_(l,p)+t+.9*e*Math.sin(g-a)]);const h=Math.PI*2+g-.01;for(let o=g;o<h;o=o+a){const d=[_(l,p)+s+n*Math.cos(o),_(l,p)+t+e*Math.sin(o)];m.push(d),c.push(d)}c.push([_(l,p)+s+n*Math.cos(g+Math.PI*2+i*.5),_(l,p)+t+e*Math.sin(g+Math.PI*2+i*.5)]),c.push([_(l,p)+s+.98*n*Math.cos(g+i),_(l,p)+t+.98*e*Math.sin(g+i)]),c.push([_(l,p)+s+.9*n*Math.cos(g+i*.5),_(l,p)+t+.9*e*Math.sin(g+i*.5)])}return[c,m]}function ue(a,s,t,n,e,l,i,p,r){const m=l+_(.1,r),c=[];c.push([_(p,r)+s+.9*n*Math.cos(m-a),_(p,r)+t+.9*e*Math.sin(m-a)]);for(let g=m;g<=i;g=g+a)c.push([_(p,r)+s+n*Math.cos(g),_(p,r)+t+e*Math.sin(g)]);return c.push([s+n*Math.cos(i),t+e*Math.sin(i)]),c.push([s+n*Math.cos(i),t+e*Math.sin(i)]),st(c,null,r)}function Um(a,s,t,n,e,l,i,p){const r=[],m=[p.maxRandomnessOffset||1,(p.maxRandomnessOffset||1)+.3];let c=[0,0];const g=p.disableMultiStroke?1:2,h=p.preserveVertices;for(let o=0;o<g;o++)o===0?r.push({op:"move",data:[i[0],i[1]]}):r.push({op:"move",data:[i[0]+(h?0:_(m[0],p)),i[1]+(h?0:_(m[0],p))]}),c=h?[e,l]:[e+_(m[o],p),l+_(m[o],p)],r.push({op:"bcurveTo",data:[a+_(m[o],p),s+_(m[o],p),t+_(m[o],p),n+_(m[o],p),c[0],c[1]]});return r}function ba(a){return[...a]}function de(a,s=0){const t=a.length;if(t<3)throw new Error("A curve must have at least three points.");const n=[];if(t===3)n.push(ba(a[0]),ba(a[1]),ba(a[2]),ba(a[2]));else{const e=[];e.push(a[0],a[0]);for(let p=1;p<a.length;p++)e.push(a[p]),p===a.length-1&&e.push(a[p]);const l=[],i=1-s;n.push(ba(e[0]));for(let p=1;p+2<e.length;p++){const r=e[p];l[0]=[r[0],r[1]],l[1]=[r[0]+(i*e[p+1][0]-i*e[p-1][0])/6,r[1]+(i*e[p+1][1]-i*e[p-1][1])/6],l[2]=[e[p+1][0]+(i*e[p][0]-i*e[p+2][0])/6,e[p+1][1]+(i*e[p][1]-i*e[p+2][1])/6],l[3]=[e[p+1][0],e[p+1][1]],n.push(l[1],l[2],l[3])}}return n}function Jm(a,s){return Math.sqrt(Wa(a,s))}function Wa(a,s){return Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)}function Gm(a,s,t){const n=Wa(s,t);if(n===0)return Wa(a,s);let e=((a[0]-s[0])*(t[0]-s[0])+(a[1]-s[1])*(t[1]-s[1]))/n;return e=Math.max(0,Math.min(1,e)),Wa(a,ta(s,t,e))}function ta(a,s,t){return[a[0]+(s[0]-a[0])*t,a[1]+(s[1]-a[1])*t]}function Km(a,s){const t=a[s+0],n=a[s+1],e=a[s+2],l=a[s+3];let i=3*n[0]-2*t[0]-l[0];i*=i;let p=3*n[1]-2*t[1]-l[1];p*=p;let r=3*e[0]-2*l[0]-t[0];r*=r;let m=3*e[1]-2*l[1]-t[1];return m*=m,i<r&&(i=r),p<m&&(p=m),i+p}function It(a,s,t,n){const e=n||[];if(Km(a,s)<t){const l=a[s+0];e.length?Jm(e[e.length-1],l)>1&&e.push(l):e.push(l),e.push(a[s+3])}else{const i=a[s+0],p=a[s+1],r=a[s+2],m=a[s+3],c=ta(i,p,.5),g=ta(p,r,.5),h=ta(r,m,.5),o=ta(c,g,.5),d=ta(g,h,.5),u=ta(o,d,.5);It([i,c,o,u],0,t,e),It([u,d,h,m],0,t,e)}return e}function Ym(a,s){return at(a,0,a.length,s)}function at(a,s,t,n,e){const l=e||[],i=a[s],p=a[t-1];let r=0,m=1;for(let c=s+1;c<t-1;++c){const g=Gm(a[c],i,p);g>r&&(r=g,m=c)}return Math.sqrt(r)>n?(at(a,s,m+1,n,l),at(a,m,t,n,l)):(l.length||l.push(i),l.push(p)),l}function Vt(a,s=.15,t){const n=[],e=(a.length-1)/3;for(let l=0;l<e;l++){const i=l*3;It(a,i,s,n)}return t&&t>0?at(n,0,n.length,t):n}function Qm(a,s,t){const n=an(a),e=nl(tl(n)),l=[];let i=[],p=[0,0],r=[];const m=()=>{r.length>=4&&i.push(...Vt(r,s)),r=[]},c=()=>{m(),i.length&&(l.push(i),i=[])};for(const{key:h,data:o}of e)switch(h){case"M":c(),p=[o[0],o[1]],i.push(p);break;case"L":m(),i.push([o[0],o[1]]);break;case"C":if(!r.length){const d=i.length?i[i.length-1]:p;r.push([d[0],d[1]])}r.push([o[0],o[1]]),r.push([o[2],o[3]]),r.push([o[4],o[5]]);break;case"Z":m(),i.push([p[0],p[1]]);break}if(c(),!t)return l;const g=[];for(const h of l){const o=Ym(h,t);o.length&&g.push(o)}return g}const Y="none";class Xm{constructor(s){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=s||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return sl()}_o(s){return s?Object.assign({},this.defaultOptions,s):this.defaultOptions}_d(s,t,n){return{shape:s,sets:t||[],options:n||this.defaultOptions}}line(s,t,n,e,l){const i=this._o(l);return this._d("line",[Z(s,t,n,e,i)],i)}rectangle(s,t,n,e,l){const i=this._o(l),p=[],r=ll(s,t,n,e,i);if(i.fill){const m=[[s,t],[s+n,t],[s+n,t+e],[s,t+e]];i.fillStyle==="solid"?p.push(bt([m],i)):p.push(ma([m],i))}return i.stroke!==Y&&p.push(r),this._d("rectangle",p,i)}ellipse(s,t,n,e,l){const i=this._o(l),p=[],r=il(n,e,i),m=jt(s,t,i,r);if(i.fill)if(i.fillStyle==="solid"){const c=jt(s,t,i,r).opset;c.type="fillPath",p.push(c)}else p.push(ma([m.estimatedPoints],i));return i.stroke!==Y&&p.push(m.opset),this._d("ellipse",p,i)}circle(s,t,n,e){const l=this.ellipse(s,t,n,n,e);return l.shape="circle",l}linearPath(s,t){const n=this._o(t);return this._d("linearPath",[za(s,!1,n)],n)}arc(s,t,n,e,l,i,p=!1,r){const m=this._o(r),c=[],g=oe(s,t,n,e,l,i,p,!0,m);if(p&&m.fill)if(m.fillStyle==="solid"){const h=Object.assign({},m);h.disableMultiStroke=!0;const o=oe(s,t,n,e,l,i,!0,!1,h);o.type="fillPath",c.push(o)}else c.push(qm(s,t,n,e,l,i,m));return m.stroke!==Y&&c.push(g),this._d("arc",c,m)}curve(s,t){const n=this._o(t),e=[],l=me(s,n);if(n.fill&&n.fill!==Y)if(n.fillStyle==="solid"){const i=me(s,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));e.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{const i=[],p=s;if(p.length){const m=typeof p[0][0]=="number"?[p]:p;for(const c of m)c.length<3?i.push(...c):c.length===3?i.push(...Vt(de([c[0],c[0],c[1],c[2]]),10,(1+n.roughness)/2)):i.push(...Vt(de(c),10,(1+n.roughness)/2))}i.length&&e.push(ma([i],n))}return n.stroke!==Y&&e.push(l),this._d("curve",e,n)}polygon(s,t){const n=this._o(t),e=[],l=za(s,!0,n);return n.fill&&(n.fillStyle==="solid"?e.push(bt([s],n)):e.push(ma([s],n))),n.stroke!==Y&&e.push(l),this._d("polygon",e,n)}path(s,t){const n=this._o(t),e=[];if(!s)return this._d("path",e,n);s=(s||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const l=n.fill&&n.fill!=="transparent"&&n.fill!==Y,i=n.stroke!==Y,p=!!(n.simplification&&n.simplification<1),r=p?4-4*(n.simplification||1):(1+n.roughness)/2,m=Qm(s,1,r),c=ce(s,n);if(l)if(n.fillStyle==="solid")if(m.length===1){const g=ce(s,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));e.push({type:"fillPath",ops:this._mergedShape(g.ops)})}else e.push(bt(m,n));else e.push(ma(m,n));return i&&(p?m.forEach(g=>{e.push(za(g,!1,n))}):e.push(c)),this._d("path",e,n)}opsToPath(s,t){let n="";for(const e of s.ops){const l=typeof t=="number"&&t>=0?e.data.map(i=>+i.toFixed(t)):e.data;switch(e.op){case"move":n+=`M${l[0]} ${l[1]} `;break;case"bcurveTo":n+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case"lineTo":n+=`L${l[0]} ${l[1]} `;break}}return n.trim()}toPaths(s){const t=s.sets||[],n=s.options||this.defaultOptions,e=[];for(const l of t){let i=null;switch(l.type){case"path":i={d:this.opsToPath(l),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Y};break;case"fillPath":i={d:this.opsToPath(l),stroke:Y,strokeWidth:0,fill:n.fill||Y};break;case"fillSketch":i=this.fillSketch(l,n);break}i&&e.push(i)}return e}fillSketch(s,t){let n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(s),stroke:t.fill||Y,strokeWidth:n,fill:Y}}_mergedShape(s){return s.filter((t,n)=>n===0?!0:t.op!=="move")}}const rl="http://www.w3.org/2000/svg",Zm=800;let Mt=null;function so(){return Mt||(Mt=new Xm().defaultOptions),Mt}function _t(a,s,t){return{...so(),maxRandomnessOffset:2,roughness:a==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:a!=="double",disableMultiStrokeFill:!1,seed:s,...t}}function ao(a){const s=a.padding;if(s||s===0){if(typeof s=="number")return[s,s,s,s];if(Array.isArray(s)){const t=s;if(t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}}return[5,5,5,5]}function to(a,s,t,n,e,l){const i=[];let p=t.strokeWidth||2;const r=ao(t),m=t.animate===void 0?!0:!!t.animate,c=t.iterations||2,g=t.rtl?1:0,h=_t("single",l,t);switch(t.type){case"underline":{const o=s.y+s.h+r[2];for(let d=g;d<c+g;d++)d%2?i.push(Z(s.x+s.w,o,s.x,o,h)):i.push(Z(s.x,o,s.x+s.w,o,h));break}case"strike-through":{const o=s.y+s.h/2;for(let d=g;d<c+g;d++)d%2?i.push(Z(s.x+s.w,o,s.x,o,h)):i.push(Z(s.x,o,s.x+s.w,o,h));break}case"box":{const o=s.x-r[3],d=s.y-r[0],u=s.w+(r[1]+r[3]),f=s.h+(r[0]+r[2]);for(let y=0;y<c;y++)i.push(ll(o,d,u,f,h));break}case"bracket":{const o=Array.isArray(t.brackets)?t.brackets:t.brackets?[t.brackets]:["right"],d=s.x-r[3]*2,u=s.x+s.w+r[1]*2,f=s.y-r[0]*2,y=s.y+s.h+r[2]*2;for(const w of o){let v;switch(w){case"bottom":v=[[d,s.y+s.h],[d,y],[u,y],[u,s.y+s.h]];break;case"top":v=[[d,s.y],[d,f],[u,f],[u,s.y]];break;case"left":v=[[s.x,f],[d,f],[d,y],[s.x,y]];break;case"right":v=[[s.x+s.w,f],[u,f],[u,y],[s.x+s.w,y]];break}v&&i.push(za(v,!1,h))}break}case"crossed-off":{const o=s.x,d=s.y,u=o+s.w,f=d+s.h;for(let y=g;y<c+g;y++)y%2?i.push(Z(u,f,o,d,h)):i.push(Z(o,d,u,f,h));for(let y=g;y<c+g;y++)y%2?i.push(Z(o,f,u,d,h)):i.push(Z(u,d,o,f,h));break}case"circle":{const o=_t("double",l,t),d=s.w+(r[1]+r[3]),u=s.h+(r[0]+r[2]),f=s.x-r[3]+d/2,y=s.y-r[0]+u/2,w=Math.floor(c/2),v=c-w*2;for(let x=0;x<w;x++)i.push(Rt(f,y,d,u,o));for(let x=0;x<v;x++)i.push(Rt(f,y,d,u,h));break}case"highlight":{const o=_t("highlight",l,t);p=s.h*.95;const d=s.y+s.h/2;for(let u=g;u<c+g;u++)u%2?i.push(Z(s.x+s.w,d,s.x,d,o)):i.push(Z(s.x,d,s.x+s.w,d,o));break}}if(i.length){const o=no(i),d=[],u=[];let f=0;const y=(w,v,x)=>w.setAttribute(v,x);for(const w of o){const v=document.createElementNS(rl,"path");if(y(v,"d",w),y(v,"fill","none"),y(v,"stroke",t.color||"currentColor"),y(v,"stroke-width",`${p}`),t.opacity!==void 0&&y(v,"style",`opacity:${t.opacity}`),m){const x=v.getTotalLength();d.push(x),f+=x}a.appendChild(v),u.push(v)}if(m){let w=0;for(let v=0;v<u.length;v++){const x=u[v],b=d[v],$=f?e*(b/f):0,T=n+w,V=x.style;V.strokeDashoffset=`${b}`,V.strokeDasharray=`${b}`,V.animation=`rough-notation-dash ${$}ms ease-out ${T}ms forwards`,w+=$}return fe(e+n)}}return fe(0)}function fe(a){return new Promise(s=>setTimeout(s,a))}function no(a){const s=[];for(const t of a){let n="";for(const e of t.ops){const l=e.data;switch(e.op){case"move":n.trim()&&s.push(n.trim()),n=`M${l[0]} ${l[1]} `;break;case"bcurveTo":n+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case"lineTo":n+=`L${l[0]} ${l[1]} `;break}}n.trim()&&s.push(n.trim())}return s}function eo(){if(!window.__rno_kf_s){const a=window.__rno_kf_s=document.createElement("style");a.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(a)}}var lo=Object.defineProperty,io=(a,s,t)=>s in a?lo(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,ts=(a,s,t)=>(io(a,typeof s!="symbol"?s+"":s,t),t);class po{constructor(s,t){ts(this,"_state","unattached"),ts(this,"_config"),ts(this,"_resizing",!1),ts(this,"_ro"),ts(this,"_seed",sl()),ts(this,"_e"),ts(this,"_svg"),ts(this,"_lastSizes",[]),ts(this,"_animationDelay",0),ts(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ts(this,"pendingRefresh"),this._e=s,this._config=JSON.parse(JSON.stringify(t)),this.attach()}getConfig(s){return this._config[s]}setConfig(s,t){this._config[s]!==t&&(this._config[s]=t,this.refresh())}get animate(){return this._config.animate}set animate(s){this._config.animate=s}get animationDuration(){return this._config.animationDuration}set animationDuration(s){this._config.animationDuration=s}get iterations(){return this._config.iterations}set iterations(s){this._config.iterations=s}get color(){return this._config.color}set color(s){this._config.color!==s&&(this._config.color=s,this.refresh())}get class(){return this._config.class}set class(s){this._config.class!==s&&(this._config.class=s,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(s){this._config.strokeWidth!==s&&(this._config.strokeWidth=s,this.refresh())}get padding(){return this._config.padding}set padding(s){this._config.padding!==s&&(this._config.padding=s,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){eo();const s=this._svg=document.createElementNS(rl,"svg");s.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const t=s.style;t.position="absolute",t.top="0",t.left="0",t.overflow="visible",t.pointerEvents="none",t.width="100px",t.height="100px";const n=this._config.type==="highlight";if(this._e.insertAdjacentElement(n?"beforebegin":"afterend",s),this._state="not-showing",n){const e=window.getComputedStyle(this._e).position;(!e||e==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(s=>{for(const t of s)t.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const s=this.rects();if(s.length===this._lastSizes.length){for(let t=0;t<s.length;t++)if(!this.isSameRect(s[t],this._lastSizes[t]))return!0}else return!0}return!1}isSameRect(s,t){const n=(e,l)=>Math.round(e)===Math.round(l);return n(s.x,t.x)&&n(s.y,t.y)&&n(s.w,t.w)&&n(s.h,t.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(s,t){let n=this._config;t&&(n=JSON.parse(JSON.stringify(this._config)),n.animate=!1);const e=this.rects();let l=0;e.forEach(m=>l+=m.w);const i=n.animationDuration||Zm;let p=0;const r=[];for(let m=0;m<e.length;m++){const c=e[m],g=i*(c.w/l);r.push(to(s,e[m],n,p+this._animationDelay+(this._config.delay||0),g,this._seed)),p+=g}return this._lastSizes=e,this._state="showing",await Promise.all(r)}rects(){const s=[];if(this._svg)if(this._config.multiline){const t=this._e.getClientRects();for(let n=0;n<t.length;n++)s.push(this.svgRect(this._svg,t[n]))}else s.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return s}svgRect(s,t){const n=s.getBoundingClientRect(),e=t;return{x:(e.x||e.left)-(n.x||n.left),y:(e.y||e.top)-(n.y||n.top),w:e.width,h:e.height}}}function ro(a,s){return new po(a,s)}function G(a,s){return a.class=[a.class,s].filter(Boolean).join(" "),a}const ye={box:a=>Object.assign(a,{type:"box"}),circle:a=>Object.assign(a,{type:"circle"}),underline:a=>Object.assign(a,{type:"underline"}),highlight:a=>Object.assign(a,{type:"highlight"}),"strike-through":a=>Object.assign(a,{type:"strike-through"}),"crossed-off":a=>Object.assign(a,{type:"crossed-off"}),bracket:a=>Object.assign(a,{type:"bracket"}),strike:a=>Object.assign(a,{type:"strike-through"}),cross:a=>Object.assign(a,{type:"crossed-off"}),crossed:a=>Object.assign(a,{type:"crossed-off"}),linethrough:a=>Object.assign(a,{type:"strike-through"}),"line-through":a=>Object.assign(a,{type:"strike-through"}),black:a=>G(a,"text-black"),blue:a=>G(a,"text-blue"),cyan:a=>G(a,"text-cyan"),gray:a=>G(a,"text-gray"),green:a=>G(a,"text-green"),indigo:a=>G(a,"text-indigo"),lime:a=>G(a,"text-lime"),orange:a=>G(a,"text-orange"),pink:a=>G(a,"text-pink"),purple:a=>G(a,"text-purple"),red:a=>G(a,"text-red"),teal:a=>G(a,"text-teal"),white:a=>G(a,"text-white"),yellow:a=>G(a,"text-yellow")},mo=[[/^delay-?(\d+)?$/,(a,s,t)=>{const n=(a[1]?Number.parseInt(a[1]):t)||300;return s.delay=n,s}],[/^(?:op|opacity)-?(\d+)?$/,(a,s,t)=>{const n=(a[1]?Number.parseInt(a[1]):t)||100;return s.opacity=n/100,s}]];function oo(){return{install(a){a.directive("mark",{name:"v-mark",mounted:(s,t)=>{const{isPrintMode:n}=fa(),e=k(()=>{const p=typeof t.value=="object"&&!Array.isArray(t.value)?{...t.value}:{at:t.value};let r={at:p.at};const m=Object.entries(t.modifiers).filter(([g,h])=>{if(ye[g])return r=ye[g](r,h),!1;for(const[o,d]of mo){const u=g.match(o);if(u)return r=d(u,r,h),!1}return!0});m.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",m);const c={...r,...p};return c.type||="underline",n.value&&(c.animationDuration=1),c}),l=ro(s,e.value),i=Ba(s,t,e.value.at);if(!i){l.show();return}s.watchStopHandle=ua(()=>{let p;e.value.class&&(l.class=e.value.class),e.value.color&&(l.color=e.value.color);const r=e.value.at;r===!0?p=!0:r===!1?p=!1:p=i.isActive.value,p!=null&&(p?l.show():l.hide())})},unmounted:s=>{s.watchStopHandle?.()}})}}}function co(){return{install(a){const s=Rl();a.directive("motion",{name:"v-motion",mounted(t,n,e,l){const i=da(n,et),p=da(n,Ft),r=da(n,Bt),{currentPage:m,clicks:c,isPrintMode:g}=fa(),h=e.props={...e.props},o={...h.initial,...h.variants?.["slidev-initial"]},d={...h.enter,...h.variants?.["slidev-enter"]},u={...h.leave,...h.variants?.["slidev-leave"]};delete h.initial,delete h.enter,delete h.leave;const f=`${Zt()}-`,y=[];for(const v of Object.keys(h))if(v.startsWith("click-")){const x=v.slice(6),b=x.includes("-")?x.split("-").map(Number):+x,$=f+x;y.push({id:$,at:b,variant:{...h[v]},info:i?.value.calculate(b)}),delete h[v]}y.sort((v,x)=>(Array.isArray(v.at)?v.at[0]:v.at)-(Array.isArray(x.at)?x.at[0]:x.at)),s.created(t,n,e,l),s.mounted(t,n,e,l);const w=t.motionInstance;w.clickIds=y.map(v=>v.id),w.set(o),w.watchStopHandle=ss([p,m,c].filter(Boolean),()=>{const v=Ze.get(t)?.visibilityState.value??"shown";if(!i?.value||!["slide","presenter"].includes(r?.value??"")){const x={...o,...d};for(const{variant:b}of y)Object.assign(x,b);w.set(x)}else if(g.value||p?.value===m.value)if(v==="shown"){const x={...o,...d};for(const{variant:b,info:$}of y)(!$||$.isActive.value)&&Object.assign(x,b);g.value?w.set(x):w.apply(x)}else w.apply(v==="before"?o:u);else w.apply((p?.value??-1)>m.value?o:u)},{immediate:!0})},unmounted(t){t.motionInstance.watchStopHandle()}})}}}const ho=[Object.values([])[0],Object.values([])[0]].filter(Boolean);function go(){const a=[];function s(t){if(!R.remote||R.remote===t.query.password)return!0;if(R.remote&&t.query.password===void 0){const n=prompt("Enter password");if(R.remote===n)return!0}return t.params.no?{path:`/${t.params.no}`}:{path:""}}return a.push({name:"entry",path:"/entry",component:()=>M(()=>import("./slidev/entry-CgEeIgEI.js"),__vite__mapDeps([53,1,3,4,54]),import.meta.url),beforeEnter:s},{name:"overview",path:"/overview",component:()=>M(()=>import("./slidev/overview-Dy5VUdQx.js"),__vite__mapDeps([55,56,1,57,58,59,2,60,61,62,3,4]),import.meta.url),beforeEnter:s},{name:"notes",path:"/notes",component:()=>M(()=>import("./slidev/notes-BzIaKGxy.js"),__vite__mapDeps([63,1,57,58,64,61,65,3,4]),import.meta.url),beforeEnter:s},{name:"notes-edit",path:"/notes-edit",component:()=>M(()=>import("./slidev/notes-edit-eiYOVOcZ.js"),__vite__mapDeps([66,1,62,61,65,3,4]),import.meta.url),beforeEnter:s},{name:"presenter",path:"/presenter/:no",component:()=>M(()=>import("./slidev/presenter-BEKrNwZ3.js"),__vite__mapDeps([67,1,59,2,60,68,56,61,3,4,69,57,58,64,62,70]),import.meta.url),beforeEnter:s},{path:"/presenter",redirect:{path:"/presenter/1"}}),a.push({name:"play",path:"/:no",component:()=>M(()=>import("./slidev/play-B0IvNPWP.js"),__vite__mapDeps([71,1,59,2,60,68,56,61,3,4,69,65,72]),import.meta.url)},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>M(()=>import("./slidev/404-DoImkEMM.js"),__vite__mapDeps([73,1,3,4,74]),import.meta.url)}),ho.reduce((t,n)=>n(t),a)}async function uo(a){function s(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}s(),window.addEventListener("resize",s);const t=jl({history:Hl("./"),routes:go()});a.use(t),a.use(xm()),a.use(km()),a.use(oo()),a.use(Lm()),a.use(co()),a.use(Vl,{container:"#twoslash-container"});const n={app:a,router:t};for(const e of ym)await e(n)}async function fo(){const a=Il(gm);await uo(a),a.mount("#app")}fo();export{Pa as $,zr as A,$o as B,Ia as C,Er as D,Pt as E,Do as F,Fo as G,vo as H,Ga as I,zo as J,Te as K,_r as L,Aa as M,No as N,Yo as O,Io as P,Ho as Q,ns as R,br as S,bm as T,ze as U,Gl as V,Po as W,hr as X,Wt as Y,So as Z,zi as _,fa as a,Oo as a0,Eo as a1,Co as a2,To as a3,Jo as a4,Uo as a5,Wo as a6,as as a7,Ye as a8,Qe as a9,Ae as aa,Le as ab,bo as ac,ur as ad,Ft as ae,Bt as af,et as ag,dr as ah,Ko as ai,gr as aj,Mo as ak,yr as al,je as b,Mi as c,Go as d,$e as e,Ao as f,oa as g,$a as h,le as i,Lr as j,Ka as k,Vo as l,qo as m,jo as n,R as o,xo as p,ko as q,St as r,ht as s,Bo as t,xi as u,pn as v,lt as w,Ro as x,_o as y,Lo as z};
