import{f as L,o as n,e as i,g as s,j as u,t as f,n as $,F as d,aj as j,ad as o,r as P,z as v,b as D,w as V,d as T,v as A,x as I,T as M}from"./modules/vue-tYZCW_lj.js";import{u as B,f as S}from"./slidev/context-DLdakJLb.js";import{_ as E}from"./index-C0ExUM5h.js";import{_ as H}from"./interactive-BRxwIgpg.js";import"./modules/shiki-BYUa97EI.js";const R={class:"bp"},W={class:"bp-main"},Y=["viewBox"],q=["y1","y2"],G=["x","y"],J=["d"],K=["cx","cy"],O={class:"bp-info"},Q={class:"bp-stat"},U={class:"bp-value bp-n"},X={class:"bp-stat"},Z={class:"bp-milestones"},ss=["onClick"],ts={class:"bp-insight"},as={class:"bp-controls"},h=365,g=500,p=180,ls=L({__name:"BirthdayParadoxDemo",setup(N){B();const a=P(0),m=P([]),y=v(()=>{if(a.value===0)return 0;let e=1;for(let t=0;t<a.value;t++)e*=(h-t)/h;return 1-e}),r=v(()=>(y.value*100).toFixed(1)),x=[{n:23,label:"50%"},{n:50,label:"97%"},{n:70,label:"99.9%"}];function F(){a.value<h&&(a.value++,m.value.push(y.value))}function _(e){for(let t=0;t<e&&!(a.value>=h);t++)a.value++,m.value.push(1-Array.from({length:a.value},(l,b)=>(h-b)/h).reduce((l,b)=>l*b,1))}function z(){a.value=0,m.value=[]}function k(e){z(),_(e)}const c=v(()=>{const e=[],t=Math.max(a.value,30);for(let l=0;l<m.value.length;l++)e.push({x:l/t*g,y:p-m.value[l]*p});return e}),C=v(()=>c.value.length<2?"":c.value.map((e,t)=>`${t===0?"M":"L"} ${e.x.toFixed(1)} ${e.y.toFixed(1)}`).join(" ")),w=v(()=>p-.5*p);return(e,t)=>(n(),i("div",R,[s("div",W,[(n(),i("svg",{viewBox:`0 0 ${g} ${p}`,class:"bp-chart"},[u(" 50% line "),s("line",{x1:"0",y1:w.value,x2:g,y2:w.value,stroke:"var(--dsa-orange)","stroke-width":"1","stroke-dasharray":"4 3"},null,8,q),s("text",{x:g-30,y:w.value-4,fill:"var(--dsa-orange)","font-size":"11"},"50%",8,G),u(" Axes "),s("line",{x1:"0",y1:"0",x2:"0",y2:p,stroke:"var(--dsa-border)","stroke-width":"1"}),s("line",{x1:"0",y1:p,x2:g,y2:p,stroke:"var(--dsa-border)","stroke-width":"1"}),u(" Curve "),C.value?(n(),i("path",{key:0,d:C.value,fill:"none",stroke:"var(--dsa-blue)","stroke-width":"2.5"},null,8,J)):u("v-if",!0),u(" Current point "),c.value.length>0?(n(),i("circle",{key:1,cx:c.value[c.value.length-1].x,cy:c.value[c.value.length-1].y,r:"5",fill:"var(--dsa-red)"},null,8,K)):u("v-if",!0)],8,Y)),s("div",O,[s("div",Q,[t[4]||(t[4]=s("div",{class:"bp-label"},"人数",-1)),s("div",U,f(a.value),1)]),s("div",X,[t[5]||(t[5]=s("div",{class:"bp-label"},"衝突確率",-1)),s("div",{class:$(["bp-value",{"bp-high":y.value>.5}])},f(r.value)+"%",3)]),s("div",Z,[(n(),i(d,null,j(x,l=>s("div",{key:l.n,class:$(["bp-milestone",{"bp-reached":a.value>=l.n}]),onClick:b=>k(l.n)},f(l.n)+"人 → "+f(l.label),11,ss)),64))]),s("div",ts,[a.value===0?(n(),i(d,{key:0},[o("人を追加して衝突確率を観察しましょう")],64)):a.value<23?(n(),i(d,{key:1},[o("まだ50%未満 ― 直感通り？")],64)):a.value===23?(n(),i(d,{key:2},[o("たった23人で50%超！")],64)):a.value<50?(n(),i(d,{key:3},[o("急速に確率が上昇中")],64)):(n(),i(d,{key:4},[o("ほぼ確実に誕生日が一致する人がいる")],64))])])]),s("div",as,[s("button",{class:"bp-btn",onClick:F},"+1人"),s("button",{class:"bp-btn",onClick:t[0]||(t[0]=l=>_(5))},"+5人"),s("button",{class:"bp-btn",onClick:t[1]||(t[1]=l=>_(10))},"+10人"),s("button",{class:"bp-btn bp-preset",onClick:t[2]||(t[2]=l=>k(23))},"23人"),s("button",{class:"bp-btn bp-preset",onClick:t[3]||(t[3]=l=>k(50))},"50人"),s("button",{class:"bp-btn bp-reset",onClick:z},"リセット")])]))}}),es=E(ls,[["__scopeId","data-v-d4cd4067"]]),ms={__name:"slides.md__slidev_15",setup(N){const{$clicksContext:a,$frontmatter:m}=B();return a.setup(),(y,r)=>{const x=es;return n(),D(H,A(I(M(S)(M(m),14))),{default:V(()=>[r[0]||(r[0]=s("h2",null,"誕生日のパラドックスを体験しよう",-1)),T(x),r[1]||(r[1]=s("div",{class:"box-definition"},[s("p",null,[s("strong",null,"直感に反する結果:"),o(" 23人で50%超の確率で誕生日が一致する人がいる")]),s("p",null,[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mi",null,"P"),s("mo",{stretchy:"false"},"("),s("mtext",null,"衝突"),s("mo",{stretchy:"false"},")"),s("mo",null,"="),s("mn",null,"1"),s("mo",null,"−"),s("munderover",null,[s("mo",null,"∏"),s("mrow",null,[s("mi",null,"i"),s("mo",null,"="),s("mn",null,"0")]),s("mrow",null,[s("mi",null,"n"),s("mo",null,"−"),s("mn",null,"1")])]),s("mfrac",null,[s("mrow",null,[s("mn",null,"365"),s("mo",null,"−"),s("mi",null,"i")]),s("mn",null,"365")])]),s("annotation",{encoding:"application/x-tex"},"P(\\text{衝突}) = 1 - \\prod_{i=0}^{n-1} \\frac{365-i}{365} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mopen"},"("),s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"衝突")]),s("span",{class:"mclose"},")"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7278em","vertical-align":"-0.0833em"}}),s("span",{class:"mord"},"1"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"3.0788em","vertical-align":"-1.2777em"}}),s("span",{class:"mop op-limits"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.8011em"}},[s("span",{style:{top:"-1.8723em","margin-left":"0em"}},[s("span",{class:"pstrut",style:{height:"3.05em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"i"),s("span",{class:"mrel mtight"},"="),s("span",{class:"mord mtight"},"0")])])]),s("span",{style:{top:"-3.05em"}},[s("span",{class:"pstrut",style:{height:"3.05em"}}),s("span",null,[s("span",{class:"mop op-symbol large-op"},"∏")])]),s("span",{style:{top:"-4.3em","margin-left":"0em"}},[s("span",{class:"pstrut",style:{height:"3.05em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"n"),s("span",{class:"mbin mtight"},"−"),s("span",{class:"mord mtight"},"1")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.2777em"}},[s("span")])])])]),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3365em"}},[s("span",{style:{top:"-2.314em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"365")])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.677em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"365"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"−"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mord mathnormal"},"i")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.686em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})])])])])])]),s("p",null,[o("ペアの数 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",{fence:"true"},"("),s("mfrac",{linethickness:"0px"},[s("mi",null,"n"),s("mn",null,"2")]),s("mo",{fence:"true"},")")]),s("annotation",{encoding:"application/x-tex"},"\\binom{n}{2}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1.2em","vertical-align":"-0.35em"}}),s("span",{class:"mord"},[s("span",{class:"mopen delimcenter",style:{top:"0em"}},[s("span",{class:"delimsizing size1"},"(")]),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.7454em"}},[s("span",{style:{top:"-2.355em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"2")])])]),s("span",{style:{top:"-3.144em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mathnormal mtight"},"n")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.345em"}},[s("span")])])])]),s("span",{class:"mclose delimcenter",style:{top:"0em"}},[s("span",{class:"delimsizing size1"},")")])])])])]),o(" が急速に増えることが本質 — 23人なら253ペアもある")])],-1)),r[2]||(r[2]=s("p",null,[o("この直感に反する結果は"),s("strong",null,"第8回のハッシュ衝突"),o("と深く関係します")],-1))]),_:1},16)}}};export{ms as default};
