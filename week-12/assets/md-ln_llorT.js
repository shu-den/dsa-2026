import{f as P,K as G,o as i,e as d,g as o,n as x,j as S,F as j,aj as F,t as C,ad as q,T as y,r as v,z as T,i as z,b as A,w as I,d as K,v as L,x as O}from"./modules/vue-CCeyAUKo.js";import{u as k,f as R}from"./slidev/context-Caj_R816.js";import{_ as H}from"./index-BZHwK53F.js";import"./modules/shiki-0ujfn9a0.js";const J={class:"graph-traversal"},Q={class:"gt-controls"},U={class:"gt-tabs"},W=["disabled"],X={viewBox:"0 0 300 270",class:"gt-svg"},Y=["x1","y1","x2","y2"],Z=["cx","cy"],ee=["x","y"],te={class:"gt-info"},se={class:"gt-order"},oe={key:0,class:"gt-message"},ae=P({__name:"GraphTraversal",props:{nodes:{default:()=>[{id:0,label:"A",x:150,y:40},{id:1,label:"B",x:60,y:120},{id:2,label:"C",x:240,y:120},{id:3,label:"D",x:30,y:220},{id:4,label:"E",x:150,y:200},{id:5,label:"F",x:270,y:220}]},edges:{default:()=>[{from:0,to:1},{from:0,to:2},{from:1,to:3},{from:1,to:4},{from:2,to:4},{from:2,to:5}]},startNode:{default:0}},setup(_){k();const n=_,l=v("dfs"),f=v(new Set),g=v(-1),m=v([]),$=v([]),u=v(0),h=v(!1),r=T(()=>new Map(n.nodes.map(s=>[s.id,s]))),N=T(()=>{const s=new Map;for(const t of n.nodes)s.set(t.id,[]);for(const t of n.edges)s.get(t.from).push(t.to),s.get(t.to).push(t.from);for(const[,t]of s)t.sort((e,a)=>e-a);return s});function D(){const s=[],t=new Set;if(l.value==="dfs"){const e=[n.startNode];for(;e.length>0;){const a=e.pop();if(t.has(a))continue;t.add(a);const c=(N.value.get(a)||[]).filter(b=>!t.has(b));for(const b of[...c].reverse())e.push(b);s.push({current:a,visited:new Set(t),frontier:[...e],message:`訪問: ${r.value.get(a).label}, スタック: [${e.map(b=>r.value.get(b).label).join(", ")}]`})}}else{const e=[n.startNode];for(t.add(n.startNode);e.length>0;){const a=e.shift(),B=N.value.get(a)||[];for(const c of B)t.has(c)||(t.add(c),e.push(c));s.push({current:a,visited:new Set(t),frontier:[...e],message:`訪問: ${r.value.get(a).label}, キュー: [${e.map(c=>r.value.get(c).label).join(", ")}]`})}}return s}let p=[];function w(){f.value=new Set,g.value=-1,m.value=[],$.value=[],u.value=0,h.value=!1,p=D()}G(l,w),w();function V(){if(h.value||u.value>=p.length){h.value=!0;return}const s=p[u.value];f.value=s.visited,g.value=s.current,m.value.push(s.current),$.value=s.frontier,u.value++,u.value>=p.length&&(h.value=!0)}function E(s){return s===g.value?"gt-node current":f.value.has(s)?"gt-node visited":$.value.includes(s)?"gt-node frontier":"gt-node"}function M(s,t){return f.value.has(s)&&f.value.has(t)?"gt-edge visited":"gt-edge"}return(s,t)=>(i(),d("div",J,[o("div",Q,[o("div",U,[o("button",{class:x(["gt-tab",{active:l.value==="dfs"}]),onClick:t[0]||(t[0]=e=>l.value="dfs")},"DFS",2),o("button",{class:x(["gt-tab",{active:l.value==="bfs"}]),onClick:t[1]||(t[1]=e=>l.value="bfs")},"BFS",2)]),o("button",{class:"gt-btn",onClick:V,disabled:h.value},"次のステップ",8,W),o("button",{class:"gt-btn gt-reset",onClick:w},"リセット")]),(i(),d("svg",X,[S(" Edges "),(i(!0),d(j,null,F(_.edges,(e,a)=>(i(),d("line",{key:`e-${a}`,x1:r.value.get(e.from).x,y1:r.value.get(e.from).y,x2:r.value.get(e.to).x,y2:r.value.get(e.to).y,class:x(M(e.from,e.to))},null,10,Y))),128)),S(" Nodes "),(i(!0),d(j,null,F(_.nodes,e=>(i(),d("g",{key:e.id,class:x(E(e.id))},[o("circle",{cx:e.x,cy:e.y,r:"22"},null,8,Z),o("text",{x:e.x,y:e.y+5,"text-anchor":"middle","font-size":"16","font-weight":"700"},C(e.label),9,ee)],2))),128))])),o("div",te,[o("div",se,[t[2]||(t[2]=q(" 訪問順序: ",-1)),o("strong",null,C(m.value.map(e=>r.value.get(e).label).join(" → ")||"-"),1)]),u.value>0&&u.value<=y(p).length?(i(),d("div",oe,C(y(p)[u.value-1].message),1)):S("v-if",!0)])]))}}),ne=H(ae,[["__scopeId","data-v-b3ddc56b"]]),le={class:"slidev-layout layout-interactive"},re={class:"interactive-container"},ie={__name:"interactive",setup(_){return k(),(n,l)=>(i(),d("div",le,[o("h2",null,[z(n.$slots,"title")]),o("div",re,[z(n.$slots,"default")])]))}},fe={__name:"slides.md__slidev_11",setup(_){const{$clicksContext:n,$frontmatter:l}=k();return n.setup(),(f,g)=>{const m=ne;return i(),A(ie,L(O(y(R)(y(l),10))),{default:I(()=>[g[0]||(g[0]=o("h2",null,"DFSでグラフを探索しよう",-1)),K(m)]),_:1},16)}}};export{fe as default};
