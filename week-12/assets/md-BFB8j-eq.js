import{f as q,r as i,K as j,o as c,e as f,g as o,n as y,j as S,F as B,aj as F,t as k,ad as T,z,Q as A,b as I,w as K,d as L,v as O,x as Q,T as D}from"./modules/vue-CCeyAUKo.js";import{u as V,f as H}from"./slidev/context-CZ3qV9nw.js";import{_ as J}from"./index-i4idtOIx.js";import{_ as U}from"./interactive-i0jgOb8U.js";import"./modules/shiki-0ujfn9a0.js";const W={class:"graph-traversal"},X={class:"gt-controls"},Y={class:"gt-tabs"},Z=["disabled"],ee={viewBox:"0 0 300 270",class:"gt-svg"},te=["x1","y1","x2","y2"],se=["onClick"],oe=["cx","cy"],ae=["x","y"],ne={class:"gt-info"},le={class:"gt-start-info"},re={class:"gt-order"},ue={key:0,class:"gt-message"},ie=q({__name:"GraphTraversal",props:{nodes:{default:()=>[{id:0,label:"A",x:150,y:40},{id:1,label:"B",x:60,y:120},{id:2,label:"C",x:240,y:120},{id:3,label:"D",x:30,y:220},{id:4,label:"E",x:150,y:200},{id:5,label:"F",x:270,y:220}]},edges:{default:()=>[{from:0,to:1},{from:0,to:2},{from:1,to:3},{from:1,to:4},{from:2,to:4},{from:2,to:5}]},startNode:{default:0}},setup(b){V();const g=b,l=i(g.startNode),d=i("dfs"),u=i(new Set),m=i(-1),w=i([]),C=i([]),r=i(0),h=i(!1),n=z(()=>new Map(g.nodes.map(s=>[s.id,s]))),$=z(()=>{const s=new Map;for(const e of g.nodes)s.set(e.id,[]);for(const e of g.edges)s.get(e.from).push(e.to),s.get(e.to).push(e.from);for(const[,e]of s)e.sort((t,a)=>t-a);return s});function E(){const s=[],e=new Set;if(d.value==="dfs"){const t=[l.value];for(;t.length>0;){const a=t.pop();if(e.has(a))continue;e.add(a);const v=($.value.get(a)||[]).filter(_=>!e.has(_));for(const _ of[...v].reverse())t.push(_);s.push({current:a,visited:new Set(e),frontier:[...t],message:`訪問: ${n.value.get(a).label}, スタック: [${t.map(_=>n.value.get(_).label).join(", ")}]`})}}else{const t=[l.value];for(e.add(l.value);t.length>0;){const a=t.shift(),N=$.value.get(a)||[];for(const v of N)e.has(v)||(e.add(v),t.push(v));s.push({current:a,visited:new Set(e),frontier:[...t],message:`訪問: ${n.value.get(a).label}, キュー: [${t.map(v=>n.value.get(v).label).join(", ")}]`})}}return s}const p=A([]);function x(){u.value=new Set,m.value=-1,w.value=[],C.value=[],r.value=0,h.value=!1,p.value=E()}j(d,x),j(l,x),x();function M(s){l.value=s}function P(){if(h.value||r.value>=p.value.length){h.value=!0;return}const s=p.value[r.value];u.value=s.visited,m.value=s.current,w.value.push(s.current),C.value=s.frontier,r.value++,r.value>=p.value.length&&(h.value=!0)}function G(s){const e=["gt-node"];return s===m.value?e.push("current"):u.value.has(s)?e.push("visited"):C.value.includes(s)&&e.push("frontier"),s===l.value&&r.value===0&&e.push("start-node"),e.join(" ")}function R(s,e){return u.value.has(s)&&u.value.has(e)?"gt-edge visited":"gt-edge"}return(s,e)=>(c(),f("div",W,[o("div",X,[o("div",Y,[o("button",{class:y(["gt-tab",{active:d.value==="dfs"}]),onClick:e[0]||(e[0]=t=>d.value="dfs")},"DFS",2),o("button",{class:y(["gt-tab",{active:d.value==="bfs"}]),onClick:e[1]||(e[1]=t=>d.value="bfs")},"BFS",2)]),o("button",{class:"gt-btn",onClick:P,disabled:h.value},"次のステップ",8,Z),o("button",{class:"gt-btn gt-reset",onClick:x},"リセット")]),(c(),f("svg",ee,[S(" Edges "),(c(!0),f(B,null,F(b.edges,(t,a)=>(c(),f("line",{key:`e-${a}`,x1:n.value.get(t.from).x,y1:n.value.get(t.from).y,x2:n.value.get(t.to).x,y2:n.value.get(t.to).y,class:y(R(t.from,t.to))},null,10,te))),128)),S(" Nodes "),(c(!0),f(B,null,F(b.nodes,t=>(c(),f("g",{key:t.id,class:y([G(t.id),"gt-clickable"]),onClick:a=>M(t.id)},[o("circle",{cx:t.x,cy:t.y,r:"22"},null,8,oe),o("text",{x:t.x,y:t.y+5,"text-anchor":"middle","font-size":"16","font-weight":"700"},k(t.label),9,ae)],10,se))),128))])),o("div",ne,[o("div",le,[e[2]||(e[2]=T(" 開始ノード: ",-1)),o("strong",null,k(n.value.get(l.value).label),1),e[3]||(e[3]=o("span",{class:"gt-hint"},"（ノードをクリックで変更）",-1))]),o("div",re,[e[4]||(e[4]=T(" 訪問順序: ",-1)),o("strong",null,k(w.value.map(t=>n.value.get(t).label).join(" → ")||"-"),1)]),r.value>0&&r.value<=p.value.length?(c(),f("div",ue,k(p.value[r.value-1].message),1)):S("v-if",!0)])]))}}),ce=J(ie,[["__scopeId","data-v-5bee68b4"]]),me={__name:"slides.md__slidev_17",setup(b){const{$clicksContext:g,$frontmatter:l}=V();return g.setup(),(d,u)=>{const m=ce;return c(),I(U,O(Q(D(H)(D(l),16))),{default:K(()=>[u[0]||(u[0]=o("h2",null,"DFSでグラフを探索しよう",-1)),L(m)]),_:1},16)}}};export{me as default};
