import{f as M,K as P,o as u,e as c,g as a,n as x,j as S,F as B,aj as j,t as k,ad as G,T as y,r as f,z as F,b as q,w as A,d as I,v as K,x as L}from"./modules/vue-CCeyAUKo.js";import{u as T,f as O}from"./slidev/context-CYRph3iO.js";import{_ as R}from"./index-CTfecor2.js";import{_ as H}from"./interactive-DfBAELs1.js";import"./modules/shiki-0ujfn9a0.js";const J={class:"graph-traversal"},Q={class:"gt-controls"},U={class:"gt-tabs"},W=["disabled"],X={viewBox:"0 0 300 270",class:"gt-svg"},Y=["x1","y1","x2","y2"],Z=["cx","cy"],ee=["x","y"],te={class:"gt-info"},se={class:"gt-order"},oe={key:0,class:"gt-message"},ae=M({__name:"GraphTraversal",props:{nodes:{default:()=>[{id:0,label:"A",x:150,y:40},{id:1,label:"B",x:60,y:120},{id:2,label:"C",x:240,y:120},{id:3,label:"D",x:30,y:220},{id:4,label:"E",x:150,y:200},{id:5,label:"F",x:270,y:220}]},edges:{default:()=>[{from:0,to:1},{from:0,to:2},{from:1,to:3},{from:1,to:4},{from:2,to:4},{from:2,to:5}]},startNode:{default:0}},setup(b){T();const r=b,l=f("dfs"),v=f(new Set),g=f(-1),p=f([]),w=f([]),i=f(0),_=f(!1),n=F(()=>new Map(r.nodes.map(s=>[s.id,s]))),N=F(()=>{const s=new Map;for(const t of r.nodes)s.set(t.id,[]);for(const t of r.edges)s.get(t.from).push(t.to),s.get(t.to).push(t.from);for(const[,t]of s)t.sort((e,o)=>e-o);return s});function z(){const s=[],t=new Set;if(l.value==="dfs"){const e=[r.startNode];for(;e.length>0;){const o=e.pop();if(t.has(o))continue;t.add(o);const d=(N.value.get(o)||[]).filter(h=>!t.has(h));for(const h of[...d].reverse())e.push(h);s.push({current:o,visited:new Set(t),frontier:[...e],message:`訪問: ${n.value.get(o).label}, スタック: [${e.map(h=>n.value.get(h).label).join(", ")}]`})}}else{const e=[r.startNode];for(t.add(r.startNode);e.length>0;){const o=e.shift(),$=N.value.get(o)||[];for(const d of $)t.has(d)||(t.add(d),e.push(d));s.push({current:o,visited:new Set(t),frontier:[...e],message:`訪問: ${n.value.get(o).label}, キュー: [${e.map(d=>n.value.get(d).label).join(", ")}]`})}}return s}let m=[];function C(){v.value=new Set,g.value=-1,p.value=[],w.value=[],i.value=0,_.value=!1,m=z()}P(l,C),C();function D(){if(_.value||i.value>=m.length){_.value=!0;return}const s=m[i.value];v.value=s.visited,g.value=s.current,p.value.push(s.current),w.value=s.frontier,i.value++,i.value>=m.length&&(_.value=!0)}function V(s){return s===g.value?"gt-node current":v.value.has(s)?"gt-node visited":w.value.includes(s)?"gt-node frontier":"gt-node"}function E(s,t){return v.value.has(s)&&v.value.has(t)?"gt-edge visited":"gt-edge"}return(s,t)=>(u(),c("div",J,[a("div",Q,[a("div",U,[a("button",{class:x(["gt-tab",{active:l.value==="dfs"}]),onClick:t[0]||(t[0]=e=>l.value="dfs")},"DFS",2),a("button",{class:x(["gt-tab",{active:l.value==="bfs"}]),onClick:t[1]||(t[1]=e=>l.value="bfs")},"BFS",2)]),a("button",{class:"gt-btn",onClick:D,disabled:_.value},"次のステップ",8,W),a("button",{class:"gt-btn gt-reset",onClick:C},"リセット")]),(u(),c("svg",X,[S(" Edges "),(u(!0),c(B,null,j(b.edges,(e,o)=>(u(),c("line",{key:`e-${o}`,x1:n.value.get(e.from).x,y1:n.value.get(e.from).y,x2:n.value.get(e.to).x,y2:n.value.get(e.to).y,class:x(E(e.from,e.to))},null,10,Y))),128)),S(" Nodes "),(u(!0),c(B,null,j(b.nodes,e=>(u(),c("g",{key:e.id,class:x(V(e.id))},[a("circle",{cx:e.x,cy:e.y,r:"22"},null,8,Z),a("text",{x:e.x,y:e.y+5,"text-anchor":"middle","font-size":"16","font-weight":"700"},k(e.label),9,ee)],2))),128))])),a("div",te,[a("div",se,[t[2]||(t[2]=G(" 訪問順序: ",-1)),a("strong",null,k(p.value.map(e=>n.value.get(e).label).join(" → ")||"-"),1)]),i.value>0&&i.value<=y(m).length?(u(),c("div",oe,k(y(m)[i.value-1].message),1)):S("v-if",!0)])]))}}),ne=R(ae,[["__scopeId","data-v-b3ddc56b"]]),ce={__name:"slides.md__slidev_17",setup(b){const{$clicksContext:r,$frontmatter:l}=T();return r.setup(),(v,g)=>{const p=ne;return u(),q(H,K(L(y(O)(y(l),16))),{default:A(()=>[g[0]||(g[0]=a("h2",null,"DFSでグラフを探索しよう",-1)),I(p)]),_:1},16)}}};export{ce as default};
