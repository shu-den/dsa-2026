import{f as M,K as P,o as i,e as c,g as a,n as b,j as C,F as $,aj as B,t as S,ad as G,r as v,z as j,Q as R,b as q,w as A,d as I,v as K,x as L,T as F}from"./modules/vue-CCeyAUKo.js";import{u as T,f as O}from"./slidev/context-CJNtA8gj.js";import{_ as Q}from"./index-DcXHk_I-.js";import{_ as H}from"./interactive-ZHfUj6jP.js";import"./modules/shiki-0ujfn9a0.js";const J={class:"graph-traversal"},U={class:"gt-controls"},W={class:"gt-tabs"},X=["disabled"],Y={viewBox:"0 0 300 270",class:"gt-svg"},Z=["x1","y1","x2","y2"],ee=["cx","cy"],te=["x","y"],se={class:"gt-info"},oe={class:"gt-order"},ae={key:0,class:"gt-message"},ne=M({__name:"GraphTraversal",props:{nodes:{default:()=>[{id:0,label:"A",x:150,y:40},{id:1,label:"B",x:60,y:120},{id:2,label:"C",x:240,y:120},{id:3,label:"D",x:30,y:220},{id:4,label:"E",x:150,y:200},{id:5,label:"F",x:270,y:220}]},edges:{default:()=>[{from:0,to:1},{from:0,to:2},{from:1,to:3},{from:1,to:4},{from:2,to:4},{from:2,to:5}]},startNode:{default:0}},setup(x){T();const l=x,r=v("dfs"),f=v(new Set),g=v(-1),p=v([]),y=v([]),u=v(0),_=v(!1),n=j(()=>new Map(l.nodes.map(s=>[s.id,s]))),k=j(()=>{const s=new Map;for(const t of l.nodes)s.set(t.id,[]);for(const t of l.edges)s.get(t.from).push(t.to),s.get(t.to).push(t.from);for(const[,t]of s)t.sort((e,o)=>e-o);return s});function z(){const s=[],t=new Set;if(r.value==="dfs"){const e=[l.startNode];for(;e.length>0;){const o=e.pop();if(t.has(o))continue;t.add(o);const d=(k.value.get(o)||[]).filter(h=>!t.has(h));for(const h of[...d].reverse())e.push(h);s.push({current:o,visited:new Set(t),frontier:[...e],message:`訪問: ${n.value.get(o).label}, スタック: [${e.map(h=>n.value.get(h).label).join(", ")}]`})}}else{const e=[l.startNode];for(t.add(l.startNode);e.length>0;){const o=e.shift(),N=k.value.get(o)||[];for(const d of N)t.has(d)||(t.add(d),e.push(d));s.push({current:o,visited:new Set(t),frontier:[...e],message:`訪問: ${n.value.get(o).label}, キュー: [${e.map(d=>n.value.get(d).label).join(", ")}]`})}}return s}const m=R([]);function w(){f.value=new Set,g.value=-1,p.value=[],y.value=[],u.value=0,_.value=!1,m.value=z()}P(r,w),w();function D(){if(_.value||u.value>=m.value.length){_.value=!0;return}const s=m.value[u.value];f.value=s.visited,g.value=s.current,p.value.push(s.current),y.value=s.frontier,u.value++,u.value>=m.value.length&&(_.value=!0)}function V(s){return s===g.value?"gt-node current":f.value.has(s)?"gt-node visited":y.value.includes(s)?"gt-node frontier":"gt-node"}function E(s,t){return f.value.has(s)&&f.value.has(t)?"gt-edge visited":"gt-edge"}return(s,t)=>(i(),c("div",J,[a("div",U,[a("div",W,[a("button",{class:b(["gt-tab",{active:r.value==="dfs"}]),onClick:t[0]||(t[0]=e=>r.value="dfs")},"DFS",2),a("button",{class:b(["gt-tab",{active:r.value==="bfs"}]),onClick:t[1]||(t[1]=e=>r.value="bfs")},"BFS",2)]),a("button",{class:"gt-btn",onClick:D,disabled:_.value},"次のステップ",8,X),a("button",{class:"gt-btn gt-reset",onClick:w},"リセット")]),(i(),c("svg",Y,[C(" Edges "),(i(!0),c($,null,B(x.edges,(e,o)=>(i(),c("line",{key:`e-${o}`,x1:n.value.get(e.from).x,y1:n.value.get(e.from).y,x2:n.value.get(e.to).x,y2:n.value.get(e.to).y,class:b(E(e.from,e.to))},null,10,Z))),128)),C(" Nodes "),(i(!0),c($,null,B(x.nodes,e=>(i(),c("g",{key:e.id,class:b(V(e.id))},[a("circle",{cx:e.x,cy:e.y,r:"22"},null,8,ee),a("text",{x:e.x,y:e.y+5,"text-anchor":"middle","font-size":"16","font-weight":"700"},S(e.label),9,te)],2))),128))])),a("div",se,[a("div",oe,[t[2]||(t[2]=G(" 訪問順序: ",-1)),a("strong",null,S(p.value.map(e=>n.value.get(e).label).join(" → ")||"-"),1)]),u.value>0&&u.value<=m.value.length?(i(),c("div",ae,S(m.value[u.value-1].message),1)):C("v-if",!0)])]))}}),le=Q(ne,[["__scopeId","data-v-f187af19"]]),ve={__name:"slides.md__slidev_17",setup(x){const{$clicksContext:l,$frontmatter:r}=T();return l.setup(),(f,g)=>{const p=le;return i(),q(H,K(L(F(O)(F(r),16))),{default:A(()=>[g[0]||(g[0]=a("h2",null,"DFSでグラフを探索しよう",-1)),I(p)]),_:1},16)}}};export{ve as default};
