const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./md-BhiMPpyX.js","./modules/vue-EkOm0DBg.js","./slidev/context-CcA0qrKu.js","./modules/shiki-CIKF_8I9.js","./modules/shiki-UqVAgQbi.css","./md-7Z0rQ9FL.js","./md-BmkMC2mw.js","./default-BzI0rHCP.js","./md-B-laCmv3.js","./section-divider-8JASqYUZ.js","./md-C23HvhKG.js","./md-CYBhZzwf.js","./md-7eMNP9Zg.js","./md-LnTyjwcS.js","./md-C1QO83a9.js","./md-Dgmziyl7.js","./md-BjcCSe6d.js","./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-Cr3PIK-c.js","./modules/unplugin-icons-Cy6aUMRx.js","./md-Dm32qu3j.js","./md-BiH18aIw.js","./md-DnaS-8jg.js","./md-CBzTKPZt.js","./md-C1NU-LmL.js","./md-DAFeiLY_.js","./md-CdWn0sZS.js","./md-DD0Dfq2g.js","./md-Ce-Qid8W.js","./md-CjvpM9Ew.js","./md-Dx2zsmqF.js","./md-3lIOr0zY.css","./md-CVpzfiNv.js","./md-CTCI-Clx.js","./md-Dnc24tuW.js","./md-B_Q7IrBP.js","./md-BJComDVb.js","./md-D2xJJVQ_.js","./md-BPu4CWb7.js","./md-CmooXEOl.js","./md-CEUTEEVf.js","./md-BUkCo7BX.js","./md-CzdhvS_G.js","./md-Dmu9vhZZ.js","./md-DH6PrTI2.js","./md-ClXuK4JP.js","./question-C1cOAhGH.js","./md-CviUWfuK.js","./md-BpmLrkTY.js","./md-BQ3jVqyJ.js","./slidev/entry-Ctc11Ay9.js","./entry-CyMt_iSL.css","./slidev/overview-6I3BHcjR.js","./slidev/NoteDisplay.vue_vue_type_style_index_0_lang-CAlSM4Y9.js","./NoteDisplay-DggBAdha.css","./slidev/SlideWrapper-Br7t6y1w.js","./SlideWrapper-4Jte_8x4.css","./slidev/IconButton.vue_vue_type_script_setup_true_lang-BV593VYM.js","./slidev/useSlideInfo-De-7ghfk.js","./slidev/notes-CfXp4ZhN.js","./slidev/TimerBar.vue_vue_type_script_setup_true_lang-C3ACKfwZ.js","./slidev/Modal.vue_vue_type_script_setup_true_lang-O9nhGBGA.js","./slidev/notes-edit-BKFRzWvp.js","./slidev/presenter-Drr2MWep.js","./slidev/shortcuts-BIi1pzTm.js","./shortcuts-B4GtsM5T.css","./presenter-Bs6wyjjy.css","./slidev/play-CazMu2lD.js","./play-D_7yfuao.css","./slidev/404-BrIt-UaX.js","./404-poZcRPAh.css"])))=>i.map(i=>d[i]);
import{z as k,A as np,B as Mn,C as tp,D as oe,E as oa,G as ep,H as pp,I as mp,r as E,J as ce,K as ss,L as he,M as S,N as lp,O as ip,o as ja,e as bn,t as rp,f as ge,F as op,g as nt,j as cp,P as L,Q as zn,R as hp,S as Za,p as gp,T as dp,U as up,V as fp,W as F,X as yp,Y as de,Z as wp,_ as xp,$ as Xa,a0 as vp,a1 as ue,a2 as kp,a3 as Mp,a4 as bp,a5 as fe,b as _p,a as Lp,a6 as Sp,a7 as Ap,a8 as Op,a9 as Np,aa as $p,ab as Ep,ac as Tp,c as Cp}from"./modules/vue-EkOm0DBg.js";import{T as Pp}from"./modules/shiki-CIKF_8I9.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const p of e)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&t(m)}).observe(document,{childList:!0,subtree:!0});function n(e){const p={};return e.integrity&&(p.integrity=e.integrity),e.referrerPolicy&&(p.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?p.credentials="include":e.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function t(e){if(e.ep)return;e.ep=!0;const p=n(e);fetch(e.href,p)}})();const B={theme:"../theme",title:"DSA 第4回: 整数の秘密",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],monacoRunUseStrict:!0,download:!1,export:{},info:`<p>データ構造とアルゴリズム 2026年度 第4回
関西大学 ビジネスデータサイエンス学部 / 伝住 周平</p>
`,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"light",routerMode:"hash",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Noto Sans JP"','"sans-serif"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"JetBrains Mono"','"monospace"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Noto Sans JP","sans-serif","JetBrains Mono","monospace"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!1,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,magicMoveCopy:!0,author:"",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"slide-left",editor:!0,contextMenu:null,wakeLock:!0,mdc:!1,seoMeta:{},notesAutoRuby:{},duration:"30min",timer:"stopwatch",magicMoveDuration:800,preloadImages:!0,layout:"title",slidesTitle:"DSA 第4回: 整数の秘密 - Slidev"};function _n(a,s,n){return Math.min(n,Math.max(s,a))}function Rp(...a){return Bp(a).reduce((s,n)=>s+n,0)}function Dp(a){return a=a??[],Array.isArray(a)?a:[a]}function Bp(a){return Dp(a).flat(1)}function qp(a){return Array.from(new Set(a))}function tt(...a){let s,n,t;a.length===1?(s=0,t=1,[n]=a):[s,n,t=1]=a;const e=[];let p=s;for(;p<n;)e.push(p),p+=t||1;return e}function zp(a){return a!=null}function Hp(a,s){return Object.fromEntries(Object.entries(a).map(([n,t])=>s(n,t)).filter(zp))}const no="build",ye=k(()=>B.aspectRatio),we=k(()=>B.canvasWidth),Ip=k(()=>Math.ceil(we.value/ye.value)),jp=k(()=>Hp(B.themeConfig||{},(a,s)=>[`--slidev-theme-${a}`,s])),rn=B.slidesTitle,to="./#/",Vp=[Object.values([])[0],Object.values([])[0]].filter(Boolean),Fp=new Set(["link","style","script","noscript"]),Wp=new Set(["title","titleTemplate","script","style","noscript"]),et=new Set(["base","meta","link","style","script","noscript"]),Up=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Jp=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Gp=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Kp=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Yp=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function Ln(a,s={},n){for(const t in a){const e=a[t],p=n?`${n}:${t}`:t;typeof e=="object"&&e!==null?Ln(e,s,p):typeof e=="function"&&(s[p]=e)}return s}const xe=(()=>{if(console.createTask)return console.createTask;const a={run:s=>s()};return()=>a})();function ve(a,s,n,t){for(let e=n;e<a.length;e+=1)try{const p=t?t.run(()=>a[e](...s)):a[e](...s);if(p instanceof Promise)return p.then(()=>ve(a,s,e+1,t))}catch(p){return Promise.reject(p)}}function Qp(a,s,n){if(a.length>0)return ve(a,s,0,xe(n))}function Zp(a,s,n){if(a.length>0){const t=xe(n);return Promise.all(a.map(e=>t.run(()=>e(...s))))}}function on(a,s){for(const n of[...a])n(s)}var Xp=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(a,s,n={}){if(!a||typeof s!="function")return()=>{};const t=a;let e;for(;this._deprecatedHooks[a];)e=this._deprecatedHooks[a],a=e.to;if(e&&!n.allowDeprecated){let p=e.message;p||(p=`${t} hook has been deprecated`+(e.to?`, please use ${e.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(p)||(console.warn(p),this._deprecatedMessages.add(p))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+a.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[a]=this._hooks[a]||[],this._hooks[a].push(s),()=>{s&&(this.removeHook(a,s),s=void 0)}}hookOnce(a,s){let n,t=(...e)=>(typeof n=="function"&&n(),n=void 0,t=void 0,s(...e));return n=this.hook(a,t),n}removeHook(a,s){const n=this._hooks[a];if(n){const t=n.indexOf(s);t!==-1&&n.splice(t,1),n.length===0&&(this._hooks[a]=void 0)}}deprecateHook(a,s){this._deprecatedHooks[a]=typeof s=="string"?{to:s}:s;const n=this._hooks[a]||[];this._hooks[a]=void 0;for(const t of n)this.hook(a,t)}deprecateHooks(a){for(const s in a)this.deprecateHook(s,a[s])}addHooks(a){const s=Ln(a),n=Object.keys(s).map(t=>this.hook(t,s[t]));return()=>{for(const t of n)t();n.length=0}}removeHooks(a){const s=Ln(a);for(const n in s)this.removeHook(n,s[n])}removeAllHooks(){this._hooks={}}callHook(a,...s){return this.callHookWith(Qp,a,s)}callHookParallel(a,...s){return this.callHookWith(Zp,a,s)}callHookWith(a,s,n){const t=this._before||this._after?{name:s,args:n,context:{}}:void 0;this._before&&on(this._before,t);const e=a(this._hooks[s]?[...this._hooks[s]]:[],n,s);return e instanceof Promise?e.finally(()=>{this._after&&t&&on(this._after,t)}):(this._after&&t&&on(this._after,t),e)}beforeEach(a){return this._before=this._before||[],this._before.push(a),()=>{if(this._before!==void 0){const s=this._before.indexOf(a);s!==-1&&this._before.splice(s,1)}}}afterEach(a){return this._after=this._after||[],this._after.push(a),()=>{if(this._after!==void 0){const s=this._after.indexOf(a);s!==-1&&this._after.splice(s,1)}}}};function sm(){return new Xp}const am=["name","property","http-equiv"],nm=new Set(["viewport","description","keywords","robots"]);function ke(a){const s=a.split(":");return s.length?Yp.has(s[1]):!1}function Sn(a){const{props:s,tag:n}=a;if(Jp.has(n))return n;if(n==="link"&&s.rel==="canonical")return"canonical";const t=s.hreflang||s.type;if(n==="link"&&s.rel==="alternate"&&t)return`alternate:${t}`;if(s.charset)return"charset";if(a.tag==="meta"){for(const e of am)if(s[e]!==void 0){const p=s[e],m=p&&typeof p=="string"&&p.includes(":"),l=p&&nm.has(p),r=!(m||l)&&a.key?`:key:${a.key}`:"";return`${n}:${p}${r}`}}if(a.key)return`${n}:key:${a.key}`;if(s.id)return`${n}:id:${s.id}`;if(Wp.has(n)){const e=a.textContent||a.innerHTML;if(e)return`${n}:content:${e}`}}function pt(a){const s=a._h||a._d;if(s)return s;const n=a.textContent||a.innerHTML;return n||`${a.tag}:${Object.entries(a.props).map(([t,e])=>`${t}:${String(e)}`).join(",")}`}function Va(a,s,n){typeof a==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(a=a());const e=s?s(n,a):a;if(Array.isArray(e))return e.map(p=>Va(p,s));if(e?.constructor===Object){const p={};for(const m of Object.keys(e))p[m]=Va(e[m],s,m);return p}return e}function tm(a,s){const n=a==="style"?new Map:new Set;function t(e){if(e==null||e===void 0)return;const p=String(e).trim();if(p)if(a==="style"){const[m,...l]=p.split(":").map(i=>i?i.trim():"");m&&l.length&&n.set(m,l.join(":"))}else p.split(" ").filter(Boolean).forEach(m=>n.add(m))}return typeof s=="string"?a==="style"?s.split(";").forEach(t):t(s):Array.isArray(s)?s.forEach(e=>t(e)):s&&typeof s=="object"&&Object.entries(s).forEach(([e,p])=>{p&&p!=="false"&&(a==="style"?n.set(String(e).trim(),String(p)):t(e))}),n}function Me(a,s){return a.props=a.props||{},s?a.tag==="templateParams"?(a.props=s,a):(Object.entries(s).forEach(([n,t])=>{if(t===null){a.props[n]=null;return}if(n==="class"||n==="style"){a.props[n]=tm(n,t);return}if(Gp.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof t=="object"){let l=s.type;if(s.type||(l="application/json"),!l?.endsWith("json")&&l!=="speculationrules")return;s.type=l,a.props.type=l,a[n]=JSON.stringify(t)}else a[n]=t;return}const e=String(t),p=n.startsWith("data-"),m=a.tag==="meta"&&n==="content";e==="true"||e===""?a.props[n]=p||m?e:!0:!t&&p&&e==="false"?a.props[n]="false":t!==void 0&&(a.props[n]=t)}),a):a}function em(a,s){const n=typeof s=="object"&&typeof s!="function"?s:{[a==="script"||a==="noscript"||a==="style"?"innerHTML":"textContent"]:s},t=Me({tag:a,props:{}},n);return t.key&&Fp.has(t.tag)&&(t.props["data-hid"]=t._h=t.key),t.tag==="script"&&typeof t.innerHTML=="object"&&(t.innerHTML=JSON.stringify(t.innerHTML),t.props.type=t.props.type||"application/json"),Array.isArray(t.props.content)?t.props.content.map(e=>({...t,props:{...t.props,content:e}})):t}function pm(a,s){if(!a)return[];typeof a=="function"&&(a=a());const n=(e,p)=>{for(let m=0;m<s.length;m++)p=s[m](e,p);return p};a=n(void 0,a);const t=[];return a=Va(a,n),Object.entries(a||{}).forEach(([e,p])=>{if(p!==void 0)for(const m of Array.isArray(p)?p:[p])t.push(em(e,m))}),t.flat()}const mt=(a,s)=>a._w===s._w?a._p-s._p:a._w-s._w,lt={base:-10,title:10},mm={critical:-8,high:-1,low:2},it={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},lm=/@import/,da=a=>a===""||a===!0;function im(a,s){if(typeof s.tagPriority=="number")return s.tagPriority;let n=100;const t=mm[s.tagPriority]||0,e=a.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:it;if(s.tag in lt)n=lt[s.tag];else if(s.tag==="meta"){const p=s.props["http-equiv"]==="content-security-policy"?"content-security-policy":s.props.charset?"charset":s.props.name==="viewport"?"viewport":null;p&&(n=it.meta[p])}else if(s.tag==="link"&&s.props.rel)n=e.link[s.props.rel];else if(s.tag==="script"){const p=String(s.props.type);da(s.props.async)?n=e.script.async:s.props.src&&!da(s.props.defer)&&!da(s.props.async)&&p!=="module"&&!p.endsWith("json")||s.innerHTML&&!p.endsWith("json")?n=e.script.sync:(da(s.props.defer)&&s.props.src&&!da(s.props.async)||p==="module")&&(n=e.script.defer)}else s.tag==="style"&&(n=s.innerHTML&&lm.test(s.innerHTML)?e.style.imported:e.style.sync);return(n||100)+t}function rt(a,s){const n=typeof s=="function"?s(a):s,t=n.key||String(a.plugins.size+1);a.plugins.get(t)||(a.plugins.set(t,n),a.hooks.addHooks(n.hooks||{}))}function rm(a={}){const s=sm();s.addHooks(a.hooks||{});const n=!a.document,t=new Map,e=new Map,p=new Set,m={_entryCount:1,plugins:e,dirty:!1,resolvedOptions:a,hooks:s,ssr:n,entries:t,headEntries(){return[...t.values()]},use:l=>rt(m,l),push(l,i){const r={...i||{}};delete r.head;const c=r._index??m._entryCount++,g={_i:c,input:l,options:r},h={_poll(o=!1){m.dirty=!0,!o&&p.add(c),s.callHook("entries:updated",m)},dispose(){t.delete(c)&&m.invalidate()},patch(o){(!r.mode||r.mode==="server"&&n||r.mode==="client"&&!n)&&(g.input=o,t.set(c,g),h._poll())}};return h.patch(l),h},async resolveTags(){const l={tagMap:new Map,tags:[],entries:[...m.entries.values()]};for(await s.callHook("entries:resolve",l);p.size;){const h=p.values().next().value;p.delete(h);const o=t.get(h);if(o){const u={tags:pm(o.input,a.propResolvers||[]).map(d=>Object.assign(d,o.options)),entry:o};await s.callHook("entries:normalize",u),o._tags=u.tags.map((d,f)=>(d._w=im(m,d),d._p=(o._i<<10)+f,d._d=Sn(d),d))}}let i=!1;l.entries.flatMap(h=>(h._tags||[]).map(o=>({...o,props:{...o.props}}))).sort(mt).reduce((h,o)=>{const u=String(o._d||o._p);if(!h.has(u))return h.set(u,o);const d=h.get(u);if((o?.tagDuplicateStrategy||(Kp.has(o.tag)?"merge":null)||(o.key&&o.key===d.key?"merge":null))==="merge"){const y={...d.props};Object.entries(o.props).forEach(([w,x])=>y[w]=w==="style"?new Map([...d.props.style||new Map,...x]):w==="class"?new Set([...d.props.class||new Set,...x]):x),h.set(u,{...o,props:y})}else o._p>>10===d._p>>10&&o.tag==="meta"&&ke(u)?(h.set(u,Object.assign([...Array.isArray(d)?d:[d],o],o)),i=!0):(o._w===d._w?o._p>d._p:o?._w<d?._w)&&h.set(u,o);return h},l.tagMap);const r=l.tagMap.get("title"),c=l.tagMap.get("titleTemplate");if(m._title=r?.textContent,c){const h=c?.textContent;if(m._titleTemplate=h,h){let o=typeof h=="function"?h(r?.textContent):h;typeof o=="string"&&!m.plugins.has("template-params")&&(o=o.replace("%s",r?.textContent||"")),r?o===null?l.tagMap.delete("title"):l.tagMap.set("title",{...r,textContent:o}):(c.tag="title",c.textContent=o)}}l.tags=Array.from(l.tagMap.values()),i&&(l.tags=l.tags.flat().sort(mt)),await s.callHook("tags:beforeResolve",l),await s.callHook("tags:resolve",l),await s.callHook("tags:afterResolve",l);const g=[];for(const h of l.tags){const{innerHTML:o,tag:u,props:d}=h;if(Up.has(u)&&!(Object.keys(d).length===0&&!h.innerHTML&&!h.textContent)&&!(u==="meta"&&!d.content&&!d["http-equiv"]&&!d.charset)){if(u==="script"&&o){if(String(d.type).endsWith("json")){const f=typeof o=="string"?o:JSON.stringify(o);h.innerHTML=f.replace(/</g,"\\u003C")}else typeof o=="string"&&(h.innerHTML=o.replace(new RegExp(`</${u}`,"g"),`<\\/${u}`));h._d=Sn(h)}g.push(h)}}return g},invalidate(){for(const l of t.values())p.add(l._i);m.dirty=!0,s.callHook("entries:updated",m)}};return(a?.plugins||[]).forEach(l=>rt(m,l)),m.hooks.callHook("init",m),a.init?.forEach(l=>l&&m.push(l)),m}const om=(a,s)=>np(s)?Mn(s):s,be="usehead";function cm(a){return{install(n){n.config.globalProperties.$unhead=a,n.config.globalProperties.$head=a,n.provide(be,a)}}.install}function hm(){if(tp()){const a=oe(be);if(a)return a}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function gm(a,s={}){const n=s.head||hm();return n.ssr?n.push(a||{},s):dm(n,a,s)}function dm(a,s,n={}){const t=E(!1);let e;return oa(()=>{const m=t.value?{}:Va(s,om);e?e.patch(m):e=a.push(m,n)}),ce()&&(ep(()=>{e.dispose()}),pp(()=>{t.value=!0}),mp(()=>{t.value=!1})),e}function An(a){if(a===!1||a==="false")return null;if(a==null||a===!0||a==="true")return"+1";if(typeof a=="string"&&"+-".includes(a[0]))return a;const s=+a;return Number.isNaN(s)?(console.error(`Invalid "at" prop value: ${a}`),null):s<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${a}, has been set to 1`),1):s}function um(a){return Array.isArray(a)?[An(a[0]),An(a[1])]:null}function _e(a,s=0,n){const t=E(!1);let e=new Map,p=new Map;const m={get current(){return _n(+a.value,s,m.total)},set current(l){a.value=t.value?_n(l,s,m.total):l},clicksStart:s,get relativeSizeMap(){return e},get maxMap(){return p},get isMounted(){return t.value},setup(){he(()=>{t.value=!0,p=S(p),lp(a)||(m.current=a.value)}),ip(()=>{t.value=!1,e=new Map,p=new Map})},calculateSince(l,i=1){const r=An(l);if(r==null)return null;let c,g,h;if(typeof r=="string"){const o=m.currentOffset,u=+r;c=o+u,g=o+u+i-1,h=u+i-1}else c=r,g=r+i-1,h=0;return{start:c,end:+Number.POSITIVE_INFINITY,max:g,delta:h,currentOffset:k(()=>m.current-c),isCurrent:k(()=>m.current===c),isActive:k(()=>m.current>=c)}},calculateRange(l){const i=um(l);if(i==null)return null;const[r,c]=i;let g,h,o;return typeof r=="string"?(g=m.currentOffset+ +r,o=+r):(g=r,o=0),typeof c=="string"?(h=g+ +c,o+=+c):h=c,{start:g,end:h,max:h,delta:o,currentOffset:k(()=>m.current-g),isCurrent:k(()=>m.current===g),isActive:k(()=>g<=m.current&&m.current<h)}},calculate(l){return Array.isArray(l)?m.calculateRange(l):m.calculateSince(l)},register(l,i){if(!i)return;const{delta:r,max:c}=i;e.set(l,r),p.set(l,c)},unregister(l){e.delete(l),p.delete(l)},get currentOffset(){return Rp(...e.values())},get total(){return n??(t.value?Math.max(0,...p.values()):0)}};return m}function fm(a,s=0){const n=a?.meta.slide?.frontmatter.clicksStart??0,t=E(Math.max(Mn(s),n));return ss(()=>Mn(s),e=>{t.value=Math.max(e,n)}),_e(t,n,a?.meta?.clicks)}const ym="modulepreload",wm=function(a,s){return new URL(a,s).href},ot={},_=function(s,n,t){let e=Promise.resolve();if(n&&n.length>0){let r=function(c){return Promise.all(c.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const m=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),i=l?.nonce||l?.getAttribute("nonce");e=r(n.map(c=>{if(c=wm(c,t),c in ot)return;ot[c]=!0;const g=c.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(t)for(let u=m.length-1;u>=0;u--){const d=m[u];if(d.href===c&&(!g||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const o=document.createElement("link");if(o.rel=g?"stylesheet":ym,g||(o.as="script"),o.crossOrigin="",o.href=c,i&&o.setAttribute("nonce",i),document.head.appendChild(o),g)return new Promise((u,d)=>{o.addEventListener("load",u),o.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${c}`)))})}))}function p(m){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=m,window.dispatchEvent(l),!l.defaultPrevented)throw m}return e.then(m=>{for(const l of m||[])l.status==="rejected"&&p(l.reason);return s().catch(p)})},xm=(a,s)=>{const n=a.__vccOpts||a;for(const[t,e]of s)n[t]=e;return n},vm={},km={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function Mm(a,s){return ja(),bn("div",km,rp("Failed to fetch this slide. Please check your network connection."))}const A=xm(vm,[["render",Mm]]),bm={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},_m=ge({__name:"SlideLoading",setup(a){const s=E(!1);return he(()=>{setTimeout(()=>{s.value=!0},200)}),(n,t)=>(ja(),bn("div",bm,[s.value?(ja(),bn(op,{key:0},[t[0]||(t[0]=nt("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),t[1]||(t[1]=nt("div",null,"Loading slide...",-1))],64)):cp("v-if",!0)]))}}),Lm={theme:"../theme",title:"DSA 第4回: 整数の秘密",info:`データ構造とアルゴリズム 2026年度 第4回
関西大学 ビジネスデータサイエンス学部 / 伝住 周平
`,drawings:{enabled:!1},transition:"slide-left",routerMode:"hash",layout:"title"},hs=L(Lm),Sm=S({get layout(){return hs.layout},get transition(){return hs.transition},get class(){return hs.class},get clicks(){return hs.clicks},get name(){return hs.name},get preload(){return hs.preload},slide:{content:"",revision:"-tdt7bl",frontmatterRaw:`theme: ../theme
title: 'DSA 第4回: 整数の秘密'
info: |
  データ構造とアルゴリズム 2026年度 第4回
  関西大学 ビジネスデータサイエンス学部 / 伝住 周平
drawings:
  enabled: false
transition: slide-left
routerMode: hash
layout: title
`,note:"",title:"DSA 第4回: 整数の秘密",index:0,noteHTML:`<p>「みなさんに1つ聞きたいことがあります．</p>
<p>今朝，ネットで何か買い物をしましたか？
SNSにログインしましたか？
メールを送りましたか？</p>
<p>もしそうなら，みなさんは今朝，
<strong>2300年前のギリシャ人が発見した数学</strong> のお世話になっています．</p>
<p>インターネットバンキング，ECサイトの決済，LINEのメッセージ暗号化 ―
これらの安全を支えているのは，紀元前300年頃に書かれた
ユークリッドの『原論』に載っている定理です．</p>
<p>今日のテーマは <strong>素数</strong> と <strong>ユークリッドの互除法</strong> ．
数学の中で最も古く，最も現代的なテーマです．」</p>
`,raw:"",frontmatter:hs,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),Am={layout:"objectives"},gs=L(Am),Om=S({get layout(){return gs.layout},get transition(){return gs.transition},get class(){return gs.class},get clicks(){return gs.clicks},get name(){return gs.name},get preload(){return gs.preload},slide:{content:"",revision:"sbsshj",frontmatterRaw:`layout: objectives
`,note:"",title:"本日の学習目標",level:2,index:1,noteHTML:`<p>「今日のゴールは5つあります．</p>
<p>素数の定義と重要性を理解すること，
素数判定アルゴリズムの改善プロセスを説明できること，
エラトステネスのふるいをトレースできること，
ユークリッドの互除法でGCDを手計算で求められること，
そしてアルゴリズムの改善がハードウェアの進化より効果的であることを実感すること．</p>
<p>特に最後のポイントが大事です．
今日は，たった1つの数学的洞察で100万倍の高速化を達成する場面を体験します．」</p>
`,raw:"",frontmatter:gs,filepath:"",start:39,id:1,no:2},__clicksContext:null,__preloaded:!1}),Nm={},ds=L(Nm),$m=S({get layout(){return ds.layout},get transition(){return ds.transition},get class(){return ds.class},get clicks(){return ds.clicks},get name(){return ds.name},get preload(){return ds.preload},slide:{content:"",revision:"-cw8q03",note:"",title:"前回の復習",level:2,index:2,noteHTML:`<p>「前回の復習です．</p>
<p>4つの数学道具を手に入れましたね．
mod，Σ，集合・論理，再帰．</p>
<p>今日はこのうち <strong>mod</strong> が大活躍します．
前回学んだ計算規則 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo>×</mo><mi>B</mi><mo stretchy="false">)</mo><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>M</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>A</mi><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>M</mi><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mi>B</mi><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>M</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>M</mi></mrow><annotation encoding="application/x-tex">(A \\times B) \\mod M = ((A \\mod M) \\times (B \\mod M)) \\mod M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">((</span><span class="mord mathnormal">A</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">))</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> が
暗号の計算で使われる場面が出てきます．</p>
<p>もう1つ，<strong>再帰</strong> の構造もユークリッドの互除法に登場します．
ベースケースと再帰ケースという考え方を思い出しておいてください．</p>
<p>そして前回の最後に予告しました．
『インターネットバンキングの安全性は2300年前の数学に依存している』と．
今日，その謎を解き明かします．」</p>
`,raw:"",frontmatter:ds,filepath:"",start:65,id:2,no:3},__clicksContext:null,__preloaded:!1}),Em={layout:"section-divider"},us=L(Em),Tm=S({get layout(){return us.layout},get transition(){return us.transition},get class(){return us.class},get clicks(){return us.clicks},get name(){return us.name},get preload(){return us.preload},slide:{content:"",revision:"-jj3jmr",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 1",level:1,index:3,noteHTML:`<p>「最初に，インターネットの安全を支える数 ― 素数 ― について見ていきましょう．」</p>
`,raw:"",frontmatter:us,filepath:"",start:116,id:3,no:4},__clicksContext:null,__preloaded:!1}),Cm={},fs=L(Cm),Pm=S({get layout(){return fs.layout},get transition(){return fs.transition},get class(){return fs.class},get clicks(){return fs.clicks},get name(){return fs.name},get preload(){return fs.preload},slide:{content:"",revision:"bz8wlb",note:"",title:"素数とは",level:2,index:4,noteHTML:`<p>「素数の定義から確認します．</p>
<p>1と自分自身でしか割り切れない，<strong>2以上の</strong>整数．
これが素数です．</p>
<p>最初の素数を並べると，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>11</mn><mo separator="true">,</mo><mn>13</mn><mo separator="true">,</mo><mn>17</mn><mo separator="true">,</mo><mn>19</mn><mo separator="true">,</mo><mn>23</mn><mo separator="true">,</mo><mn>29</mn><mo separator="true">,</mo><mn>31</mn><mo separator="true">,</mo><mo>…</mo></mrow><annotation encoding="application/x-tex">2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, \\ldots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">11</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">13</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">17</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">19</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">23</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">29</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">31</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span></p>
<p>いくつか注意点があります．</p>
<p>1は素数ではありません．
これは定義から除外されています．理由は素因数分解の一意性を保つためです．
もし1を素数に入れると，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>=</mo><mn>2</mn><mo>×</mo><mn>3</mn><mo>=</mo><mn>1</mn><mo>×</mo><mn>2</mn><mo>×</mo><mn>3</mn><mo>=</mo><mn>1</mn><mo>×</mo><mn>1</mn><mo>×</mo><mn>2</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">6 = 2 \\times 3 = 1 \\times 2 \\times 3 = 1 \\times 1 \\times 2 \\times 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> と
いくらでも書き方が増えてしまう．</p>
<p>2は唯一の偶数の素数です．
他の偶数はすべて2で割り切れるので素数ではない．</p>
<p>17は素数です．2から16のどの数でも割り切れない．</p>
<p>51は素数に見えますが，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>51</mn><mo>=</mo><mn>3</mn><mo>×</mo><mn>17</mn></mrow><annotation encoding="application/x-tex">51 = 3 \\times 17</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">51</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">17</span></span></span></span> なので素数ではありません．
こういう罠があるから，あとでアルゴリズムが必要になるのです．」</p>
`,raw:"",frontmatter:fs,filepath:"",start:129,id:4,no:5},__clicksContext:null,__preloaded:!1}),Rm={},ys=L(Rm),Dm=S({get layout(){return ys.layout},get transition(){return ys.transition},get class(){return ys.class},get clicks(){return ys.clicks},get name(){return ys.name},get preload(){return ys.preload},slide:{content:"",revision:"-i49dqm",note:"",title:"素数の不思議な性質",level:2,index:5,noteHTML:`<p>「素数にはいくつか不思議な性質があります．</p>
<p>まず，素数は無限にある．
紀元前300年にユークリッドが証明しました．
『素数が有限個しかないと仮定すると矛盾が導かれる』― 背理法です．
前回学んだ証明テクニックがここでも使われていますね．</p>
<p>次に，素数はどれくらいの頻度で現れるか．</p>
<p><strong>素数定理</strong> という定理があります．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 以下の素数の個数は，おおよそ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi mathvariant="normal">/</mi><mi>ln</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">N / \\ln N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 個です．</p>
<p>表を見てください．
100以下の素数は25個，つまり4つに1つが素数です．
1000以下だと168個で約17%．
100万以下だと78,498個で約7.8%．
10億以下だと約5000万個で約5.1%．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> が大きくなるほど素数の割合は減っていきますが，
<strong>絶対数は増え続ける</strong> ― 素数は枯渇しません．
これが暗号にとって重要です．巨大な素数をいくらでも新しく見つけられる．」</p>
`,raw:"",frontmatter:ys,filepath:"",start:179,id:5,no:6},__clicksContext:null,__preloaded:!1}),Bm={},ws=L(Bm),qm=S({get layout(){return ws.layout},get transition(){return ws.transition},get class(){return ws.class},get clicks(){return ws.clicks},get name(){return ws.name},get preload(){return ws.preload},slide:{content:"",revision:"-d386a9",note:"",title:"なぜ素数がこれほど重要なのか",level:2,index:6,noteHTML:`<p>「では，素数がなぜこれほど重要なのか．
答えは <strong>RSA暗号</strong> です．</p>
<p>RSA暗号の仕組みを簡単に説明します．</p>
<p>まず2つの巨大な素数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> を選ぶ．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mi>p</mi><mo>×</mo><mi>q</mi></mrow><annotation encoding="application/x-tex">n = p \\times q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> を計算する ― これは簡単，掛け算をするだけです．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> を公開鍵の一部として公開する．
通信相手が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>=</mo><msup><mi>m</mi><mi>e</mi></msup><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>n</mi></mrow><annotation encoding="application/x-tex">c = m^e \\mod n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span></span></span></span> で暗号化する．
復号するには <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> が必要．</p>
<p>ポイントは，正方向と逆方向の難しさの差です．</p>
<p>正方向，つまり <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>×</mo><mi>q</mi><mo>=</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">p \\times q = n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> の計算は一瞬で終わります．
逆方向，つまり <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> を求める ― 素因数分解 ― は極めて困難です．</p>
<p>現在使われている鍵のサイズは2048ビット，10進法で約600桁の数です．
600桁の数の素因数分解は，最速のスーパーコンピュータでも数千年から数万年かかる．</p>
<p><strong>掛け算は簡単，因数分解は困難</strong> ― この非対称性がセキュリティの基盤です．」</p>
`,raw:"",frontmatter:ws,filepath:"",start:234,id:6,no:7},__clicksContext:null,__preloaded:!1}),zm={},xs=L(zm),Hm=S({get layout(){return xs.layout},get transition(){return xs.transition},get class(){return xs.class},get clicks(){return xs.clicks},get name(){return xs.name},get preload(){return xs.preload},slide:{content:"",revision:"zh3c9r",note:"",title:"RSA暗号を小さい数で体験",level:2,index:7,noteHTML:`<p>「実際に小さい数でRSA暗号を体験してみましょう．</p>
<p>まず準備．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">p = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">q = 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span> とします．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>55</mn></mrow><annotation encoding="application/x-tex">n = 55</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">55</span></span></span></span>．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">e = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> を公開鍵とします．</p>
<p>メッセージ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">m = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> を暗号化してみます．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>=</mo><msup><mi>m</mi><mi>e</mi></msup><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>n</mi><mo>=</mo><msup><mn>2</mn><mn>3</mn></msup><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>55</mn><mo>=</mo><mn>8</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>55</mn><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">c = m^e \\mod n = 2^3 \\mod 55 = 8 \\mod 55 = 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span></span></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">55</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">55</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span></p>
<p>暗号文は8です．</p>
<p>次に攻撃者の立場になってみましょう．
攻撃者は暗号文 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">c = 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> と公開鍵 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>=</mo><mn>55</mn><mo separator="true">,</mo><mi>e</mi><mo>=</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(n = 55, e = 3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">55</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span> を知っています．
元のメッセージ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> を知りたい．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>55</mn></mrow><annotation encoding="application/x-tex">55</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">55</span></span></span></span> を素因数分解できれば復号の手がかりが得られます．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>55</mn><mo>=</mo><mn>5</mn><mo>×</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">55 = 5 \\times 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">55</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span> ― 小さい数なのですぐわかりますが，
600桁の数だとこれができない．そこが暗号の安全性の源です．</p>
<p>ちなみに，前回学んだmodの計算規則がここで活躍しています．
もっと大きな <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> や <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span> でも，途中でmodを取りながら計算すれば
オーバーフローせずに正しい暗号文が求まるのでしたね．」</p>
`,raw:"",frontmatter:xs,filepath:"",start:298,id:7,no:8},__clicksContext:null,__preloaded:!1}),Im={},vs=L(Im),jm=S({get layout(){return vs.layout},get transition(){return vs.transition},get class(){return vs.class},get clicks(){return vs.clicks},get name(){return vs.name},get preload(){return vs.preload},slide:{content:"",revision:"-q3ma0c",note:"",title:"素数の応用はRSAだけではない",level:2,index:8,noteHTML:`<p>「素数の応用はRSA暗号だけではありません．</p>
<p>ハッシュテーブルのサイズを素数にすると衝突が減る ― これは第8回で詳しく学びます．
乱数生成では，素数を使った周期的な性質が利用されます．
エラーチェックでは，素数を法とするチェックサムが使われます．
データ圧縮にも素因数分解に基づく符号化が使われることがあります．</p>
<p>素数はコンピュータサイエンスの万能工具のようなものです．</p>
<p>では，ある数が素数かどうかを判定するにはどうすればよいか？
これが次のパートのテーマです．」</p>
`,raw:"",frontmatter:vs,filepath:"",start:354,id:8,no:9},__clicksContext:null,__preloaded:!1}),Vm={layout:"section-divider"},ks=L(Vm),Fm=S({get layout(){return ks.layout},get transition(){return ks.transition},get class(){return ks.class},get clicks(){return ks.clicks},get name(){return ks.name},get preload(){return ks.preload},slide:{content:"",revision:"-k66iud",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 2",level:1,index:9,noteHTML:`<p>「ここからが今日のメインイベント．
素数判定アルゴリズムを，段階的に改善していきます．」</p>
`,raw:"",frontmatter:ks,filepath:"",start:391,id:9,no:10},__clicksContext:null,__preloaded:!1}),Wm={},Ms=L(Wm),Um=S({get layout(){return Ms.layout},get transition(){return Ms.transition},get class(){return Ms.class},get clicks(){return Ms.clicks},get name(){return Ms.name},get preload(){return Ms.preload},slide:{content:"",revision:"-jl7edt",note:"",title:"素朴な方法: 全部で割ってみる",level:2,index:10,noteHTML:`<p>「最も素朴な方法から始めましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> が素数かどうか調べたい．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> まで全部で割ってみて，
1つでも割り切れたら合成数，全部割り切れなかったら素数です．</p>
<p>擬似コードはこうなります．</p>
<pre><code>is_prime(N):
    i を 2 から N-1 まで繰り返す:
        もし N mod i = 0 なら:
            出力: false（素数ではない）
    出力: true（素数）
</code></pre>
<p>計算量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">N = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span> なら98回の割り算で一瞬．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><msup><mn>10</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">N = 10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span> なら100万回で0.001秒．
しかし <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><msup><mn>10</mn><mn>18</mn></msup></mrow><annotation encoding="application/x-tex">N = 10^{18}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">18</span></span></span></span></span></span></span></span></span></span></span></span> だと <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>18</mn></msup></mrow><annotation encoding="application/x-tex">10^{18}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">18</span></span></span></span></span></span></span></span></span></span></span></span> 回．毎秒10億回計算しても約31.7年かかる．</p>
<p>暗号で使う巨大な素数の判定には全く使えません．
もっと速い方法が必要です．」</p>
`,raw:"",frontmatter:Ms,filepath:"",start:405,id:10,no:11},__clicksContext:null,__preloaded:!1}),Jm={},bs=L(Jm),Gm=S({get layout(){return bs.layout},get transition(){return bs.transition},get class(){return bs.class},get clicks(){return bs.clicks},get name(){return bs.name},get preload(){return bs.preload},slide:{content:"",revision:"-xuhc6a",note:"",title:"鍵となる数学的洞察",level:2,index:11,noteHTML:`<p>「ここで数学の力を借ります．</p>
<p>36の約数を調べてみましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>36</mn><mo>=</mo><mn>2</mn><mo>×</mo><mn>18</mn><mo>=</mo><mn>3</mn><mo>×</mo><mn>12</mn><mo>=</mo><mn>4</mn><mo>×</mo><mn>9</mn><mo>=</mo><mn>6</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">36 = 2 \\times 18 = 3 \\times 12 = 4 \\times 9 = 6 \\times 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">36</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span></p>
<p>約数のペアに注目してください．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>18</mn></mrow><annotation encoding="application/x-tex">2 \\times 18</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">18</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">3 \\times 12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>×</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">4 \\times 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">6 \\times 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span>．</p>
<p>気づきましたか？
すべてのペアで，小さい方は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>36</mn></msqrt><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">\\sqrt{36} = 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">36</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> 以下です．</p>
<p>これは偶然ではありません ― 数学的に必然です．
この洞察が，アルゴリズムを劇的に改善する鍵になります．」</p>
`,raw:"",frontmatter:bs,filepath:"",start:462,id:11,no:12},__clicksContext:null,__preloaded:!1}),Km={},_s=L(Km),Ym=S({get layout(){return _s.layout},get transition(){return _s.transition},get class(){return _s.class},get clicks(){return _s.clicks},get name(){return _s.name},get preload(){return _s.preload},slide:{content:"",revision:"ys23bx",note:"",title:"改善: $\\sqrt{N}$ までで十分",level:2,index:12,noteHTML:`<p>「この洞察を定理として述べます．</p>
<p><strong>定理:</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> が合成数なら，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> 以下の約数を必ず持つ．</p>
<p>証明は背理法です．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mi>a</mi><mo>×</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">N = a \\times b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> と書けたとする．
もし <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>&gt;</mo><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">a &gt; \\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> かつ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>&gt;</mo><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">b &gt; \\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> だったら，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>×</mo><mi>b</mi><mo>&gt;</mo><msqrt><mi>N</mi></msqrt><mo>×</mo><msqrt><mi>N</mi></msqrt><mo>=</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">a \\times b &gt; \\sqrt{N} \\times \\sqrt{N} = N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> となって矛盾．
つまり <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> の少なくとも一方は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> 以下です．</p>
<p>この定理から，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> まで調べて約数が見つからなければ，
素数と結論できます．</p>
<p>改善した擬似コードはこうなります．</p>
<pre><code>is_prime(N):
    i を 2 から √N まで繰り返す:
        もし N mod i = 0 なら:
            出力: false
    出力: true
</code></pre>
<p>計算量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ．たった1行の変更で，計算量のオーダーが変わりました．」</p>
`,raw:"",frontmatter:_s,filepath:"",start:508,id:12,no:13},__clicksContext:null,__preloaded:!1}),Qm={},Ls=L(Qm),Zm=S({get layout(){return Ls.layout},get transition(){return Ls.transition},get class(){return Ls.class},get clicks(){return Ls.clicks},get name(){return Ls.name},get preload(){return Ls.preload},slide:{content:"",revision:"-6g0dbx",note:"",title:"具体例でトレースしてみよう",level:2,index:13,noteHTML:`<p>「具体例でトレースしてみましょう．</p>
<p>97は素数でしょうか？</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>97</mn></msqrt><mo>≈</mo><mn>9.8</mn></mrow><annotation encoding="application/x-tex">\\sqrt{97} \\approx 9.8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">97</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9.8</span></span></span></span> なので，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> は2から9まで調べればよい．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>97</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>2</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">97 \\mod 2 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，割り切れない．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>97</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>3</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">97 \\mod 3 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，割り切れない．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>97</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>4</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">97 \\mod 4 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，割り切れない．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>97</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>5</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">97 \\mod 5 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>，割り切れない．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>97</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>6</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">97 \\mod 6 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，割り切れない．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>97</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>7</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">97 \\mod 7 = 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span>，割り切れない．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>97</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>8</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">97 \\mod 8 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，割り切れない．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>97</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>9</mn><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">97 \\mod 9 = 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span>，割り切れない．</p>
<p>どの数でも割り切れない ― 97は素数です．
たった8回の確認で判定完了．
素朴な方法なら95回必要だったのが，8回で済みました．」</p>
`,raw:"",frontmatter:Ls,filepath:"",start:565,id:13,no:14},__clicksContext:null,__preloaded:!1}),Xm={},Ss=L(Xm),sl=S({get layout(){return Ss.layout},get transition(){return Ss.transition},get class(){return Ss.class},get clicks(){return Ss.clicks},get name(){return Ss.name},get preload(){return Ss.preload},slide:{content:"",revision:"-e4lbsw",note:"",title:"例2: 91は素数か？",level:2,index:14,noteHTML:`<p>「もう1つやってみましょう．91は素数に見えますが……</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>91</mn></msqrt><mo>≈</mo><mn>9.5</mn></mrow><annotation encoding="application/x-tex">\\sqrt{91} \\approx 9.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">91</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9.5</span></span></span></span> なので，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> は2から9まで．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>91</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>2</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">91 \\mod 2 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">91</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，No．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>91</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>3</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">91 \\mod 3 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">91</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，No．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>91</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>4</mn><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">91 \\mod 4 = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">91</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>，No．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>91</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>5</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">91 \\mod 5 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">91</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，No．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>91</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>6</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">91 \\mod 6 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">91</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，No．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>91</mn><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>7</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">91 \\mod 7 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">91</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> ― <strong>割り切れた！</strong></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>91</mn><mo>=</mo><mn>7</mn><mo>×</mo><mn>13</mn></mrow><annotation encoding="application/x-tex">91 = 7 \\times 13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">91</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">13</span></span></span></span>．91は素数ではありませんでした．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">i = 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>91</mn></msqrt><mo>≈</mo><mn>9.5</mn></mrow><annotation encoding="application/x-tex">\\sqrt{91} \\approx 9.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">91</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9.5</span></span></span></span> 以下なので，ちゃんと検出できています．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> まで調べれば十分ということの実証です．</p>
<p>91が素数でないことは，初見では気づきにくいですよね．
だからこそアルゴリズムが必要なのです．」</p>
`,raw:"",frontmatter:Ss,filepath:"",start:617,id:14,no:15},__clicksContext:null,__preloaded:!1}),al={layout:"assertion-evidence"},As=L(al),nl=S({get layout(){return As.layout},get transition(){return As.transition},get class(){return As.class},get clicks(){return As.clicks},get name(){return As.name},get preload(){return As.preload},slide:{content:"",revision:"x2opg4",frontmatterRaw:`layout: assertion-evidence
`,note:"",title:"100万倍の高速化",level:3,index:15,noteHTML:`<p>「改善の効果を数字で実感しましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><msup><mn>10</mn><mn>12</mn></msup></mrow><annotation encoding="application/x-tex">N = 10^{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span></span></span></span></span></span></span></span>（1兆）のとき:</p>
<p>素朴な方法 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>12</mn></msup></mrow><annotation encoding="application/x-tex">10^{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span></span></span></span></span></span></span></span> 回 → 毎秒10億回で<strong>約17分</strong>．
改善後 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span> 回 → <strong>0.001秒</strong>．</p>
<p>100万倍の高速化です．</p>
<p>ムーアの法則によれば，ハードウェアの性能が2倍になるのに約2年かかります．
100万倍 = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>20</mn></msup></mrow><annotation encoding="application/x-tex">2^{20}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span></span></span></span></span></span></span></span> 倍なので，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mo>×</mo><mn>2</mn><mo>=</mo><mn>40</mn></mrow><annotation encoding="application/x-tex">20 \\times 2 = 40</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">20</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">40</span></span></span></span> 年分のハードウェア進化に相当する．</p>
<p><strong>アルゴリズムを1行変えるだけで，40年分の進化に匹敵する改善が得られた．</strong></p>
<p>第2回で学んだ計算量の重要性が，ここで具体的に示されましたね．
効率的なアルゴリズムの設計は，ハードウェアの購入よりはるかに費用対効果が高い．」</p>
`,raw:"",frontmatter:As,filepath:"",start:668,id:15,no:16},__clicksContext:null,__preloaded:!1}),tl={},Os=L(tl),el=S({get layout(){return Os.layout},get transition(){return Os.transition},get class(){return Os.class},get clicks(){return Os.clicks},get name(){return Os.name},get preload(){return Os.preload},slide:{content:"",revision:"-tqgx5v",note:"",title:"さらなる改善のヒント",level:2,index:16,noteHTML:`<p>「さらに少し改善する方法も紹介しておきます．</p>
<p>2以外の偶数は素数ではありません．
だから，まず2で割れるか確認して，そのあとは奇数だけ調べればよい．</p>
<pre><code>is_prime(N):
    もし N = 2 なら: 出力: true
    もし N mod 2 = 0 なら: 出力: false
    i を 3 から √N まで 2ずつ繰り返す:
        もし N mod i = 0 なら: 出力: false
    出力: true
</code></pre>
<p>計算量のオーダーは同じ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ですが，
実際の計算回数は約半分になります．</p>
<p>ちなみに，RSA暗号で使う600桁の素数判定には，
<strong>ミラー・ラビン法</strong> という確率的アルゴリズムが使われています．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 回テストして誤り確率が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>4</mn><mrow><mo>−</mo><mi>k</mi></mrow></msup></mrow><annotation encoding="application/x-tex">4^{-k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span> 以下というものです．</p>
<p>確率を使って効率化する ― この考え方は第5回で学びます．」</p>
`,raw:"",frontmatter:Os,filepath:"",start:712,id:16,no:17},__clicksContext:null,__preloaded:!1}),pl={layout:"section-divider"},Ns=L(pl),ml=S({get layout(){return Ns.layout},get transition(){return Ns.transition},get class(){return Ns.class},get clicks(){return Ns.clicks},get name(){return Ns.name},get preload(){return Ns.preload},slide:{content:"",revision:"zcq1kx",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 3",level:1,index:17,noteHTML:`<p>「ここまでは『1つの数が素数かどうか』の判定でした．
次は <strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 以下の素数をすべて見つける</strong> 問題に進みます．」</p>
`,raw:"",frontmatter:Ns,filepath:"",start:771,id:17,no:18},__clicksContext:null,__preloaded:!1}),ll={},$s=L(ll),il=S({get layout(){return $s.layout},get transition(){return $s.transition},get class(){return $s.class},get clicks(){return $s.clicks},get name(){return $s.name},get preload(){return $s.preload},slide:{content:"",revision:"mw8v7o",note:"",title:"問題: $N$以下の素数をすべて見つけたい",level:2,index:18,noteHTML:`<p>「<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 以下の素数を全部見つけるには？</p>
<p>素朴な方法は，1つずつ素数判定を繰り返すことです．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 個の数に対して各 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> なので，全体で <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>．</p>
<p>もっと賢い方法はないでしょうか？</p>
<p>紀元前3世紀，エジプトのアレクサンドリア図書館長を務めた
<strong>エラトステネス</strong> が答えを持っていました．</p>
<p>エラトステネスは地球の大きさを初めて測定した人物でもあります．
推定値は約39,375km．実際の値は約40,075km．驚くほど正確です．</p>
<p>面白い逸話があって，
彼は『数学のβ（ベータ，2位）』と呼ばれていたそうです．
すべての分野で一流だが，どの分野でも1位ではなかった．
しかし，そのアルゴリズムは2300年経った今もコンピュータで使われています．」</p>
`,raw:"",frontmatter:$s,filepath:"",start:785,id:18,no:19},__clicksContext:null,__preloaded:!1}),rl={},Es=L(rl),ol=S({get layout(){return Es.layout},get transition(){return Es.transition},get class(){return Es.class},get clicks(){return Es.clicks},get name(){return Es.name},get preload(){return Es.preload},slide:{content:"",revision:"xf3nq8",note:"",title:"エラトステネスのふるいのアルゴリズム",level:2,index:19,noteHTML:`<p>「エラトステネスのふるいのアルゴリズムを説明します．</p>
<p>アイデアは非常にシンプルです．
<strong>小さい素数から順に，その倍数を消していく</strong> ．</p>
<p>手順は5ステップです．</p>
<p>ステップ1: 2から<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>までの数を全部並べる．
ステップ2: 最小の未処理の数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> を取り出す ― これは素数です．
ステップ3: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> の倍数を <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>p</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">p^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> から始めてすべて消す．
ステップ4: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>≤</mo><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">p \\leq \\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> の間，ステップ2と3を繰り返す．
ステップ5: 消されずに残った数がすべて素数．</p>
<p>1つ補足があります．
なぜ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>p</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">p^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> から消し始めるのか？
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> の倍数のうち <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>p</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">p^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> より小さいもの ― <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>p</mi><mo separator="true">,</mo><mn>3</mn><mi>p</mi><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>p</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">2p, 3p, \\ldots, (p-1)p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathnormal">p</span></span></span></span> ― は
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> より小さい素因数を持っているので，すでに前のステップで消されているからです．」</p>
`,raw:"",frontmatter:Es,filepath:"",start:830,id:19,no:20},__clicksContext:null,__preloaded:!1}),cl={},Ts=L(cl),hl=S({get layout(){return Ts.layout},get transition(){return Ts.transition},get class(){return Ts.class},get clicks(){return Ts.clicks},get name(){return Ts.name},get preload(){return Ts.preload},slide:{content:"",revision:"-37066u",note:"",title:"ふるいのトレース: $N = 30$",level:2,index:20,noteHTML:`<p>「<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>30</mn></mrow><annotation encoding="application/x-tex">N = 30</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">30</span></span></span></span> で実際にやってみましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">p = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>．2は素数．
2の倍数を消します: 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30．
一気にたくさん消えますね．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">p = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>．3は消されていないので素数です．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>3</mn><mn>2</mn></msup><mo>=</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">3^2 = 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span> から消します: 9, 15, 21, 27．
6, 12, 18, 24, 30 はすでに2のステップで消えているので，改めて消す必要はありません．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">p = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>．5も消されていないので素数です．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>5</mn><mn>2</mn></msup><mo>=</mo><mn>25</mn></mrow><annotation encoding="application/x-tex">5^2 = 25</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">25</span></span></span></span> から消します: 25．
10, 15, 20, 30 はすでに消えているので，25だけです．</p>
<p>ここで終了条件を確認します．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>30</mn></msqrt><mo>≈</mo><mn>5.5</mn></mrow><annotation encoding="application/x-tex">\\sqrt{30} \\approx 5.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">30</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5.5</span></span></span></span> なので，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">p = 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> まで処理すれば完了です．</p>
<p>残った数を確認しましょう:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>11</mn><mo separator="true">,</mo><mn>13</mn><mo separator="true">,</mo><mn>17</mn><mo separator="true">,</mo><mn>19</mn><mo separator="true">,</mo><mn>23</mn><mo separator="true">,</mo><mn>29</mn></mrow><annotation encoding="application/x-tex">2, 3, 5, 7, 11, 13, 17, 19, 23, 29</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">11</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">13</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">17</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">19</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">23</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">29</span></span></span></span> ― 30以下の全素数です．</p>
<p>計算量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> ― ほぼ線形と言っていい速さです．」</p>
`,raw:"",frontmatter:Ts,filepath:"",start:880,id:20,no:21},__clicksContext:null,__preloaded:!1}),gl={layout:"interactive"},Cs=L(gl),dl=S({get layout(){return Cs.layout},get transition(){return Cs.transition},get class(){return Cs.class},get clicks(){return Cs.clicks},get name(){return Cs.name},get preload(){return Cs.preload},slide:{content:"",revision:"-hodrj0",frontmatterRaw:`layout: interactive
`,note:"",title:"エラトステネスのふるいを体験",level:2,index:21,noteHTML:`<p>「画面のEratosthenesSieveを使って，ふるいの過程を実際に見てみましょう．</p>
<p>ステップ実行ボタンを押すと，1つずつ倍数が消されていく様子が見えます．</p>
<p>2の倍数を消す ― 一気にたくさん消えますね．
3の倍数を消す ― もう消えているものも多い．
5の倍数を消す ― ほとんど残りがない．</p>
<p>大きい素数ほど，消す対象が少なくなっていくことに気づきましたか？
これが『ほぼ線形』の計算量の直感的な理由です．</p>
<p>自由に <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> の値を変えて試してみてください．」</p>
`,raw:"",frontmatter:Cs,filepath:"",start:935,id:21,no:22},__clicksContext:null,__preloaded:!1}),ul={},Ps=L(ul),fl=S({get layout(){return Ps.layout},get transition(){return Ps.transition},get class(){return Ps.class},get clicks(){return Ps.clicks},get name(){return Ps.name},get preload(){return Ps.preload},slide:{content:"",revision:"-mnybd1",note:"",title:"ふるいの擬似コード",level:2,index:22,noteHTML:`<p>「ふるいの擬似コードを見ておきましょう．</p>
<pre><code>sieve(N):
    is_prime[2..N] ← すべて true
    p を 2 から √N まで繰り返す:
        もし is_prime[p] = true なら:
            j を p² から N まで p ずつ繰り返す:
                is_prime[j] ← false
    出力: is_prime[i] = true であるすべての i
</code></pre>
<p>配列を使って，消された数をfalseにしていく．非常にシンプルです．</p>
<p>なぜ計算量が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> なのか，直感的に説明しましょう．</p>
<p>各素数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> について消す個数は約 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi mathvariant="normal">/</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">N/p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/</span><span class="mord mathnormal">p</span></span></span></span> 個です．
合計すると <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>∑</mo><mrow><mi>p</mi><mo>≤</mo><mi>N</mi><mo separator="true">,</mo><mi>p</mi><mtext>は素数</mtext></mrow></msub><mi>N</mi><mi mathvariant="normal">/</mi><mi>p</mi><mo>≈</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>log</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\\sum_{p \\leq N, p\\text{は素数}} N/p \\approx N \\log \\log N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1858em;vertical-align:-0.4358em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">p</span><span class="mord text mtight"><span class="mord cjk_fallback mtight">は素数</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> ．</p>
<p>大きい素数ほど消す回数が少ないので，ほぼ線形で済むわけです．」</p>
`,raw:"",frontmatter:Ps,filepath:"",start:959,id:22,no:23},__clicksContext:null,__preloaded:!1}),yl={layout:"section-divider"},Rs=L(yl),wl=S({get layout(){return Rs.layout},get transition(){return Rs.transition},get class(){return Rs.class},get clicks(){return Rs.clicks},get name(){return Rs.name},get preload(){return Rs.preload},slide:{content:"",revision:"-y0j0po",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 4",level:1,index:23,noteHTML:`<p>「ここからは今日のもう1つの主役，
人類最古のアルゴリズムの1つ ― <strong>ユークリッドの互除法</strong> です．」</p>
`,raw:"",frontmatter:Rs,filepath:"",start:1007,id:23,no:24},__clicksContext:null,__preloaded:!1}),xl={},Ds=L(xl),vl=S({get layout(){return Ds.layout},get transition(){return Ds.transition},get class(){return Ds.class},get clicks(){return Ds.clicks},get name(){return Ds.name},get preload(){return Ds.preload},slide:{content:"",revision:"-ppt7jd",note:"",title:"最大公約数（GCD）とは",level:2,index:24,noteHTML:`<p>「最大公約数 GCD<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A, B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span> とは，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> の両方を割り切れる最大の整数です．</p>
<p>例を見ましょう．GCD<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>12</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(12, 8)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">)</span></span></span></span>．</p>
<p>12の約数は 1, 2, 3, 4, 6, 12．
8の約数は 1, 2, 4, 8．
共通約数は 1, 2, 4．
最大は <strong>4</strong> です．</p>
<p>GCDの応用はたくさんあります．</p>
<p>分数の約分 ― <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mi mathvariant="normal">/</mi><mn>8</mn></mrow><annotation encoding="application/x-tex">12/8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">12/8</span></span></span></span> を約分するとき <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>12</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">)</mo><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">\\gcd(12, 8) = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span> で割って <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">3/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3/2</span></span></span></span>．
暗号の鍵生成 ― RSA暗号で <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">e</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>p</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>q</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(p-1)(q-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> が互いに素であることの確認にGCDを使います．
画面解像度 ― 1920×1080の最大公約数は120で，割ると 16:9 というアスペクト比が求まります．」</p>
`,raw:"",frontmatter:Ds,filepath:"",start:1021,id:24,no:25},__clicksContext:null,__preloaded:!1}),kl={},Bs=L(kl),Ml=S({get layout(){return Bs.layout},get transition(){return Bs.transition},get class(){return Bs.class},get clicks(){return Bs.clicks},get name(){return Bs.name},get preload(){return Bs.preload},slide:{content:"",revision:"igk8j2",note:"",title:"素朴な方法",level:2,index:25,noteHTML:`<p>「GCDを素朴に求める方法です．</p>
<p>1から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\min(A, B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span> まで全部試して，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> も <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> も割り切れるものの中で最大のものを探す．</p>
<pre><code>gcd_naive(A, B):
    result ← 1
    i を 2 から min(A, B) まで繰り返す:
        もし A mod i = 0 かつ B mod i = 0 なら:
            result ← i
    出力: result
</code></pre>
<p>計算量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\min(A, B))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">))</span></span></span></span>．</p>
<p>GCD<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>123456789</mn><mo separator="true">,</mo><mn>987654321</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(123456789, 987654321)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">123456789</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">987654321</span><span class="mclose">)</span></span></span></span> を求めようとすると約1億回のループ．
もっと速い方法が，2300年前に発見されていました．」</p>
`,raw:"",frontmatter:Bs,filepath:"",start:1072,id:25,no:26},__clicksContext:null,__preloaded:!1}),bl={},qs=L(bl),_l=S({get layout(){return qs.layout},get transition(){return qs.transition},get class(){return qs.class},get clicks(){return qs.clicks},get name(){return qs.name},get preload(){return qs.preload},slide:{content:"",revision:"-oa1t1w",note:"",title:"ユークリッドの互除法 — 核心のアイデア",level:2,index:26,noteHTML:`<p>「ユークリッドの互除法の核心は，この1つの等式です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">,</mo><mi>A</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(A, B) = \\gcd(B, A \\bmod B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span></p>
<p>なぜこれが正しいのか，直感的に説明します．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>B</mi><mo>×</mo><mi>q</mi><mo>+</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">A = B \\times q + r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> と書けますね．ここで <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mi>A</mi><mspace></mspace><mspace width="0.6667em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>B</mi></mrow><annotation encoding="application/x-tex">r = A \\mod B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> です．</p>
<p>もし <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> の公約数なら:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> を割り切る，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> を割り切る，
よって <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>−</mo><mi>B</mi><mo>×</mo><mi>q</mi><mo>=</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">A - B \\times q = r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> も割り切る．
つまり <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span></span></span></span> は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> の公約数でもある．</p>
<p>逆も同様に成り立ちます．
したがって <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(A, B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(B, r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span> は完全に一致する．</p>
<p>これを繰り返し適用して，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> が0になったら <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> が答え ― それがユークリッドの互除法です．」</p>
`,raw:"",frontmatter:qs,filepath:"",start:1118,id:26,no:27},__clicksContext:null,__preloaded:!1}),Ll={},zs=L(Ll),Sl=S({get layout(){return zs.layout},get transition(){return zs.transition},get class(){return zs.class},get clicks(){return zs.clicks},get name(){return zs.name},get preload(){return zs.preload},slide:{content:"",revision:"-js8fl8",note:"",title:"ユークリッドの互除法のトレース ①",level:2,index:27,noteHTML:`<p>「実際にやってみましょう．GCD<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>252</mn><mo separator="true">,</mo><mn>105</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(252, 105)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">252</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">105</span><span class="mclose">)</span></span></span></span> を求めます．</p>
<p>ステップ1: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>252</mn><mo separator="true">,</mo><mn>105</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>105</mn><mo separator="true">,</mo><mn>252</mn><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>105</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>105</mn><mo separator="true">,</mo><mn>42</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(252, 105) = \\gcd(105, 252 \\bmod 105) = \\gcd(105, 42)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">252</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">105</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">105</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">252</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">105</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">105</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">42</span><span class="mclose">)</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>252</mn><mo>=</mo><mn>105</mn><mo>×</mo><mn>2</mn><mo>+</mo><mn>42</mn></mrow><annotation encoding="application/x-tex">252 = 105 \\times 2 + 42</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">252</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">105</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">42</span></span></span></span> ですね．</p>
<p>ステップ2: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>105</mn><mo separator="true">,</mo><mn>42</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>42</mn><mo separator="true">,</mo><mn>105</mn><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>42</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>42</mn><mo separator="true">,</mo><mn>21</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(105, 42) = \\gcd(42, 105 \\bmod 42) = \\gcd(42, 21)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">105</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">42</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">42</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">105</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">42</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">42</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">21</span><span class="mclose">)</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>105</mn><mo>=</mo><mn>42</mn><mo>×</mo><mn>2</mn><mo>+</mo><mn>21</mn></mrow><annotation encoding="application/x-tex">105 = 42 \\times 2 + 21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">105</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">42</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">21</span></span></span></span>．</p>
<p>ステップ3: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>42</mn><mo separator="true">,</mo><mn>21</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>21</mn><mo separator="true">,</mo><mn>42</mn><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>21</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>21</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(42, 21) = \\gcd(21, 42 \\bmod 21) = \\gcd(21, 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">42</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">21</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">21</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">42</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">21</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">21</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>42</mn><mo>=</mo><mn>21</mn><mo>×</mo><mn>2</mn><mo>+</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">42 = 21 \\times 2 + 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">42</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">21</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">B = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> になったので終了．答えは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mn>21</mn></mrow><annotation encoding="application/x-tex">A = 21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">21</span></span></span></span> です．</p>
<p>たった3ステップ！ 素朴な方法なら最大105回のループが必要だったのに，
3回の割り算で答えが出ました．」</p>
`,raw:"",frontmatter:zs,filepath:"",start:1167,id:27,no:28},__clicksContext:null,__preloaded:!1}),Al={},Hs=L(Al),Ol=S({get layout(){return Hs.layout},get transition(){return Hs.transition},get class(){return Hs.class},get clicks(){return Hs.clicks},get name(){return Hs.name},get preload(){return Hs.preload},slide:{content:"",revision:"se3k7l",note:"",title:"ユークリッドの互除法のトレース ②",level:2,index:28,noteHTML:`<p>「練習問題です．GCD<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>48</mn><mo separator="true">,</mo><mn>18</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(48, 18)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">48</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">18</span><span class="mclose">)</span></span></span></span> を求めてみてください．
手元の紙に計算してみましょう．</p>
<p>……できましたか？</p>
<p>ステップ1: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>48</mn><mo separator="true">,</mo><mn>18</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>18</mn><mo separator="true">,</mo><mn>48</mn><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>18</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>18</mn><mo separator="true">,</mo><mn>12</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(48, 18) = \\gcd(18, 48 \\bmod 18) = \\gcd(18, 12)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">48</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">18</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">18</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">48</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">18</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">18</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">12</span><span class="mclose">)</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>48</mn><mo>=</mo><mn>18</mn><mo>×</mo><mn>2</mn><mo>+</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">48 = 18 \\times 2 + 12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">48</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>．</p>
<p>ステップ2: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>18</mn><mo separator="true">,</mo><mn>12</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>12</mn><mo separator="true">,</mo><mn>18</mn><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>12</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>12</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(18, 12) = \\gcd(12, 18 \\bmod 12) = \\gcd(12, 6)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">18</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">12</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">12</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">)</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn><mo>=</mo><mn>12</mn><mo>×</mo><mn>1</mn><mo>+</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">18 = 12 \\times 1 + 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">12</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span>．</p>
<p>ステップ3: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>12</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>6</mn><mo separator="true">,</mo><mn>12</mn><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>6</mn><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>6</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(12, 6) = \\gcd(6, 12 \\bmod 6) = \\gcd(6, 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">12</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">6</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mo>=</mo><mn>6</mn><mo>×</mo><mn>2</mn><mo>+</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">12 = 6 \\times 2 + 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>．</p>
<p>答えは <strong>6</strong> です．3ステップで完了．</p>
<p>確認: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>48</mn><mo>=</mo><mn>6</mn><mo>×</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">48 = 6 \\times 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">48</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn><mo>=</mo><mn>6</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">18 = 6 \\times 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> ― 確かに6は両方の約数ですね．」</p>
`,raw:"",frontmatter:Hs,filepath:"",start:1209,id:28,no:29},__clicksContext:null,__preloaded:!1}),Nl={},Is=L(Nl),$l=S({get layout(){return Is.layout},get transition(){return Is.transition},get class(){return Is.class},get clicks(){return Is.clicks},get name(){return Is.name},get preload(){return Is.preload},slide:{content:"",revision:"mv25uj",note:"",title:"ユークリッドの互除法の擬似コード",level:2,index:29,noteHTML:`<p>「擬似コードを見てみましょう．2通りの書き方があります．</p>
<p>左は再帰版です．</p>
<pre><code>gcd(A, B):
    もし B = 0 なら:
        出力: A
    出力: gcd(B, A mod B)
</code></pre>
<p>前回学んだ再帰の構造がそのまま見えますね．
ベースケースは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">B = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> のとき <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span> を返す．
再帰ケースは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">,</mo><mi>A</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(B, A \\bmod B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span> を呼ぶ．</p>
<p>右はループ版です．</p>
<pre><code>gcd(A, B):
    A &gt; 0 かつ B &gt; 0 の間繰り返す:
        もし A &gt; B なら:
            A ← A mod B
        そうでなければ:
            B ← B mod A
    出力: A + B
</code></pre>
<p>再帰を使わない書き方ですが，同じ答えが出ます．</p>
<p>前回学んだ『再帰 vs ループ』の実例です．どちらでも同じ結果になる．」</p>
`,raw:"",frontmatter:Is,filepath:"",start:1255,id:29,no:30},__clicksContext:null,__preloaded:!1}),El={},js=L(El),Tl=S({get layout(){return js.layout},get transition(){return js.transition},get class(){return js.class},get clicks(){return js.clicks},get name(){return js.name},get preload(){return js.preload},slide:{content:"",revision:"-nn9shr",note:"",title:"ユークリッドの互除法はなぜ速い？",level:2,index:30,noteHTML:`<p>「計算量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\log(\\min(A, B)))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)))</span></span></span></span> です．</p>
<p>なぜ対数なのか？</p>
<p>ラメの定理によれば，各ステップで <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>B</mi><mo>&lt;</mo><mi>A</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">A \\bmod B &lt; A/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord">/2</span></span></span></span> が成り立ちます．
つまり2ステップごとに数が少なくとも半分以下に減る．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>A</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo>→</mo><mi>A</mi><mi mathvariant="normal">/</mi><mn>4</mn><mo>→</mo><mo>⋯</mo><mo>→</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">A \\to A/2 \\to A/4 \\to \\cdots \\to 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord">/2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord">/4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
<p>何回半分にすると1になるか？ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>A</mi></mrow><annotation encoding="application/x-tex">\\log_2 A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span></span></span></span> 回です．
第2回で学んだ対数の感覚がここでも使えますね．</p>
<p>具体的な比較をしましょう．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>B</mi><mo>=</mo><msup><mn>10</mn><mn>18</mn></msup></mrow><annotation encoding="application/x-tex">A = B = 10^{18}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">18</span></span></span></span></span></span></span></span></span></span></span></span> のとき:</p>
<p>素朴な方法: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><msup><mn>10</mn><mn>18</mn></msup></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\min(A,B)) = 10^{18}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">18</span></span></span></span></span></span></span></span></span></span></span></span> 回 → <strong>約31.7年</strong>
ユークリッド: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\log(\\min(A,B)))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)))</span></span></span></span> → 約60回 → <strong>一瞬</strong></p>
<p>31.7年と一瞬の差．これがアルゴリズムの力です．」</p>
`,raw:"",frontmatter:js,filepath:"",start:1334,id:30,no:31},__clicksContext:null,__preloaded:!1}),Cl={},Vs=L(Cl),Pl=S({get layout(){return Vs.layout},get transition(){return Vs.transition},get class(){return Vs.class},get clicks(){return Vs.clicks},get name(){return Vs.name},get preload(){return Vs.preload},slide:{content:"",revision:"-e698f0",note:"",title:"幾何学的な直感",level:2,index:31,noteHTML:`<p>「ユークリッドの互除法には美しい幾何学的な解釈があります．</p>
<p><strong>長方形を正方形だけで隙間なく埋める</strong> 問題として理解できるのです．</p>
<p>252 × 105 の長方形を考えてください．</p>
<p>ステップ1: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>105</mn><mo>×</mo><mn>105</mn></mrow><annotation encoding="application/x-tex">105 \\times 105</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">105</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">105</span></span></span></span> の正方形を2個並べる．すると <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>42</mn><mo>×</mo><mn>105</mn></mrow><annotation encoding="application/x-tex">42 \\times 105</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">42</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">105</span></span></span></span> が余る．
これは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>252</mn><mo>÷</mo><mn>105</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">252 \\div 105 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">252</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">105</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 余り <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>42</mn></mrow><annotation encoding="application/x-tex">42</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">42</span></span></span></span> に対応しています．</p>
<p>ステップ2: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>42</mn><mo>×</mo><mn>42</mn></mrow><annotation encoding="application/x-tex">42 \\times 42</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">42</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">42</span></span></span></span> の正方形を2個並べる．すると <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>42</mn><mo>×</mo><mn>21</mn></mrow><annotation encoding="application/x-tex">42 \\times 21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">42</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">21</span></span></span></span> が余る．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>105</mn><mo>÷</mo><mn>42</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">105 \\div 42 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">105</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">42</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 余り <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn></mrow><annotation encoding="application/x-tex">21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">21</span></span></span></span>．</p>
<p>ステップ3: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn><mo>×</mo><mn>21</mn></mrow><annotation encoding="application/x-tex">21 \\times 21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">21</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">21</span></span></span></span> の正方形を2個並べる ― ぴったり収まった！
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>42</mn><mo>÷</mo><mn>21</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">42 \\div 21 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">42</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">21</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 余り <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>．</p>
<p>最後にぴったり収まった正方形の一辺が <strong>GCD = 21</strong> です．</p>
<p>手元で試してみてください．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>15</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">15 \\times 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">15</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> の長方形はどうなりますか？</p>
<p>……<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">6 \\times 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> を2個 → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">3 \\times 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span> が残る → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3 \\times 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> を2個 → ぴったり！
GCD<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>15</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">(15, 6) = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">15</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> です．」</p>
`,raw:"",frontmatter:Vs,filepath:"",start:1387,id:31,no:32},__clicksContext:null,__preloaded:!1}),Rl={},Fs=L(Rl),Dl=S({get layout(){return Fs.layout},get transition(){return Fs.transition},get class(){return Fs.class},get clicks(){return Fs.clicks},get name(){return Fs.name},get preload(){return Fs.preload},slide:{content:"",revision:"52qjmw",note:"",title:"ユークリッドの互除法の歴史",level:2,index:32,noteHTML:`<p>「最後に歴史的な話をしましょう．</p>
<p>ユークリッドの互除法は紀元前300年頃，ユークリッドの『原論』第7巻に記載されています．
<strong>人類最古のアルゴリズムの1つ</strong> です．コンピュータの発明より2200年以上前．</p>
<p>2300年以上経った今も，<strong>そのまま</strong> 現代のコンピュータで使われている．
RSA暗号の鍵生成，画像圧縮，有理数演算など，応用は幅広い．</p>
<p>紀元前のギリシャ人が考えたアルゴリズムが，
21世紀のスマートフォンの中で毎日動いている．</p>
<p><strong>良いアルゴリズムは時代を超える</strong> ― これはこの授業全体を通じて感じてもらいたいメッセージです．」</p>
`,raw:"",frontmatter:Fs,filepath:"",start:1439,id:32,no:33},__clicksContext:null,__preloaded:!1}),Bl={layout:"section-divider"},Ws=L(Bl),ql=S({get layout(){return Ws.layout},get transition(){return Ws.transition},get class(){return Ws.class},get clicks(){return Ws.clicks},get name(){return Ws.name},get preload(){return Ws.preload},slide:{content:"",revision:"-p5h6uq",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 5",level:1,index:33,noteHTML:`<p>「最後にまとめと確認問題です．」</p>
`,raw:"",frontmatter:Ws,filepath:"",start:1480,id:33,no:34},__clicksContext:null,__preloaded:!1}),zl={layout:"summary"},Us=L(zl),Hl=S({get layout(){return Us.layout},get transition(){return Us.transition},get class(){return Us.class},get clicks(){return Us.clicks},get name(){return Us.name},get preload(){return Us.preload},slide:{content:"",revision:"6y3y9t",frontmatterRaw:`layout: summary
`,note:"",title:"本日のまとめ",level:2,index:34,noteHTML:`<p>「今日のポイントを5つにまとめます．</p>
<p>1つ目，<strong>素数はインターネットセキュリティの基盤</strong>．
掛け算は簡単だが因数分解は困難 ― この非対称性がRSA暗号を支えている．</p>
<p>2つ目，<strong>素数判定: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1767em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> への改善</strong>．
数学的洞察1つで100万倍の高速化を達成した．</p>
<p>3つ目，<strong>エラトステネスのふるい</strong>．
倍数を消していくだけで，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> でほぼ線形に素数を列挙できる．</p>
<p>4つ目，<strong>ユークリッドの互除法</strong>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">,</mo><mi>A</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(A,B) = \\gcd(B, A \\bmod B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span> を繰り返すだけで <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> の超高速．</p>
<p>5つ目，<strong>アルゴリズムの改善はハードウェアの進化より効果的</strong>．
これがアルゴリズムを学ぶ理由です．</p>
<p>教科書の対応箇所は第3章の3.1から3.6です．」</p>
`,raw:"",frontmatter:Us,filepath:"",start:1492,id:34,no:35},__clicksContext:null,__preloaded:!1}),Il={layout:"question"},Js=L(Il),jl=S({get layout(){return Js.layout},get transition(){return Js.transition},get class(){return Js.class},get clicks(){return Js.clicks},get name(){return Js.name},get preload(){return Js.preload},slide:{content:"",revision:"1wbrym",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ①",level:2,index:35,noteHTML:`<p>「確認問題です．</p>
<p>97は素数か？ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1133em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9267em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.8867em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1133em;"><span></span></span></span></span></span></span></span></span> まで調べる方法で判定するとき，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> は何まで調べればよいか？</p>
<p>選択肢は，97まで，48まで，9まで，7まで．</p>
<p>……答えは3番の <strong>9まで</strong> です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>97</mn></msqrt><mo>≈</mo><mn>9.8</mn></mrow><annotation encoding="application/x-tex">\\sqrt{97} \\approx 9.8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">97</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9.8</span></span></span></span> なので，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> は2から9まで調べればよい．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">i = 2, 3, 4, 5, 6, 7, 8, 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">9</span></span></span></span> のどれでも割り切れない ― だから97は素数です．</p>
<p>4番の7と迷った人もいるかもしれませんが，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>7</mn><mn>2</mn></msup><mo>=</mo><mn>49</mn><mo>&lt;</mo><mn>97</mn></mrow><annotation encoding="application/x-tex">7^2 = 49 &lt; 97</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">7</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">49</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span></span></span></span> なので7だけでは不十分です．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>9</mn><mn>2</mn></msup><mo>=</mo><mn>81</mn><mo>&lt;</mo><mn>97</mn></mrow><annotation encoding="application/x-tex">9^2 = 81 &lt; 97</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">9</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">81</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>2</mn></msup><mo>=</mo><mn>100</mn><mo>&gt;</mo><mn>97</mn></mrow><annotation encoding="application/x-tex">10^2 = 100 &gt; 97</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">100</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">97</span></span></span></span> なので9まで．」</p>
`,raw:"",frontmatter:Js,filepath:"",start:1531,id:35,no:36},__clicksContext:null,__preloaded:!1}),Vl={layout:"question"},Gs=L(Vl),Fl=S({get layout(){return Gs.layout},get transition(){return Gs.transition},get class(){return Gs.class},get clicks(){return Gs.clicks},get name(){return Gs.name},get preload(){return Gs.preload},slide:{content:"",revision:"cxulh6",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ②",level:2,index:36,noteHTML:`<p>「2問目です．</p>
<p>エラトステネスのふるいで <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">N = 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50</span></span></span></span> の素数をすべて見つけるとき，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span> は何まで処理すればよいか？</p>
<p>選択肢は，49まで，25まで，7まで，5まで．</p>
<p>……答えは3番の <strong>7まで</strong> です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>50</mn></msqrt><mo>≈</mo><mn>7.07</mn></mrow><annotation encoding="application/x-tex">\\sqrt{50} \\approx 7.07</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">50</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7.07</span></span></span></span> なので，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">p = 2, 3, 5, 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span></span></span></span> まで処理すればよい．</p>
<p>4番の5まで，だと <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>50</mn></msqrt></mrow><annotation encoding="application/x-tex">\\sqrt{50}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">50</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span></span></span></span> より小さいので不十分ですね．
例えば <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>×</mo><mn>7</mn><mo>=</mo><mn>49</mn></mrow><annotation encoding="application/x-tex">7 \\times 7 = 49</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">49</span></span></span></span> が消されずに残ってしまいます．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">p = 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span></span></span></span> まで処理すれば <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>49</mn></mrow><annotation encoding="application/x-tex">49</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">49</span></span></span></span> も消せます．」</p>
`,raw:"",frontmatter:Gs,filepath:"",start:1579,id:36,no:37},__clicksContext:null,__preloaded:!1}),Wl={layout:"question"},Ks=L(Wl),Ul=S({get layout(){return Ks.layout},get transition(){return Ks.transition},get class(){return Ks.class},get clicks(){return Ks.clicks},get name(){return Ks.name},get preload(){return Ks.preload},slide:{content:"",revision:"2pn1co",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ③",level:2,index:37,noteHTML:`<p>「最後の確認問題．</p>
<p>ユークリッドの互除法で <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>48</mn><mo separator="true">,</mo><mn>18</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\gcd(48, 18)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">48</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">18</span><span class="mclose">)</span></span></span></span> を求めるとき，答えはいくつか？</p>
<p>選択肢は，3，9，12，6．</p>
<p>……答えは4番の <strong>6</strong> です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>48</mn><mo separator="true">,</mo><mn>18</mn><mo stretchy="false">)</mo><mo>→</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>18</mn><mo separator="true">,</mo><mn>12</mn><mo stretchy="false">)</mo><mo>→</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>12</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">)</mo><mo>→</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>6</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">\\gcd(48, 18) \\to \\gcd(18, 12) \\to \\gcd(12, 6) \\to \\gcd(6, 0) = 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">48</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">18</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">18</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">12</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">12</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>48</mn><mo>=</mo><mn>18</mn><mo>×</mo><mn>2</mn><mo>+</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">48 = 18 \\times 2 + 12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">48</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn><mo>=</mo><mn>12</mn><mo>×</mo><mn>1</mn><mo>+</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">18 = 12 \\times 1 + 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">18</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">12</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mo>=</mo><mn>6</mn><mo>×</mo><mn>2</mn><mo>+</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">12 = 6 \\times 2 + 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>．</p>
<p>スライド29で練習した問題と同じですが，
小テストにもこのタイプのトレース問題が出ますので，手順を覚えておいてください．」</p>
`,raw:"",frontmatter:Ks,filepath:"",start:1626,id:37,no:38},__clicksContext:null,__preloaded:!1}),Jl={},Ys=L(Jl),Gl=S({get layout(){return Ys.layout},get transition(){return Ys.transition},get class(){return Ys.class},get clicks(){return Ys.clicks},get name(){return Ys.name},get preload(){return Ys.preload},slide:{content:"",revision:"kclq9q",note:"",title:"次回予告",level:2,index:38,noteHTML:`<p>「次回は <strong>確率とシミュレーション</strong> です．</p>
<p>順列と組合せ ― 何通りあるかを数える．
期待値 ― 平均するとどうなるかを予測する．
モンテカルロ法 ― ランダムの力で円周率を求める．</p>
<p>予告クイズです．
ガチャで10種類のアイテムがあり，コンプリートしたい．
毎回ランダムに1種類出るとして，平均何回引けば全種類揃うでしょうか？</p>
<p>10回？ 20回？ 50回？</p>
<p>正解は <strong>約29回</strong> ．10種類なのに29回も必要です．
第3回で学んだΣの技術を使って，次回この29回を正確に導出します．</p>
<p>教科書の第4章に目を通しておいてください．</p>
<p>小テストは授業後にMicrosoft Formsで配信します．締切は来週の授業前日です．
それでは今日はここまで．ありがとうございました．」</p>
`,raw:"",frontmatter:Ys,filepath:"",start:1675,id:38,no:39},__clicksContext:null,__preloaded:!1}),N=new Array(39),O=(a,s)=>hp({loader:s,delay:300,loadingComponent:_m,errorComponent:A,onError:n=>console.error("Failed to load slide "+(a+1),n)}),ct=async()=>{try{return N[0]??=await _(()=>import("./md-BhiMPpyX.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},ht=async()=>{try{return N[1]??=await _(()=>import("./md-7Z0rQ9FL.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},gt=async()=>{try{return N[2]??=await _(()=>import("./md-BmkMC2mw.js"),__vite__mapDeps([6,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},dt=async()=>{try{return N[3]??=await _(()=>import("./md-B-laCmv3.js"),__vite__mapDeps([8,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},ut=async()=>{try{return N[4]??=await _(()=>import("./md-C23HvhKG.js"),__vite__mapDeps([10,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},ft=async()=>{try{return N[5]??=await _(()=>import("./md-CYBhZzwf.js"),__vite__mapDeps([11,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},yt=async()=>{try{return N[6]??=await _(()=>import("./md-7eMNP9Zg.js"),__vite__mapDeps([12,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},wt=async()=>{try{return N[7]??=await _(()=>import("./md-LnTyjwcS.js"),__vite__mapDeps([13,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},xt=async()=>{try{return N[8]??=await _(()=>import("./md-C1QO83a9.js"),__vite__mapDeps([14,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},vt=async()=>{try{return N[9]??=await _(()=>import("./md-Dgmziyl7.js"),__vite__mapDeps([15,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},kt=async()=>{try{return N[10]??=await _(()=>import("./md-BjcCSe6d.js"),__vite__mapDeps([16,17,18,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Mt=async()=>{try{return N[11]??=await _(()=>import("./md-Dm32qu3j.js"),__vite__mapDeps([19,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},bt=async()=>{try{return N[12]??=await _(()=>import("./md-BiH18aIw.js"),__vite__mapDeps([20,17,18,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},_t=async()=>{try{return N[13]??=await _(()=>import("./md-DnaS-8jg.js"),__vite__mapDeps([21,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Lt=async()=>{try{return N[14]??=await _(()=>import("./md-CBzTKPZt.js"),__vite__mapDeps([22,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},St=async()=>{try{return N[15]??=await _(()=>import("./md-C1NU-LmL.js"),__vite__mapDeps([23,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},At=async()=>{try{return N[16]??=await _(()=>import("./md-DAFeiLY_.js"),__vite__mapDeps([24,17,18,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Ot=async()=>{try{return N[17]??=await _(()=>import("./md-CdWn0sZS.js"),__vite__mapDeps([25,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Nt=async()=>{try{return N[18]??=await _(()=>import("./md-DD0Dfq2g.js"),__vite__mapDeps([26,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},$t=async()=>{try{return N[19]??=await _(()=>import("./md-Ce-Qid8W.js"),__vite__mapDeps([27,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Et=async()=>{try{return N[20]??=await _(()=>import("./md-CjvpM9Ew.js"),__vite__mapDeps([28,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Tt=async()=>{try{return N[21]??=await _(()=>import("./md-Dx2zsmqF.js"),__vite__mapDeps([29,1,2,3,4,30]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Ct=async()=>{try{return N[22]??=await _(()=>import("./md-CVpzfiNv.js"),__vite__mapDeps([31,17,18,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Pt=async()=>{try{return N[23]??=await _(()=>import("./md-CTCI-Clx.js"),__vite__mapDeps([32,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Rt=async()=>{try{return N[24]??=await _(()=>import("./md-Dnc24tuW.js"),__vite__mapDeps([33,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Dt=async()=>{try{return N[25]??=await _(()=>import("./md-B_Q7IrBP.js"),__vite__mapDeps([34,17,18,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Bt=async()=>{try{return N[26]??=await _(()=>import("./md-BJComDVb.js"),__vite__mapDeps([35,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},qt=async()=>{try{return N[27]??=await _(()=>import("./md-D2xJJVQ_.js"),__vite__mapDeps([36,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},zt=async()=>{try{return N[28]??=await _(()=>import("./md-BPu4CWb7.js"),__vite__mapDeps([37,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Ht=async()=>{try{return N[29]??=await _(()=>import("./md-CmooXEOl.js"),__vite__mapDeps([38,17,18,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},It=async()=>{try{return N[30]??=await _(()=>import("./md-CEUTEEVf.js"),__vite__mapDeps([39,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},jt=async()=>{try{return N[31]??=await _(()=>import("./md-BUkCo7BX.js"),__vite__mapDeps([40,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Vt=async()=>{try{return N[32]??=await _(()=>import("./md-CzdhvS_G.js"),__vite__mapDeps([41,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Ft=async()=>{try{return N[33]??=await _(()=>import("./md-Dmu9vhZZ.js"),__vite__mapDeps([42,1,9,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Wt=async()=>{try{return N[34]??=await _(()=>import("./md-DH6PrTI2.js"),__vite__mapDeps([43,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Ut=async()=>{try{return N[35]??=await _(()=>import("./md-ClXuK4JP.js"),__vite__mapDeps([44,1,45,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Jt=async()=>{try{return N[36]??=await _(()=>import("./md-CviUWfuK.js"),__vite__mapDeps([46,1,45,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Gt=async()=>{try{return N[37]??=await _(()=>import("./md-BpmLrkTY.js"),__vite__mapDeps([47,1,45,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Kt=async()=>{try{return N[38]??=await _(()=>import("./md-BQ3jVqyJ.js"),__vite__mapDeps([48,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),A}},Kl=[{no:1,meta:Sm,load:ct,component:O(0,ct)},{no:2,meta:Om,load:ht,component:O(1,ht)},{no:3,meta:$m,load:gt,component:O(2,gt)},{no:4,meta:Tm,load:dt,component:O(3,dt)},{no:5,meta:Pm,load:ut,component:O(4,ut)},{no:6,meta:Dm,load:ft,component:O(5,ft)},{no:7,meta:qm,load:yt,component:O(6,yt)},{no:8,meta:Hm,load:wt,component:O(7,wt)},{no:9,meta:jm,load:xt,component:O(8,xt)},{no:10,meta:Fm,load:vt,component:O(9,vt)},{no:11,meta:Um,load:kt,component:O(10,kt)},{no:12,meta:Gm,load:Mt,component:O(11,Mt)},{no:13,meta:Ym,load:bt,component:O(12,bt)},{no:14,meta:Zm,load:_t,component:O(13,_t)},{no:15,meta:sl,load:Lt,component:O(14,Lt)},{no:16,meta:nl,load:St,component:O(15,St)},{no:17,meta:el,load:At,component:O(16,At)},{no:18,meta:ml,load:Ot,component:O(17,Ot)},{no:19,meta:il,load:Nt,component:O(18,Nt)},{no:20,meta:ol,load:$t,component:O(19,$t)},{no:21,meta:hl,load:Et,component:O(20,Et)},{no:22,meta:dl,load:Tt,component:O(21,Tt)},{no:23,meta:fl,load:Ct,component:O(22,Ct)},{no:24,meta:wl,load:Pt,component:O(23,Pt)},{no:25,meta:vl,load:Rt,component:O(24,Rt)},{no:26,meta:Ml,load:Dt,component:O(25,Dt)},{no:27,meta:_l,load:Bt,component:O(26,Bt)},{no:28,meta:Sl,load:qt,component:O(27,qt)},{no:29,meta:Ol,load:zt,component:O(28,zt)},{no:30,meta:$l,load:Ht,component:O(29,Ht)},{no:31,meta:Tl,load:It,component:O(30,It)},{no:32,meta:Pl,load:jt,component:O(31,jt)},{no:33,meta:Dl,load:Vt,component:O(32,Vt)},{no:34,meta:ql,load:Ft,component:O(33,Ft)},{no:35,meta:Hl,load:Wt,component:O(34,Wt)},{no:36,meta:jl,load:Ut,component:O(35,Ut)},{no:37,meta:Fl,load:Jt,component:O(36,Jt)},{no:38,meta:Ul,load:Gt,component:O(37,Gt)},{no:39,meta:Gl,load:Kt,component:O(38,Kt)}],ts=zn(Kl);function eo(a){if(typeof a=="number")return{seconds:a,relative:!1};const s=a.startsWith("+");s&&(a=a.slice(1));let n=0;if(a.includes(":")){const t=a.split(":").map(Number);let e=0,p=0,m=0;if(t.length===3)e=t[0],p=t[1],m=t[2];else if(t.length===2)p=t[0],m=t[1];else if(t.length===1)m=t[0];else throw new TypeError("Invalid timestamp format");if(Number.isNaN(e)||Number.isNaN(p)||Number.isNaN(m))throw new TypeError("Invalid timestamp format");n=(e||0)*3600+(p||0)*60+(m||0)}else if(!a.match(/[a-z]/i))n=Number(a);else{const t={s:1,sec:1,secs:1,m:60,min:60,mins:60,h:3600,hr:3600,hrs:3600,hour:3600,hours:3600,day:86400,days:86400,week:604800,weeks:604800,month:2629746,months:2629746,year:31556952,years:31556952},e=/([\d.]+)([a-z]+)/gi,p=a.matchAll(e);if(p)for(const l of p){const i=Number(l[1]);if(Number.isNaN(i))throw new TypeError(`Invalid timestamp value: ${l[1]}`);const r=l[2].toLowerCase();if(!(r in t))throw new TypeError(`Invalid timestamp unit: ${r}`);n+=i*t[r]}const m=a.replace(e,"").trim();if(m)throw new TypeError(`Unknown timestamp remaining: ${m}`)}return{seconds:n,relative:s}}function Le(a,s){if(!s||s==="all"||s==="*")return tt(1,a+1);if(s==="none")return[];const n=[];for(const t of s.split(/[,;]/g))if(!t.includes("-"))n.push(+t);else{const[e,p]=t.split("-",2);n.push(...tt(+e,p?+p+1:a+1))}return qp(n).filter(t=>t<=a).sort((t,e)=>t-e)}const sn="$$slidev-clicks-context",Hn="$$slidev-page",Se="$$slidev-slide-element",Yl="$$slidev-slide-scale",Ql="$$slidev-context",po="$$slidev-route",In="$$slidev-render-context",Zl="$$slidev-fontmatter",Xl="$$slidev-slide-zoom",Ra="slidev-vclick-target",ua="slidev-vclick-hidden",fa="slidev-vclick-fade",cn="slidev-vclick-hidden-explicitly",hn="slidev-vclick-current",gn="slidev-vclick-prior",Da=999999,si=["localhost","127.0.0.1"],ai=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],mo=[...ai,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","monacoRunUseStrict","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta","notesAutoRuby","magicMoveDuration","preloadImages"];function ni(a,s,{mode:n="replace"}={}){const t=Za();return k({get(){const e=t.currentRoute.value.query[a];return e==null?s:Array.isArray(e)?e.filter(Boolean):e},set(e){gp(()=>{(t.currentRoute.value.query[a]??s?.toString())!==e.toString()&&t[dp(n)]({query:{...t.currentRoute.value.query,[a]:`${e}`===s?void 0:e}})})}})}function an(a){return ts.value.find(s=>s.no===+a||s.meta.slide?.frontmatter.routeAlias===a)}function ma(a,s,n=!1){(typeof a=="number"||typeof a=="string")&&(a=an(a));const t=a.meta.slide?.frontmatter.routeAlias??a.no;return n?`/export/${t}`:s?`/presenter/${t}`:`/${t}`}const ti={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function ei(a,s=!1){if(!a||(typeof a=="string"&&(a={name:a}),!a.name))return;let n=a.name.includes("|")?a.name:ti[a.name]||a.name;if(n.includes("|")){const[t,e]=n.split("|").map(p=>p.trim());n=s?e:t}if(n)return{...a,name:n}}function pi(a,s,n){let t=a>0?n?.meta?.transition:s?.meta?.transition;return t||(t=B.transition||void 0),ei(t,a<0)}const lo=E(!1),io=E(!1),ro=E(!1),mi=E(!1),jn=E(!1),oo=E(!1),co=E(!0),li=L(new Set),ho=k(()=>li.size>0),go=yp({xs:460,...xp}),Fa=vp(),uo=up(),fo=k(()=>Fa.height.value-Fa.width.value/ye.value>120),yo=fp(Xa?document.body:null),Ae=wp(),wo=k(()=>["INPUT","TEXTAREA"].includes(Ae.value?.tagName||"")),xo=k(()=>["BUTTON","A"].includes(Ae.value?.tagName||""));F("slidev-camera","default",{listenToStorageChanges:!1});F("slidev-mic","default",{listenToStorageChanges:!1});const ii=F("slidev-scale",0),vo=F("slidev-wake-lock",!0),ko=F("slidev-hide-cursor-idle",!0);F("slidev-skip-export-pdf-tip",!1);F("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const Mo=F("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),ri=F("slidev-show-editor",!1,{listenToStorageChanges:!1}),oi=F("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),ci=F("slidev-editor-width",Xa?window.innerWidth*.4:318,{listenToStorageChanges:!1}),hi=F("slidev-editor-height",Xa?window.innerHeight*.4:300,{listenToStorageChanges:!1}),Aa=zn(null),Wa=F("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),Oa=F("slidev-presenter-layout",1,{listenToStorageChanges:!1}),On={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},gi=F("slidev-viewer-css-filter",On,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),bo=k(()=>Object.keys(On).some(a=>gi.value[a]!==On[a]));function _o(){Oa.value=Oa.value+1,Oa.value>3&&(Oa.value=1)}function Lo(){Wa.value=Math.min(2,Wa.value+.1)}function So(){Wa.value=Math.max(.5,Wa.value-.1)}const Ao=de(mi),Na=F("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Oe(a,s,n=1){const t=s.meta.slide.level??n;t&&t>n&&a.length>0?Oe(a[a.length-1].children,s,n+1):a.push({no:s.no,children:[],level:n,titleLevel:t,path:ma(s.meta.slide?.frontmatter?.routeAlias??s.no,!1),hideInToc:!!s.meta?.slide?.frontmatter?.hideInToc,title:s.meta?.slide?.title})}function Ne(a,s,n=!1,t,e){return a.map(p=>{const m={...p,active:p.no===e?.value,hasActiveParent:n};return m.children.length>0&&(m.children=Ne(m.children,s,m.active||m.hasActiveParent,m,e)),t&&(m.active||m.activeParent)&&(t.activeParent=!0),m})}function $e(a,s=1){return a.filter(n=>!n.hideInToc).map(n=>({...n,children:$e(n.children,s+1)}))}function di(a,s,n){const t=k(()=>a.value.filter(p=>p.meta?.slide?.title).reduce((p,m)=>(Oe(p,m),p),[])),e=k(()=>Ne(t.value,n.value,void 0,void 0,s));return k(()=>$e(e.value))}function ui(a,s,n=E(0),t,e,p){const m=k(()=>ts.value.length),l=E(0),i=E(0),r=k(()=>ma(a.value,t.value)),c=k(()=>a.value.no),g=k(()=>a.value.meta?.layout||(c.value===1?"cover":"default")),h=k(()=>s.value.current),o=k(()=>s.value.clicksStart),u=k(()=>s.value.total),d=k(()=>ts.value[Math.min(ts.value.length,c.value+1)-1]),f=k(()=>ts.value[Math.max(1,c.value-1)-1]),y=k(()=>c.value<ts.value.length||h.value<u.value),w=k(()=>c.value>1||h.value>0),x=k(()=>e.value?void 0:pi(l.value,a.value,f.value));ss(a,(z,R)=>{l.value=z.no-R.no});async function v(z){return!1}const M=di(ts,c,a);async function T(){i.value=1,u.value<=n.value?await I():n.value+=1}async function P(){i.value=-1,n.value<=o.value?await U(!0):n.value-=1}async function I(z=!1){i.value=1,c.value<ts.value.length&&await $(c.value+1,z&&!e.value?Da:void 0)}async function U(z=!1){i.value=-1,c.value>1&&await $(c.value-1,z&&!e.value?Da:void 0)}function is(){return $(1)}function Z(){return $(m.value)}async function $(z,R=0,ms=!1){jn.value=!1;const rs=c.value!==z,ga=R!==n.value,K=an(z)?.meta,q=K?.slide?.frontmatter.clicksStart??0;R=_n(R,q,K?.__clicksContext?.total??Da),(ms||rs||ga)&&await p?.push({path:ma(z,t.value,p.currentRoute.value.name==="export"),query:{...p.currentRoute.value.query,clicks:R===0?void 0:R.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function C(){p?.push({path:ma(c.value,!0),query:{...p.currentRoute.value.query}})}function j(){p?.push({path:ma(c.value,!1),query:{...p.currentRoute.value.query}})}return{slides:ts,total:m,currentPath:r,currentSlideNo:c,currentPage:c,currentSlideRoute:a,currentLayout:g,currentTransition:x,clicksDirection:i,nextRoute:d,prevRoute:f,clicksContext:s,clicks:h,clicksStart:o,clicksTotal:u,hasNext:y,hasPrev:w,tocTree:M,navDirection:l,openInEditor:v,next:T,prev:P,go:$,goLast:Z,goFirst:is,nextSlide:I,prevSlide:U,enterPresenter:C,exitPresenter:j}}const fi=ue(()=>{const a=Za(),s=kp(),n=k(()=>(a?.currentRoute?.value?.query,new URLSearchParams(location.search))),t=k(()=>n.value.has("print")||s.name==="export"),e=E(n.value.get("print")==="clicks"),p=k(()=>n.value.has("embedded")),m=k(()=>s.name==="play"),l=k(()=>s.name==="presenter"),i=k(()=>s.name==="notes"),r=k(()=>!l.value&&(!B.remote||n.value.get("password")===B.remote)),c=k(()=>!!s.params.no),g=k(()=>c.value?an(s.params.no)?.no??1:1),h=k(()=>ts.value[g.value-1]),o=E(Le(ts.value.length,s?.query?.range)),u=ni("clicks","0"),d=k(()=>y(h.value)),f=k({get(){let w=+(u.value||0);return Number.isNaN(w)&&(w=0),w},set(w){jn.value=!1,u.value=w.toString()}});function y(w){if(w?.meta?.__clicksContext)return w.meta.__clicksContext;const x=w.no,v=_e(k({get(){return g.value===x?Math.max(+(u.value??0),v.clicksStart):g.value>x?Da:v.clicksStart},set(M){g.value===x&&(u.value=M.toString())}}),w?.meta.slide?.frontmatter.clicksStart??0,w?.meta.clicks);return w?.meta&&(w.meta.__clicksContext=v),v}return{router:a,currentRoute:k(()=>s),isPrintMode:t,isPrintWithClicks:e,isEmbedded:p,isPlaying:m,isPresenter:l,isNotesViewer:i,isPresenterAvailable:r,hasPrimarySlide:c,currentSlideNo:g,currentSlideRoute:h,clicksContext:d,queryClicksRaw:u,queryClicks:f,printRange:o,getPrimaryClicks:y}}),ha=ue(()=>{const a=fi(),s=Za(),n=ui(a.currentSlideRoute,a.clicksContext,a.queryClicks,a.isPresenter,a.isPrintMode,s);return ss([n.total,a.currentRoute],async()=>{const t=a.currentRoute.value.params.no;a.hasPrimarySlide.value&&!an(t)&&(t&&t!=="index.html"?await n.go(n.total.value,0,!0):await n.go(1,0,!0))},{flush:"pre",immediate:!0}),{...n,...a}}),Yt=Mp(),dn=F("slidev-color-schema","auto"),Qt=k(()=>B.colorSchema!=="auto"),Ee=k({get(){return Qt.value?B.colorSchema==="dark":dn.value==="auto"?Yt.value:dn.value==="dark"},set(a){Qt.value||(dn.value=a===Yt.value?"auto":a?"dark":"light")}}),Oo=de(Ee);if(Xa){const a="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ss(Ee,s=>{const n=window.document.createElement("style");n.appendChild(document.createTextNode(a)),window.document.head.appendChild(n);const t=document.querySelector("html");t.classList.toggle("dark",s),t.classList.toggle("light",!s),window.getComputedStyle(n).opacity,document.head.removeChild(n)},{immediate:!0})}function yi(){const{isPrintMode:a}=ha();bp(k(()=>a.value?`
@page {
  size: ${we.value}px ${Ip.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const Vn=Symbol.for("yaml.alias"),wi=Symbol.for("yaml.document"),sa=Symbol.for("yaml.map"),Te=Symbol.for("yaml.pair"),Fn=Symbol.for("yaml.scalar"),_a=Symbol.for("yaml.seq"),ps=Symbol.for("yaml.node.type"),aa=a=>!!a&&typeof a=="object"&&a[ps]===Vn,nn=a=>!!a&&typeof a=="object"&&a[ps]===wi,Ce=a=>!!a&&typeof a=="object"&&a[ps]===sa,V=a=>!!a&&typeof a=="object"&&a[ps]===Te,H=a=>!!a&&typeof a=="object"&&a[ps]===Fn,Wn=a=>!!a&&typeof a=="object"&&a[ps]===_a;function Q(a){if(a&&typeof a=="object")switch(a[ps]){case sa:case _a:return!0}return!1}function W(a){if(a&&typeof a=="object")switch(a[ps]){case Vn:case sa:case Fn:case _a:return!0}return!1}const Pe=a=>(H(a)||Q(a))&&!!a.anchor,Qs=Symbol("break visit"),xi=Symbol("skip children"),va=Symbol("remove node");function tn(a,s){const n=vi(s);nn(a)?la(null,a.contents,n,Object.freeze([a]))===va&&(a.contents=null):la(null,a,n,Object.freeze([]))}tn.BREAK=Qs;tn.SKIP=xi;tn.REMOVE=va;function la(a,s,n,t){const e=ki(a,s,n,t);if(W(e)||V(e))return Mi(a,t,e),la(a,e,n,t);if(typeof e!="symbol"){if(Q(s)){t=Object.freeze(t.concat(s));for(let p=0;p<s.items.length;++p){const m=la(p,s.items[p],n,t);if(typeof m=="number")p=m-1;else{if(m===Qs)return Qs;m===va&&(s.items.splice(p,1),p-=1)}}}else if(V(s)){t=Object.freeze(t.concat(s));const p=la("key",s.key,n,t);if(p===Qs)return Qs;p===va&&(s.key=null);const m=la("value",s.value,n,t);if(m===Qs)return Qs;m===va&&(s.value=null)}}return e}function vi(a){return typeof a=="object"&&(a.Collection||a.Node||a.Value)?Object.assign({Alias:a.Node,Map:a.Node,Scalar:a.Node,Seq:a.Node},a.Value&&{Map:a.Value,Scalar:a.Value,Seq:a.Value},a.Collection&&{Map:a.Collection,Seq:a.Collection},a):a}function ki(a,s,n,t){if(typeof n=="function")return n(a,s,t);if(Ce(s))return n.Map?.(a,s,t);if(Wn(s))return n.Seq?.(a,s,t);if(V(s))return n.Pair?.(a,s,t);if(H(s))return n.Scalar?.(a,s,t);if(aa(s))return n.Alias?.(a,s,t)}function Mi(a,s,n){const t=s[s.length-1];if(Q(t))t.items[a]=n;else if(V(t))a==="key"?t.key=n:t.value=n;else if(nn(t))t.contents=n;else{const e=aa(t)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}}function Re(a){if(/[\x00-\x19\s,[\]{}]/.test(a)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(a)}`;throw new Error(n)}return!0}function xa(a,s,n,t){if(t&&typeof t=="object")if(Array.isArray(t))for(let e=0,p=t.length;e<p;++e){const m=t[e],l=xa(a,t,String(e),m);l===void 0?delete t[e]:l!==m&&(t[e]=l)}else if(t instanceof Map)for(const e of Array.from(t.keys())){const p=t.get(e),m=xa(a,t,e,p);m===void 0?t.delete(e):m!==p&&t.set(e,m)}else if(t instanceof Set)for(const e of Array.from(t)){const p=xa(a,t,e,e);p===void 0?t.delete(e):p!==e&&(t.delete(e),t.add(p))}else for(const[e,p]of Object.entries(t)){const m=xa(a,t,e,p);m===void 0?delete t[e]:m!==p&&(t[e]=m)}return a.call(s,n,t)}function es(a,s,n){if(Array.isArray(a))return a.map((t,e)=>es(t,String(e),n));if(a&&typeof a.toJSON=="function"){if(!n||!Pe(a))return a.toJSON(s,n);const t={aliasCount:0,count:1,res:void 0};n.anchors.set(a,t),n.onCreate=p=>{t.res=p,delete n.onCreate};const e=a.toJSON(s,n);return n.onCreate&&n.onCreate(e),e}return typeof a=="bigint"&&!n?.keep?Number(a):a}class Un{constructor(s){Object.defineProperty(this,ps,{value:s})}clone(){const s=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(s.range=this.range.slice()),s}toJS(s,{mapAsMap:n,maxAliasCount:t,onAnchor:e,reviver:p}={}){if(!nn(s))throw new TypeError("A document argument is required");const m={anchors:new Map,doc:s,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof t=="number"?t:100},l=es(this,"",m);if(typeof e=="function")for(const{count:i,res:r}of m.anchors.values())e(r,i);return typeof p=="function"?xa(p,{"":l},"",l):l}}class bi extends Un{constructor(s){super(Vn),this.source=s,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(s,n){let t;n?.aliasResolveCache?t=n.aliasResolveCache:(t=[],tn(s,{Node:(p,m)=>{(aa(m)||Pe(m))&&t.push(m)}}),n&&(n.aliasResolveCache=t));let e;for(const p of t){if(p===this)break;p.anchor===this.source&&(e=p)}return e}toJSON(s,n){if(!n)return{source:this.source};const{anchors:t,doc:e,maxAliasCount:p}=n,m=this.resolve(e,n);if(!m){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(i)}let l=t.get(m);if(l||(es(m,null,n),l=t.get(m)),l?.res===void 0){const i="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(i)}if(p>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=Ba(e,m,t)),l.count*l.aliasCount>p)){const i="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(i)}return l.res}toString(s,n,t){const e=`*${this.source}`;if(s){if(Re(this.source),s.options.verifyAliasOrder&&!s.anchors.has(this.source)){const p=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(p)}if(s.implicitKey)return`${e} `}return e}}function Ba(a,s,n){if(aa(s)){const t=s.resolve(a),e=n&&t&&n.get(t);return e?e.count*e.aliasCount:0}else if(Q(s)){let t=0;for(const e of s.items){const p=Ba(a,e,n);p>t&&(t=p)}return t}else if(V(s)){const t=Ba(a,s.key,n),e=Ba(a,s.value,n);return Math.max(t,e)}return 1}const De=a=>!a||typeof a!="function"&&typeof a!="object";class D extends Un{constructor(s){super(Fn),this.value=s}toJSON(s,n){return n?.keep?this.value:es(this.value,s,n)}toString(){return String(this.value)}}D.BLOCK_FOLDED="BLOCK_FOLDED";D.BLOCK_LITERAL="BLOCK_LITERAL";D.PLAIN="PLAIN";D.QUOTE_DOUBLE="QUOTE_DOUBLE";D.QUOTE_SINGLE="QUOTE_SINGLE";function _i(a,s,n){return n.find(t=>t.identify?.(a)&&!t.format)}function Ua(a,s,n){if(nn(a)&&(a=a.contents),W(a))return a;if(V(a)){const g=n.schema[sa].createNode?.(n.schema,null,n);return g.items.push(a),g}(a instanceof String||a instanceof Number||a instanceof Boolean||typeof BigInt<"u"&&a instanceof BigInt)&&(a=a.valueOf());const{aliasDuplicateObjects:t,onAnchor:e,onTagObj:p,schema:m,sourceObjects:l}=n;let i;if(t&&a&&typeof a=="object"){if(i=l.get(a),i)return i.anchor??(i.anchor=e(a)),new bi(i.anchor);i={anchor:null,node:null},l.set(a,i)}let r=_i(a,s,m.tags);if(!r){if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),!a||typeof a!="object"){const g=new D(a);return i&&(i.node=g),g}r=a instanceof Map?m[sa]:Symbol.iterator in Object(a)?m[_a]:m[sa]}p&&(p(r),delete n.onTagObj);const c=r?.createNode?r.createNode(n.schema,a,n):typeof r?.nodeClass?.from=="function"?r.nodeClass.from(n.schema,a,n):new D(a);return r.default||(c.tag=r.tag),i&&(i.node=c),c}function Zt(a,s,n){let t=n;for(let e=s.length-1;e>=0;--e){const p=s[e];if(typeof p=="number"&&Number.isInteger(p)&&p>=0){const m=[];m[p]=t,t=m}else t=new Map([[p,t]])}return Ua(t,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:a,sourceObjects:new Map})}const Li=a=>a==null||typeof a=="object"&&!!a[Symbol.iterator]().next().done;class Be extends Un{constructor(s,n){super(s),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(s){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return s&&(n.schema=s),n.items=n.items.map(t=>W(t)||V(t)?t.clone(s):t),this.range&&(n.range=this.range.slice()),n}addIn(s,n){if(Li(s))this.add(n);else{const[t,...e]=s,p=this.get(t,!0);if(Q(p))p.addIn(e,n);else if(p===void 0&&this.schema)this.set(t,Zt(this.schema,e,n));else throw new Error(`Expected YAML collection at ${t}. Remaining path: ${e}`)}}deleteIn(s){const[n,...t]=s;if(t.length===0)return this.delete(n);const e=this.get(n,!0);if(Q(e))return e.deleteIn(t);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${t}`)}getIn(s,n){const[t,...e]=s,p=this.get(t,!0);return e.length===0?!n&&H(p)?p.value:p:Q(p)?p.getIn(e,n):void 0}hasAllNullValues(s){return this.items.every(n=>{if(!V(n))return!1;const t=n.value;return t==null||s&&H(t)&&t.value==null&&!t.commentBefore&&!t.comment&&!t.tag})}hasIn(s){const[n,...t]=s;if(t.length===0)return this.has(n);const e=this.get(n,!0);return Q(e)?e.hasIn(t):!1}setIn(s,n){const[t,...e]=s;if(e.length===0)this.set(t,n);else{const p=this.get(t,!0);if(Q(p))p.setIn(e,n);else if(p===void 0&&this.schema)this.set(t,Zt(this.schema,e,n));else throw new Error(`Expected YAML collection at ${t}. Remaining path: ${e}`)}}}const Si=a=>a.replace(/^(?!$)(?: $)?/gm,"#");function ba(a,s){return/^\n+$/.test(a)?a.substring(1):s?a.replace(/^(?! *$)/gm,s):a}const ia=(a,s,n)=>a.endsWith(`
`)?ba(n,s):n.includes(`
`)?`
`+ba(n,s):(a.endsWith(" ")?"":" ")+n,qe="flow",Nn="block",qa="quoted";function en(a,s,n="flow",{indentAtStart:t,lineWidth:e=80,minContentWidth:p=20,onFold:m,onOverflow:l}={}){if(!e||e<0)return a;e<p&&(p=0);const i=Math.max(1+p,1+e-s.length);if(a.length<=i)return a;const r=[],c={};let g=e-s.length;typeof t=="number"&&(t>e-Math.max(2,p)?r.push(0):g=e-t);let h,o,u=!1,d=-1,f=-1,y=-1;n===Nn&&(d=Xt(a,d,s.length),d!==-1&&(g=d+i));for(let x;x=a[d+=1];){if(n===qa&&x==="\\"){switch(f=d,a[d+1]){case"x":d+=3;break;case"u":d+=5;break;case"U":d+=9;break;default:d+=1}y=d}if(x===`
`)n===Nn&&(d=Xt(a,d,s.length)),g=d+s.length+i,h=void 0;else{if(x===" "&&o&&o!==" "&&o!==`
`&&o!=="	"){const v=a[d+1];v&&v!==" "&&v!==`
`&&v!=="	"&&(h=d)}if(d>=g)if(h)r.push(h),g=h+i,h=void 0;else if(n===qa){for(;o===" "||o==="	";)o=x,x=a[d+=1],u=!0;const v=d>y+1?d-2:f-1;if(c[v])return a;r.push(v),c[v]=!0,g=v+i,h=void 0}else u=!0}o=x}if(u&&l&&l(),r.length===0)return a;m&&m();let w=a.slice(0,r[0]);for(let x=0;x<r.length;++x){const v=r[x],M=r[x+1]||a.length;v===0?w=`
${s}${a.slice(0,M)}`:(n===qa&&c[v]&&(w+=`${a[v]}\\`),w+=`
${s}${a.slice(v+1,M)}`)}return w}function Xt(a,s,n){let t=s,e=s+1,p=a[e];for(;p===" "||p==="	";)if(s<e+n)p=a[++s];else{do p=a[++s];while(p&&p!==`
`);t=s,e=s+1,p=a[e]}return t}const pn=(a,s)=>({indentAtStart:s?a.indent.length:a.indentAtStart,lineWidth:a.options.lineWidth,minContentWidth:a.options.minContentWidth}),mn=a=>/^(%|---|\.\.\.)/m.test(a);function Ai(a,s,n){if(!s||s<0)return!1;const t=s-n,e=a.length;if(e<=t)return!1;for(let p=0,m=0;p<e;++p)if(a[p]===`
`){if(p-m>t)return!0;if(m=p+1,e-m<=t)return!1}return!0}function ka(a,s){const n=JSON.stringify(a);if(s.options.doubleQuotedAsJSON)return n;const{implicitKey:t}=s,e=s.options.doubleQuotedMinMultiLineLength,p=s.indent||(mn(a)?"  ":"");let m="",l=0;for(let i=0,r=n[i];r;r=n[++i])if(r===" "&&n[i+1]==="\\"&&n[i+2]==="n"&&(m+=n.slice(l,i)+"\\ ",i+=1,l=i,r="\\"),r==="\\")switch(n[i+1]){case"u":{m+=n.slice(l,i);const c=n.substr(i+2,4);switch(c){case"0000":m+="\\0";break;case"0007":m+="\\a";break;case"000b":m+="\\v";break;case"001b":m+="\\e";break;case"0085":m+="\\N";break;case"00a0":m+="\\_";break;case"2028":m+="\\L";break;case"2029":m+="\\P";break;default:c.substr(0,2)==="00"?m+="\\x"+c.substr(2):m+=n.substr(i,6)}i+=5,l=i+1}break;case"n":if(t||n[i+2]==='"'||n.length<e)i+=1;else{for(m+=n.slice(l,i)+`

`;n[i+2]==="\\"&&n[i+3]==="n"&&n[i+4]!=='"';)m+=`
`,i+=2;m+=p,n[i+2]===" "&&(m+="\\"),i+=1,l=i+1}break;default:i+=1}return m=l?m+n.slice(l):n,t?m:en(m,p,qa,pn(s,!1))}function $n(a,s){if(s.options.singleQuote===!1||s.implicitKey&&a.includes(`
`)||/[ \t]\n|\n[ \t]/.test(a))return ka(a,s);const n=s.indent||(mn(a)?"  ":""),t="'"+a.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return s.implicitKey?t:en(t,n,qe,pn(s,!1))}function ra(a,s){const{singleQuote:n}=s.options;let t;if(n===!1)t=ka;else{const e=a.includes('"'),p=a.includes("'");e&&!p?t=$n:p&&!e?t=ka:t=n?$n:ka}return t(a,s)}let En;try{En=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{En=/\n+(?!\n|$)/g}function za({comment:a,type:s,value:n},t,e,p){const{blockQuote:m,commentString:l,lineWidth:i}=t.options;if(!m||/\n[\t ]+$/.test(n))return ra(n,t);const r=t.indent||(t.forceBlockIndent||mn(n)?"  ":""),c=m==="literal"?!0:m==="folded"||s===D.BLOCK_FOLDED?!1:s===D.BLOCK_LITERAL?!0:!Ai(n,i,r.length);if(!n)return c?`|
`:`>
`;let g,h;for(h=n.length;h>0;--h){const M=n[h-1];if(M!==`
`&&M!=="	"&&M!==" ")break}let o=n.substring(h);const u=o.indexOf(`
`);u===-1?g="-":n===o||u!==o.length-1?(g="+",p&&p()):g="",o&&(n=n.slice(0,-o.length),o[o.length-1]===`
`&&(o=o.slice(0,-1)),o=o.replace(En,`$&${r}`));let d=!1,f,y=-1;for(f=0;f<n.length;++f){const M=n[f];if(M===" ")d=!0;else if(M===`
`)y=f;else break}let w=n.substring(0,y<f?y+1:f);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${r}`));let v=(d?r?"2":"1":"")+g;if(a&&(v+=" "+l(a.replace(/ ?[\r\n]+/g," ")),e&&e()),!c){const M=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${r}`);let T=!1;const P=pn(t,!0);m!=="folded"&&s!==D.BLOCK_FOLDED&&(P.onOverflow=()=>{T=!0});const I=en(`${w}${M}${o}`,r,Nn,P);if(!T)return`>${v}
${r}${I}`}return n=n.replace(/\n+/g,`$&${r}`),`|${v}
${r}${w}${n}${o}`}function Oi(a,s,n,t){const{type:e,value:p}=a,{actualString:m,implicitKey:l,indent:i,indentStep:r,inFlow:c}=s;if(l&&p.includes(`
`)||c&&/[[\]{},]/.test(p))return ra(p,s);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(p))return l||c||!p.includes(`
`)?ra(p,s):za(a,s,n,t);if(!l&&!c&&e!==D.PLAIN&&p.includes(`
`))return za(a,s,n,t);if(mn(p)){if(i==="")return s.forceBlockIndent=!0,za(a,s,n,t);if(l&&i===r)return ra(p,s)}const g=p.replace(/\n+/g,`$&
${i}`);if(m){const h=d=>d.default&&d.tag!=="tag:yaml.org,2002:str"&&d.test?.test(g),{compat:o,tags:u}=s.doc.schema;if(u.some(h)||o?.some(h))return ra(p,s)}return l?g:en(g,i,qe,pn(s,!1))}function Ni(a,s,n,t){const{implicitKey:e,inFlow:p}=s,m=typeof a.value=="string"?a:Object.assign({},a,{value:String(a.value)});let{type:l}=a;l!==D.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(m.value)&&(l=D.QUOTE_DOUBLE);const i=c=>{switch(c){case D.BLOCK_FOLDED:case D.BLOCK_LITERAL:return e||p?ra(m.value,s):za(m,s,n,t);case D.QUOTE_DOUBLE:return ka(m.value,s);case D.QUOTE_SINGLE:return $n(m.value,s);case D.PLAIN:return Oi(m,s,n,t);default:return null}};let r=i(l);if(r===null){const{defaultKeyType:c,defaultStringType:g}=s.options,h=e&&c||g;if(r=i(h),r===null)throw new Error(`Unsupported default string type ${h}`)}return r}function $i(a,s){const n=Object.assign({blockQuote:!0,commentString:Si,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},a.schema.toStringOptions,s);let t;switch(n.collectionStyle){case"block":t=!1;break;case"flow":t=!0;break;default:t=null}return{anchors:new Set,doc:a,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:t,options:n}}function Ei(a,s){if(s.tag){const e=a.filter(p=>p.tag===s.tag);if(e.length>0)return e.find(p=>p.format===s.format)??e[0]}let n,t;if(H(s)){t=s.value;let e=a.filter(p=>p.identify?.(t));if(e.length>1){const p=e.filter(m=>m.test);p.length>0&&(e=p)}n=e.find(p=>p.format===s.format)??e.find(p=>!p.format)}else t=s,n=a.find(e=>e.nodeClass&&t instanceof e.nodeClass);if(!n){const e=t?.constructor?.name??(t===null?"null":typeof t);throw new Error(`Tag not resolved for ${e} value`)}return n}function Ti(a,s,{anchors:n,doc:t}){if(!t.directives)return"";const e=[],p=(H(a)||Q(a))&&a.anchor;p&&Re(p)&&(n.add(p),e.push(`&${p}`));const m=a.tag??(s.default?null:s.tag);return m&&e.push(t.directives.tagString(m)),e.join(" ")}function Ja(a,s,n,t){if(V(a))return a.toString(s,n,t);if(aa(a)){if(s.doc.directives)return a.toString(s);if(s.resolvedAliases?.has(a))throw new TypeError("Cannot stringify circular structure without alias nodes");s.resolvedAliases?s.resolvedAliases.add(a):s.resolvedAliases=new Set([a]),a=a.resolve(s.doc)}let e;const p=W(a)?a:s.doc.createNode(a,{onTagObj:i=>e=i});e??(e=Ei(s.doc.schema.tags,p));const m=Ti(p,e,s);m.length>0&&(s.indentAtStart=(s.indentAtStart??0)+m.length+1);const l=typeof e.stringify=="function"?e.stringify(p,s,n,t):H(p)?Ni(p,s,n,t):p.toString(s,n,t);return m?H(p)||l[0]==="{"||l[0]==="["?`${m} ${l}`:`${m}
${s.indent}${l}`:l}function Ci({key:a,value:s},n,t,e){const{allNullValues:p,doc:m,indent:l,indentStep:i,options:{commentString:r,indentSeq:c,simpleKeys:g}}=n;let h=W(a)&&a.comment||null;if(g){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Q(a)||!W(a)&&typeof a=="object"){const P="With simple keys, collection cannot be used as a key value";throw new Error(P)}}let o=!g&&(!a||h&&s==null&&!n.inFlow||Q(a)||(H(a)?a.type===D.BLOCK_FOLDED||a.type===D.BLOCK_LITERAL:typeof a=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!o&&(g||!p),indent:l+i});let u=!1,d=!1,f=Ja(a,n,()=>u=!0,()=>d=!0);if(!o&&!n.inFlow&&f.length>1024){if(g)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");o=!0}if(n.inFlow){if(p||s==null)return u&&t&&t(),f===""?"?":o?`? ${f}`:f}else if(p&&!g||s==null&&o)return f=`? ${f}`,h&&!u?f+=ia(f,n.indent,r(h)):d&&e&&e(),f;u&&(h=null),o?(h&&(f+=ia(f,n.indent,r(h))),f=`? ${f}
${l}:`):(f=`${f}:`,h&&(f+=ia(f,n.indent,r(h))));let y,w,x;W(s)?(y=!!s.spaceBefore,w=s.commentBefore,x=s.comment):(y=!1,w=null,x=null,s&&typeof s=="object"&&(s=m.createNode(s))),n.implicitKey=!1,!o&&!h&&H(s)&&(n.indentAtStart=f.length+1),d=!1,!c&&i.length>=2&&!n.inFlow&&!o&&Wn(s)&&!s.flow&&!s.tag&&!s.anchor&&(n.indent=n.indent.substring(2));let v=!1;const M=Ja(s,n,()=>v=!0,()=>d=!0);let T=" ";if(h||y||w){if(T=y?`
`:"",w){const P=r(w);T+=`
${ba(P,n.indent)}`}M===""&&!n.inFlow?T===`
`&&x&&(T=`

`):T+=`
${n.indent}`}else if(!o&&Q(s)){const P=M[0],I=M.indexOf(`
`),U=I!==-1,is=n.inFlow??s.flow??s.items.length===0;if(U||!is){let Z=!1;if(U&&(P==="&"||P==="!")){let $=M.indexOf(" ");P==="&"&&$!==-1&&$<I&&M[$+1]==="!"&&($=M.indexOf(" ",$+1)),($===-1||I<$)&&(Z=!0)}Z||(T=`
${n.indent}`)}}else(M===""||M[0]===`
`)&&(T="");return f+=T+M,n.inFlow?v&&t&&t():x&&!v?f+=ia(f,n.indent,r(x)):d&&e&&e(),f}function Pi(a,s){(a==="debug"||a==="warn")&&console.warn(s)}const $a="<<",un={identify:a=>a===$a||typeof a=="symbol"&&a.description===$a,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new D(Symbol($a)),{addToJSMap:ze}),stringify:()=>$a},Ri=(a,s)=>(un.identify(s)||H(s)&&(!s.type||s.type===D.PLAIN)&&un.identify(s.value))&&a?.doc.schema.tags.some(n=>n.tag===un.tag&&n.default);function ze(a,s,n){if(n=a&&aa(n)?n.resolve(a.doc):n,Wn(n))for(const t of n.items)fn(a,s,t);else if(Array.isArray(n))for(const t of n)fn(a,s,t);else fn(a,s,n)}function fn(a,s,n){const t=a&&aa(n)?n.resolve(a.doc):n;if(!Ce(t))throw new Error("Merge sources must be maps or map aliases");const e=t.toJSON(null,a,Map);for(const[p,m]of e)s instanceof Map?s.has(p)||s.set(p,m):s instanceof Set?s.add(p):Object.prototype.hasOwnProperty.call(s,p)||Object.defineProperty(s,p,{value:m,writable:!0,enumerable:!0,configurable:!0});return s}function He(a,s,{key:n,value:t}){if(W(n)&&n.addToJSMap)n.addToJSMap(a,s,t);else if(Ri(a,n))ze(a,s,t);else{const e=es(n,"",a);if(s instanceof Map)s.set(e,es(t,e,a));else if(s instanceof Set)s.add(e);else{const p=Di(n,e,a),m=es(t,p,a);p in s?Object.defineProperty(s,p,{value:m,writable:!0,enumerable:!0,configurable:!0}):s[p]=m}}return s}function Di(a,s,n){if(s===null)return"";if(typeof s!="object")return String(s);if(W(a)&&n?.doc){const t=$i(n.doc,{});t.anchors=new Set;for(const p of n.anchors.keys())t.anchors.add(p.anchor);t.inFlow=!0,t.inStringifyKey=!0;const e=a.toString(t);if(!n.mapKeyWarned){let p=JSON.stringify(e);p.length>40&&(p=p.substring(0,36)+'..."'),Pi(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${p}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return e}return JSON.stringify(s)}function Jn(a,s,n){const t=Ua(a,void 0,n),e=Ua(s,void 0,n);return new ls(t,e)}class ls{constructor(s,n=null){Object.defineProperty(this,ps,{value:Te}),this.key=s,this.value=n}clone(s){let{key:n,value:t}=this;return W(n)&&(n=n.clone(s)),W(t)&&(t=t.clone(s)),new ls(n,t)}toJSON(s,n){const t=n?.mapAsMap?new Map:{};return He(n,t,this)}toString(s,n,t){return s?.doc?Ci(this,s,n,t):JSON.stringify(this)}}function Ie(a,s,n){return(s.inFlow??a.flow?qi:Bi)(a,s,n)}function Bi({comment:a,items:s},n,{blockItemPrefix:t,flowChars:e,itemIndent:p,onChompKeep:m,onComment:l}){const{indent:i,options:{commentString:r}}=n,c=Object.assign({},n,{indent:p,type:null});let g=!1;const h=[];for(let u=0;u<s.length;++u){const d=s[u];let f=null;if(W(d))!g&&d.spaceBefore&&h.push(""),Ga(n,h,d.commentBefore,g),d.comment&&(f=d.comment);else if(V(d)){const w=W(d.key)?d.key:null;w&&(!g&&w.spaceBefore&&h.push(""),Ga(n,h,w.commentBefore,g))}g=!1;let y=Ja(d,c,()=>f=null,()=>g=!0);f&&(y+=ia(y,p,r(f))),g&&f&&(g=!1),h.push(t+y)}let o;if(h.length===0)o=e.start+e.end;else{o=h[0];for(let u=1;u<h.length;++u){const d=h[u];o+=d?`
${i}${d}`:`
`}}return a?(o+=`
`+ba(r(a),i),l&&l()):g&&m&&m(),o}function qi({items:a},s,{flowChars:n,itemIndent:t}){const{indent:e,indentStep:p,flowCollectionPadding:m,options:{commentString:l}}=s;t+=p;const i=Object.assign({},s,{indent:t,inFlow:!0,type:null});let r=!1,c=0;const g=[];for(let u=0;u<a.length;++u){const d=a[u];let f=null;if(W(d))d.spaceBefore&&g.push(""),Ga(s,g,d.commentBefore,!1),d.comment&&(f=d.comment);else if(V(d)){const w=W(d.key)?d.key:null;w&&(w.spaceBefore&&g.push(""),Ga(s,g,w.commentBefore,!1),w.comment&&(r=!0));const x=W(d.value)?d.value:null;x?(x.comment&&(f=x.comment),x.commentBefore&&(r=!0)):d.value==null&&w?.comment&&(f=w.comment)}f&&(r=!0);let y=Ja(d,i,()=>f=null);u<a.length-1&&(y+=","),f&&(y+=ia(y,t,l(f))),!r&&(g.length>c||y.includes(`
`))&&(r=!0),g.push(y),c=g.length}const{start:h,end:o}=n;if(g.length===0)return h+o;if(!r){const u=g.reduce((d,f)=>d+f.length+2,2);r=s.options.lineWidth>0&&u>s.options.lineWidth}if(r){let u=h;for(const d of g)u+=d?`
${p}${e}${d}`:`
`;return`${u}
${e}${o}`}else return`${h}${m}${g.join(" ")}${m}${o}`}function Ga({indent:a,options:{commentString:s}},n,t,e){if(t&&e&&(t=t.replace(/^\n+/,"")),t){const p=ba(s(t),a);n.push(p.trimStart())}}function Xs(a,s){const n=H(s)?s.value:s;for(const t of a)if(V(t)&&(t.key===s||t.key===n||H(t.key)&&t.key.value===n))return t}class ea extends Be{static get tagName(){return"tag:yaml.org,2002:map"}constructor(s){super(sa,s),this.items=[]}static from(s,n,t){const{keepUndefined:e,replacer:p}=t,m=new this(s),l=(i,r)=>{if(typeof p=="function")r=p.call(n,i,r);else if(Array.isArray(p)&&!p.includes(i))return;(r!==void 0||e)&&m.items.push(Jn(i,r,t))};if(n instanceof Map)for(const[i,r]of n)l(i,r);else if(n&&typeof n=="object")for(const i of Object.keys(n))l(i,n[i]);return typeof s.sortMapEntries=="function"&&m.items.sort(s.sortMapEntries),m}add(s,n){let t;V(s)?t=s:!s||typeof s!="object"||!("key"in s)?t=new ls(s,s?.value):t=new ls(s.key,s.value);const e=Xs(this.items,t.key),p=this.schema?.sortMapEntries;if(e){if(!n)throw new Error(`Key ${t.key} already set`);H(e.value)&&De(t.value)?e.value.value=t.value:e.value=t.value}else if(p){const m=this.items.findIndex(l=>p(t,l)<0);m===-1?this.items.push(t):this.items.splice(m,0,t)}else this.items.push(t)}delete(s){const n=Xs(this.items,s);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(s,n){const e=Xs(this.items,s)?.value;return(!n&&H(e)?e.value:e)??void 0}has(s){return!!Xs(this.items,s)}set(s,n){this.add(new ls(s,n),!0)}toJSON(s,n,t){const e=t?new t:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(e);for(const p of this.items)He(n,e,p);return e}toString(s,n,t){if(!s)return JSON.stringify(this);for(const e of this.items)if(!V(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!s.allNullValues&&this.hasAllNullValues(!1)&&(s=Object.assign({},s,{allNullValues:!0})),Ie(this,s,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:s.indent||"",onChompKeep:t,onComment:n})}}class je extends Be{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(s){super(_a,s),this.items=[]}add(s){this.items.push(s)}delete(s){const n=Ea(s);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(s,n){const t=Ea(s);if(typeof t!="number")return;const e=this.items[t];return!n&&H(e)?e.value:e}has(s){const n=Ea(s);return typeof n=="number"&&n<this.items.length}set(s,n){const t=Ea(s);if(typeof t!="number")throw new Error(`Expected a valid index, not ${s}.`);const e=this.items[t];H(e)&&De(n)?e.value=n:this.items[t]=n}toJSON(s,n){const t=[];n?.onCreate&&n.onCreate(t);let e=0;for(const p of this.items)t.push(es(p,String(e++),n));return t}toString(s,n,t){return s?Ie(this,s,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(s.indent||"")+"  ",onChompKeep:t,onComment:n}):JSON.stringify(this)}static from(s,n,t){const{replacer:e}=t,p=new this(s);if(n&&Symbol.iterator in Object(n)){let m=0;for(let l of n){if(typeof e=="function"){const i=n instanceof Set?l:String(m++);l=e.call(n,i,l)}p.items.push(Ua(l,void 0,t))}}return p}}function Ea(a){let s=H(a)?a.value:a;return s&&typeof s=="string"&&(s=Number(s)),typeof s=="number"&&Number.isInteger(s)&&s>=0?s:null}function zi(a,s,n){const{replacer:t}=n,e=new je(a);e.tag="tag:yaml.org,2002:pairs";let p=0;if(s&&Symbol.iterator in Object(s))for(let m of s){typeof t=="function"&&(m=t.call(s,String(p++),m));let l,i;if(Array.isArray(m))if(m.length===2)l=m[0],i=m[1];else throw new TypeError(`Expected [key, value] tuple: ${m}`);else if(m&&m instanceof Object){const r=Object.keys(m);if(r.length===1)l=r[0],i=m[l];else throw new TypeError(`Expected tuple with one key, not ${r.length} keys`)}else l=m;e.items.push(Jn(l,i,n))}return e}class Gn extends je{constructor(){super(),this.add=ea.prototype.add.bind(this),this.delete=ea.prototype.delete.bind(this),this.get=ea.prototype.get.bind(this),this.has=ea.prototype.has.bind(this),this.set=ea.prototype.set.bind(this),this.tag=Gn.tag}toJSON(s,n){if(!n)return super.toJSON(s);const t=new Map;n?.onCreate&&n.onCreate(t);for(const e of this.items){let p,m;if(V(e)?(p=es(e.key,"",n),m=es(e.value,p,n)):p=es(e,"",n),t.has(p))throw new Error("Ordered maps must not include duplicate keys");t.set(p,m)}return t}static from(s,n,t){const e=zi(s,n,t),p=new this;return p.items=e.items,p}}Gn.tag="tag:yaml.org,2002:omap";class Kn extends ea{constructor(s){super(s),this.tag=Kn.tag}add(s){let n;V(s)?n=s:s&&typeof s=="object"&&"key"in s&&"value"in s&&s.value===null?n=new ls(s.key,null):n=new ls(s,null),Xs(this.items,n.key)||this.items.push(n)}get(s,n){const t=Xs(this.items,s);return!n&&V(t)?H(t.key)?t.key.value:t.key:t}set(s,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const t=Xs(this.items,s);t&&!n?this.items.splice(this.items.indexOf(t),1):!t&&n&&this.items.push(new ls(s))}toJSON(s,n){return super.toJSON(s,n,Set)}toString(s,n,t){if(!s)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},s,{allNullValues:!0}),n,t);throw new Error("Set items must all have null values")}static from(s,n,t){const{replacer:e}=t,p=new this(s);if(n&&Symbol.iterator in Object(n))for(let m of n)typeof e=="function"&&(m=e.call(n,m,m)),p.items.push(Jn(m,null,t));return p}}Kn.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function Yn(a=5){const s=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=n.length;for(let e=0;e<a;e++)s.push(n.charAt(Math.floor(Math.random()*t)));return s.join("")}function No(a,s,n,t){const e=Le(s+n-1,a);for(let p=0;p<s;p++){const m=t(p),l=e.includes(p+n);for(const i of m)i.classList.toggle("slidev-code-highlighted",l),i.classList.toggle("slidev-code-dishonored",!l),i.classList.toggle("highlighted",l),i.classList.toggle("dishonored",!l)}}function Ve(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function as(a,s,n){Object.defineProperty(a,s,{value:n,writable:!0,enumerable:!1})}const os=L({});let Hi=[],Ii=[];as(os,"$syncUp",!0);as(os,"$syncDown",!0);as(os,"$paused",!1);as(os,"$onSet",a=>Hi.push(a));as(os,"$onPatch",a=>Ii.push(a));Ve();as(os,"$patch",async()=>!1);const ji={channels:[],enabled:!0,init(a,s,n,t=!1){let e;if(!t)e=new BroadcastChannel(a),e.addEventListener("message",p=>s(p.data)),this.channels.push(e);else if(t){this.listener=function(m){m&&m.key===a&&m.newValue&&s(JSON.parse(m.newValue))},window.addEventListener("storage",this.listener);const p=window.localStorage.getItem(a);p&&s(JSON.parse(p))}return(p,m=!1)=>{this.enabled&&(!t&&e&&!m&&e.postMessage(fe(p)),t&&!m&&window.localStorage.setItem(a,JSON.stringify(p)))}},disable(){this.enabled=!1,this.channels.forEach(a=>a.close()),this.listener&&window.removeEventListener("storage",this.listener)}},Vi=L([ji]),Fi=new Map,se=E({});function Fe(a,s,n=!1){const t=[];let e=!1,p=!1,m,l;const i=L(s);function r(o){t.push(o)}function c(o,u){i[o]!==u&&(clearTimeout(m),e=!0,i[o]=u,m=setTimeout(()=>e=!1,0))}function g(o){e||(clearTimeout(l),p=!0,Object.entries(o).forEach(([u,d])=>{i[u]=d}),l=setTimeout(()=>p=!1,0))}function h(o){Fi.set(o,{onUpdate:g,persist:n,state:i}),se.value[o]=Vi.map(d=>d.init(o,g,i,n)).filter(d=>!!d);function u(){se.value[o].forEach(d=>d?.(fe(i),p)),e||t.forEach(d=>d(i))}ss(i,u,{deep:!0})}return{init:h,onPatch:r,onUpdate:g,patch:c,state:i}}const{init:Wi,onPatch:$o,patch:Eo,state:To}=Fe(os,os,!1),na=L({page:0,clicks:0,timer:{status:"stopped",slides:{},startedAt:0,pausedAt:0}});let Ui=[],Ji=[];as(na,"$syncUp",!0);as(na,"$syncDown",!0);as(na,"$paused",!1);as(na,"$onSet",a=>Ui.push(a));as(na,"$onPatch",a=>Ji.push(a));Ve();as(na,"$patch",async()=>!1);const{init:Gi,onPatch:Ki,patch:Ta,state:Co}=Fe(na,{page:1,clicks:0,clicksTotal:0,timer:{status:"stopped",slides:{},startedAt:0,pausedAt:0}});function Yi(){const a=ce().appContext.app,s=L({nav:ha(),configs:B,themeConfigs:k(()=>B.themeConfig)});a.provide(In,E("none")),a.provide(Ql,s),a.provide(Hn,k(()=>s.nav.currentSlideNo)),a.provide(sn,zn(fm()));for(const h of Vp)h();const{clicksContext:n,currentSlideNo:t,hasPrimarySlide:e,isNotesViewer:p,isPresenter:m,isPrintMode:l}=ha();gm({title:rn,htmlAttrs:B.htmlAttrs}),yi(),Gi(`${rn} - shared`),Wi(`${rn} - drawings`);const i=`${location.origin}_${Yn()}`,r=k(()=>m.value?"presenter":"viewer");function c(){(m.value?Na.value.presenterSend:Na.value.viewerSend)&&(p.value||l.value||!m.value&&!si.includes(location.host.split(":")[0])||(Ta("page",+t.value),Ta("clicks",n.value.current),Ta("clicksTotal",n.value.total),Ta("lastUpdate",{id:i,type:r.value,time:new Date().getTime()})))}const g=Za();g.afterEach(c),ss(n,c),Ki(h=>{(m.value?Na.value.presenterReceive:Na.value.viewerReceive)&&(!e.value||l.value||h.lastUpdate?.type!==r.value&&(+h.page==+t.value&&+n.value.current==+h.clicks||(jn.value=!1,g.replace({path:ma(h.page,m.value),query:{...g.currentRoute.value.query,clicks:h.clicks||0}}))))})}const Qi=ge({__name:"App",setup(a){return Yi(),oa(()=>{for(const[s,n]of Object.entries(jp.value))document.body.style.setProperty(s,n.toString())}),(s,n)=>{const t=Lp("RouterView");return ja(),_p(t)}}});function Zi(a){return a}const Xi=Zi,sr=Xi(({app:a})=>{}),ar=[Object.values([sr])[0],Object.values([])[0]].filter(Boolean);async function We(a,s={}){const n=s.document||a.resolvedOptions.document;if(!n||!a.dirty)return;const t={shouldRender:!0,tags:[]};if(await a.hooks.callHook("dom:beforeRender",t),!!t.shouldRender)return a._domUpdatePromise||(a._domUpdatePromise=new Promise(async e=>{const p=new Map,m=new Promise(o=>{a.resolveTags().then(u=>{o(u.map(d=>{const f=p.get(d._d)||0,y={tag:d,id:(f?`${d._d}:${f}`:d._d)||pt(d),shouldRender:!0};return d._d&&ke(d._d)&&p.set(d._d,f+1),y}))})});let l=a._dom;if(!l){l={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const o of["body","head"]){const u=n[o]?.children;for(const d of u){const f=d.tagName.toLowerCase();if(!et.has(f))continue;const y=Me({tag:f,props:{}},{innerHTML:d.innerHTML,...d.getAttributeNames().reduce((w,x)=>(w[x]=d.getAttribute(x),w),{})||{}});if(y.key=d.getAttribute("data-hid")||void 0,y._d=Sn(y)||pt(y),l.elMap.has(y._d)){let w=1,x=y._d;for(;l.elMap.has(x);)x=`${y._d}:${w++}`;l.elMap.set(x,d)}else l.elMap.set(y._d,d)}}}l.pendingSideEffects={...l.sideEffects},l.sideEffects={};function i(o,u,d){const f=`${o}:${u}`;l.sideEffects[f]=d,delete l.pendingSideEffects[f]}function r({id:o,$el:u,tag:d}){const f=d.tag.endsWith("Attrs");l.elMap.set(o,u),f||(d.textContent&&d.textContent!==u.textContent&&(u.textContent=d.textContent),d.innerHTML&&d.innerHTML!==u.innerHTML&&(u.innerHTML=d.innerHTML),i(o,"el",()=>{u?.remove(),l.elMap.delete(o)}));for(const y in d.props){if(!Object.prototype.hasOwnProperty.call(d.props,y))continue;const w=d.props[y];if(y.startsWith("on")&&typeof w=="function"){const v=u?.dataset;if(v&&v[`${y}fired`]){const M=y.slice(0,-5);w.call(u,new Event(M.substring(2)))}u.getAttribute(`data-${y}`)!==""&&((d.tag==="bodyAttrs"?n.defaultView:u).addEventListener(y.substring(2),w.bind(u)),u.setAttribute(`data-${y}`,""));continue}const x=`attr:${y}`;if(y==="class"){if(!w)continue;for(const v of w)f&&i(o,`${x}:${v}`,()=>u.classList.remove(v)),!u.classList.contains(v)&&u.classList.add(v)}else if(y==="style"){if(!w)continue;for(const[v,M]of w)i(o,`${x}:${v}`,()=>{u.style.removeProperty(v)}),u.style.setProperty(v,M)}else w!==!1&&w!==null&&(u.getAttribute(y)!==w&&u.setAttribute(y,w===!0?"":String(w)),f&&i(o,x,()=>u.removeAttribute(y)))}}const c=[],g={bodyClose:void 0,bodyOpen:void 0,head:void 0},h=await m;for(const o of h){const{tag:u,shouldRender:d,id:f}=o;if(d){if(u.tag==="title"){n.title=u.textContent,i("title","",()=>n.title=l.title);continue}o.$el=o.$el||l.elMap.get(f),o.$el?r(o):et.has(u.tag)&&c.push(o)}}for(const o of c){const u=o.tag.tagPosition||"head";o.$el=n.createElement(o.tag.tag),r(o),g[u]=g[u]||n.createDocumentFragment(),g[u].appendChild(o.$el)}for(const o of h)await a.hooks.callHook("dom:renderTag",o,n,i);g.head&&n.head.appendChild(g.head),g.bodyOpen&&n.body.insertBefore(g.bodyOpen,n.body.firstChild),g.bodyClose&&n.body.appendChild(g.bodyClose);for(const o in l.pendingSideEffects)l.pendingSideEffects[o]();a._dom=l,await a.hooks.callHook("dom:rendered",{renders:h}),e()}).finally(()=>{a._domUpdatePromise=void 0,a.dirty=!1})),a._domUpdatePromise}function nr(a={}){const s=a.domOptions?.render||We;a.document=a.document||(typeof window<"u"?document:void 0);const n=a.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return rm({...a,plugins:[...a.plugins||[],{key:"client",hooks:{"entries:updated":s}}],init:[n?JSON.parse(n):!1,...a.init||[]]})}function tr(a,s){let n=0;return()=>{const t=++n;s(()=>{n===t&&a()})}}function er(a={}){const s=nr({domOptions:{render:tr(()=>We(s),n=>setTimeout(n,0))},...a});return s.install=cm(s),s}function Po(a,s=""){const n=["slidev-page",s],t=a?.meta?.slide?.no;return t!=null&&n.push(`slidev-page-${t}`),n.filter(Boolean).join(" ")}async function Ro(){const{saveAs:a}=await _(async()=>{const{saveAs:s}=await import("./modules/file-saver-DKWcVV7Q.js").then(n=>n.F);return{saveAs:s}},[],import.meta.url);a(typeof B.download=="string"?B.download:B.exportFilename?`${B.exportFilename}.pdf`:"./slidev-exported.pdf",`${B.title}.pdf`)}function ca(a,s,n){return(a.instance?.$).provides[s]??n}function pr(){return{install(a){a.directive("click",{name:"v-click",mounted(s,n){const t=Ha(s,n,n.value);t!=null&&(s.classList.toggle(Ra,!0),s.dataset.slidevClicksStart=String(t.start),Number.isFinite(t.end)&&(s.dataset.slidevClicksEnd=String(t.end)),s.watchStopHandle=oa(()=>{const e=t.isActive.value,p=t.isCurrent.value,m=e&&!p;t.flagHide?(s.classList.toggle(t.flagFade?fa:ua,e),s.classList.toggle(cn,e)):s.classList.toggle(t.flagFade?fa:ua,!e),s.classList.toggle(hn,p),s.classList.toggle(gn,m)}))},unmounted:yn}),a.directive("after",{name:"v-after",mounted(s,n){const t=Ha(s,n,"+0");t!=null&&(s.classList.toggle(Ra,!0),s.watchStopHandle=oa(()=>{const e=t.isActive.value,p=t.isCurrent.value,m=e&&!p;t.flagHide?(s.classList.toggle(t.flagFade?fa:ua,e),s.classList.toggle(cn,e)):s.classList.toggle(t.flagFade?fa:ua,!e),s.classList.toggle(hn,p),s.classList.toggle(gn,m)}))},unmounted:yn}),a.directive("click-hide",{name:"v-click-hide",mounted(s,n){const t=Ha(s,n,n.value,!0);t!=null&&(s.classList.toggle(Ra,!0),s.watchStopHandle=oa(()=>{const e=t.isActive.value,p=t.isCurrent.value,m=e&&!p;s.classList.toggle(t.flagFade?fa:ua,e),s.classList.toggle(cn,e),s.classList.toggle(hn,p),s.classList.toggle(gn,m)}))},unmounted:yn})}}}const Ue=new Map;function Ha(a,s,n,t=!1){const e=ca(s,sn)?.value;if(!a||!e)return null;const p=t||s.modifiers.hide!==!1&&s.modifiers.hide!=null,m=s.modifiers.fade!==!1&&s.modifiers.fade!=null,l=e.calculate(n);if(!l)return null;e.register(a,l);const i=k(()=>p?!l.isActive.value:l.isActive.value),r=k(()=>i.value?"shown":Number.isFinite(l.end)?e.current<l.start?"before":"after":p?"after":"before"),c={...l,isShown:i,visibilityState:r,flagFade:m,flagHide:p};return Ue.set(a,c),c}function yn(a,s){a.classList.toggle(Ra,!1),ca(s,sn)?.value?.unregister(a),a.watchStopHandle?.()}function mr(a=oe(Se,E())){const s=Sp(a),n=ss([ri,oi,ci,hi,ii,Fa.width,Fa.height],()=>{setTimeout(s.update,300)},{flush:"post",immediate:!0});return{...s,stop:n}}function lr(a){return()=>{}}function ir(a,s,n,t=!1){function e(q){return a?ca(a,q):Op(q)}const p=e(In),m=e(Zl)??{},l=e(Hn),i=k(()=>lr(l.value)),r=e(Yl)??E(1),c=e(Xl)??E(1),{left:g,top:h,stop:o}=mr(e(Se)??E()),{isPrintMode:u}=ha(),d=["slide","presenter"].includes(p.value)&&!u.value;let f=a?"directive":"prop",y=Yn(),w;if(Array.isArray(s)?w=s:typeof s=="string"&&s.includes(",")?w=s.split(",").map(Number):s!=null&&(f="frontmatter",y=`${s}`,s=m?.dragPos?.[y],w=s?.split(",").map(Number)),f!=="frontmatter"&&!n)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const x=[o],v=!t&&s!=null&&!Number.isFinite(w?.[3]);w??=[Number.NaN,Number.NaN,0];const M=E(w[2]),T=E(w[0]+w[2]/2),P=E(t?0:w[4]??0),I=k(()=>P.value*Math.PI/180),U=k(()=>Math.sin(I.value)),is=k(()=>Math.cos(I.value)),Z=E(),$=E({left:0,top:0,width:0,height:0}),C=E(0);function j(){if(!Z.value)return;const q=Z.value.getBoundingClientRect();$.value={left:q.left/c.value,top:q.top/c.value,width:q.width/c.value,height:q.height/c.value},C.value=($.value.width+$.value.height)/r.value/(Math.abs(U.value)+Math.abs(is.value))-M.value}x.push(ss(M,j,{flush:"post"}));const z=E(w[3]??0),R=v?k({get:()=>(v?C.value:z.value)||0,set:q=>!v&&(z.value=q)}):z,ms=v?E(w[1]):E(w[1]+w[3]/2),rs=v?k({get:()=>ms.value+R.value/2,set:q=>ms.value=q-R.value/2}):ms,ga=k(()=>Number.isFinite(T.value)?{position:"absolute",zIndex:100,left:`${T.value-M.value/2}px`,top:`${rs.value-R.value/2}px`,width:`${M.value}px`,height:v?void 0:`${R.value}px`,transformOrigin:"center center",transform:`rotate(${P.value}deg)`}:{position:"absolute",zIndex:100});x.push(ss([T,rs,M,R,P],([q,Sa,Xn,st,at])=>{let ta=[q-Xn/2,Sa-st/2,Xn].map(Math.round).join();v?ta+=f==="directive"?",NaN":",_":ta+=`,${Math.round(st)}`,Math.round(at)!==0&&(ta+=`,${Math.round(at)}`),f==="directive"&&(ta=`[${ta}]`),i.value(y,ta,f,n)}));const K={dragId:y,dataSource:f,markdownSource:n,isArrow:t,zoom:c,autoHeight:v,x0:T,y0:rs,width:M,height:R,rotate:P,container:Z,containerStyle:ga,watchStopHandles:x,dragging:k(()=>Aa.value===K),mounted(){d&&(j(),s||setTimeout(()=>{j(),T.value=($.value.left+$.value.width/2-g.value)/r.value,rs.value=($.value.top-h.value)/r.value,M.value=$.value.width/r.value,R.value=$.value.height/r.value},100))},unmounted(){d&&K.stopDragging()},startDragging(){d&&(j(),Aa.value=K)},stopDragging(){d&&Aa.value===K&&(Aa.value=null)}};return x.push(Ap(Z,q=>{const Sa=document.querySelector("#drag-control-container");Sa&&q.target&&Sa.contains(q.target)||K.stopDragging()}),ss(Np(),q=>{q||K.stopDragging()})),K}function rr(){return{install(a){a.directive("drag",{name:"v-drag",created(s,n,t){const e=ir(n,n.value,t.props?.markdownSource);t.props&&(t.props={...t.props},delete t.props.markdownSource),e.container.value=s,s.draggingState=e,s.dataset.dragId=e.dragId,e.watchStopHandles.push(ss(e.containerStyle,p=>{for(const[m,l]of Object.entries(p))l&&(s.style[m]=l)},{immediate:!0})),s.addEventListener("dblclick",e.startDragging)},mounted(s){s.draggingState.mounted()},unmounted(s){const n=s.draggingState;n.unmounted(),s.removeEventListener("dblclick",n.startDragging),n.watchStopHandles.forEach(t=>t())}})}}}function Je(){return Math.floor(Math.random()*2**31)}class or{constructor(s){this.seed=s}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function Tn(a,s,n){if(a&&a.length){const[t,e]=s,p=Math.PI/180*n,m=Math.cos(p),l=Math.sin(p);for(const i of a){const[r,c]=i;i[0]=(r-t)*m-(c-e)*l+t,i[1]=(r-t)*l+(c-e)*m+e}}}function cr(a,s,n){const t=[];a.forEach(e=>t.push(...e)),Tn(t,s,n)}function hr(a,s){return a[0]===s[0]&&a[1]===s[1]}function gr(a,s,n,t=1){const e=n,p=Math.max(s,.1),m=a[0]&&a[0][0]&&typeof a[0][0]=="number"?[a]:a,l=[0,0];if(e)for(const r of m)Tn(r,l,e);const i=dr(m,p,t);if(e){for(const r of m)Tn(r,l,-e);cr(i,l,-e)}return i}function dr(a,s,n){const t=[];for(const r of a){const c=[...r];hr(c[0],c[c.length-1])||c.push([c[0][0],c[0][1]]),c.length>2&&t.push(c)}const e=[];s=Math.max(s,.1);const p=[];for(const r of t)for(let c=0;c<r.length-1;c++){const g=r[c],h=r[c+1];if(g[1]!==h[1]){const o=Math.min(g[1],h[1]);p.push({ymin:o,ymax:Math.max(g[1],h[1]),x:o===g[1]?g[0]:h[0],islope:(h[0]-g[0])/(h[1]-g[1])})}}if(p.sort((r,c)=>r.ymin<c.ymin?-1:r.ymin>c.ymin?1:r.x<c.x?-1:r.x>c.x?1:r.ymax===c.ymax?0:(r.ymax-c.ymax)/Math.abs(r.ymax-c.ymax)),!p.length)return e;let m=[],l=p[0].ymin,i=0;for(;m.length||p.length;){if(p.length){let r=-1;for(let g=0;g<p.length&&!(p[g].ymin>l);g++)r=g;p.splice(0,r+1).forEach(g=>{m.push({s:l,edge:g})})}if(m=m.filter(r=>!(r.edge.ymax<=l)),m.sort((r,c)=>r.edge.x===c.edge.x?0:(r.edge.x-c.edge.x)/Math.abs(r.edge.x-c.edge.x)),(n!==1||i%s===0)&&m.length>1)for(let r=0;r<m.length;r=r+2){const c=r+1;if(c>=m.length)break;const g=m[r].edge,h=m[c].edge;e.push([[Math.round(g.x),l],[Math.round(h.x),l]])}l+=n,m.forEach(r=>{r.edge.x=r.edge.x+n*r.edge.islope}),i++}return e}function La(a,s){var n;const t=s.hachureAngle+90;let e=s.hachureGap;e<0&&(e=s.strokeWidth*4),e=Math.round(Math.max(e,.1));let p=1;return s.roughness>=1&&(((n=s.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(p=e),gr(a,e,t,p||1)}class Qn{constructor(s){this.helper=s}fillPolygons(s,n){return this._fillPolygons(s,n)}_fillPolygons(s,n){const t=La(s,n);return{type:"fillSketch",ops:this.renderLines(t,n)}}renderLines(s,n){const t=[];for(const e of s)t.push(...this.helper.doubleLineOps(e[0][0],e[0][1],e[1][0],e[1][1],n));return t}}function ln(a){const s=a[0],n=a[1];return Math.sqrt(Math.pow(s[0]-n[0],2)+Math.pow(s[1]-n[1],2))}class ur extends Qn{fillPolygons(s,n){let t=n.hachureGap;t<0&&(t=n.strokeWidth*4),t=Math.max(t,.1);const e=Object.assign({},n,{hachureGap:t}),p=La(s,e),m=Math.PI/180*n.hachureAngle,l=[],i=t*.5*Math.cos(m),r=t*.5*Math.sin(m);for(const[g,h]of p)ln([g,h])&&l.push([[g[0]-i,g[1]+r],[...h]],[[g[0]+i,g[1]-r],[...h]]);return{type:"fillSketch",ops:this.renderLines(l,n)}}}class fr extends Qn{fillPolygons(s,n){const t=this._fillPolygons(s,n),e=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),p=this._fillPolygons(s,e);return t.ops=t.ops.concat(p.ops),t}}class yr{constructor(s){this.helper=s}fillPolygons(s,n){n=Object.assign({},n,{hachureAngle:0});const t=La(s,n);return this.dotsOnLines(t,n)}dotsOnLines(s,n){const t=[];let e=n.hachureGap;e<0&&(e=n.strokeWidth*4),e=Math.max(e,.1);let p=n.fillWeight;p<0&&(p=n.strokeWidth/2);const m=e/4;for(const l of s){const i=ln(l),r=i/e,c=Math.ceil(r)-1,g=i-c*e,h=(l[0][0]+l[1][0])/2-e/4,o=Math.min(l[0][1],l[1][1]);for(let u=0;u<c;u++){const d=o+g+u*e,f=h-m+Math.random()*2*m,y=d-m+Math.random()*2*m,w=this.helper.ellipse(f,y,p,p,n);t.push(...w.ops)}}return{type:"fillSketch",ops:t}}}class wr{constructor(s){this.helper=s}fillPolygons(s,n){const t=La(s,n);return{type:"fillSketch",ops:this.dashedLine(t,n)}}dashedLine(s,n){const t=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,e=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,p=[];return s.forEach(m=>{const l=ln(m),i=Math.floor(l/(t+e)),r=(l+e-i*(t+e))/2;let c=m[0],g=m[1];c[0]>g[0]&&(c=m[1],g=m[0]);const h=Math.atan((g[1]-c[1])/(g[0]-c[0]));for(let o=0;o<i;o++){const u=o*(t+e),d=u+t,f=[c[0]+u*Math.cos(h)+r*Math.cos(h),c[1]+u*Math.sin(h)+r*Math.sin(h)],y=[c[0]+d*Math.cos(h)+r*Math.cos(h),c[1]+d*Math.sin(h)+r*Math.sin(h)];p.push(...this.helper.doubleLineOps(f[0],f[1],y[0],y[1],n))}}),p}}class xr{constructor(s){this.helper=s}fillPolygons(s,n){const t=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,e=n.zigzagOffset<0?t:n.zigzagOffset;n=Object.assign({},n,{hachureGap:t+e});const p=La(s,n);return{type:"fillSketch",ops:this.zigzagLines(p,e,n)}}zigzagLines(s,n,t){const e=[];return s.forEach(p=>{const m=ln(p),l=Math.round(m/(2*n));let i=p[0],r=p[1];i[0]>r[0]&&(i=p[1],r=p[0]);const c=Math.atan((r[1]-i[1])/(r[0]-i[0]));for(let g=0;g<l;g++){const h=g*2*n,o=(g+1)*2*n,u=Math.sqrt(2*Math.pow(n,2)),d=[i[0]+h*Math.cos(c),i[1]+h*Math.sin(c)],f=[i[0]+o*Math.cos(c),i[1]+o*Math.sin(c)],y=[d[0]+u*Math.cos(c+Math.PI/4),d[1]+u*Math.sin(c+Math.PI/4)];e.push(...this.helper.doubleLineOps(d[0],d[1],y[0],y[1],t),...this.helper.doubleLineOps(y[0],y[1],f[0],f[1],t))}}),e}}const J={};function vr(a,s){let n=a.fillStyle||"hachure";if(!J[n])switch(n){case"zigzag":J[n]||(J[n]=new ur(s));break;case"cross-hatch":J[n]||(J[n]=new fr(s));break;case"dots":J[n]||(J[n]=new yr(s));break;case"dashed":J[n]||(J[n]=new wr(s));break;case"zigzag-line":J[n]||(J[n]=new xr(s));break;default:n="hachure",J[n]||(J[n]=new Qn(s));break}return J[n]}const kr=0,Cn=1,Ge=2,Ca={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Mr(a){const s=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))s[s.length]={type:kr,text:RegExp.$1},a=a.substr(RegExp.$1.length);else if(a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))s[s.length]={type:Cn,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length);else return[];return s[s.length]={type:Ge,text:""},s}function wn(a,s){return a.type===s}function Zn(a){const s=[],n=Mr(a);let t="BOD",e=0,p=n[e];for(;!wn(p,Ge);){let m=0;const l=[];if(t==="BOD")if(p.text==="M"||p.text==="m")e++,m=Ca[p.text],t=p.text;else return Zn("M0,0"+a);else wn(p,Cn)?m=Ca[t]:(e++,m=Ca[p.text],t=p.text);if(e+m<n.length){for(let i=e;i<e+m;i++){const r=n[i];if(wn(r,Cn))l[l.length]=+r.text;else throw new Error("Param not a number: "+t+","+r.text)}if(typeof Ca[t]=="number"){const i={key:t,data:l};s.push(i),e+=m,p=n[e],t==="M"&&(t="L"),t==="m"&&(t="l")}else throw new Error("Bad segment: "+t)}else throw new Error("Path data ended short")}return s}function Ke(a){let s=0,n=0,t=0,e=0;const p=[];for(const{key:m,data:l}of a)switch(m){case"M":p.push({key:"M",data:[...l]}),[s,n]=l,[t,e]=l;break;case"m":s+=l[0],n+=l[1],p.push({key:"M",data:[s,n]}),t=s,e=n;break;case"L":p.push({key:"L",data:[...l]}),[s,n]=l;break;case"l":s+=l[0],n+=l[1],p.push({key:"L",data:[s,n]});break;case"C":p.push({key:"C",data:[...l]}),s=l[4],n=l[5];break;case"c":{const i=l.map((r,c)=>c%2?r+n:r+s);p.push({key:"C",data:i}),s=i[4],n=i[5];break}case"Q":p.push({key:"Q",data:[...l]}),s=l[2],n=l[3];break;case"q":{const i=l.map((r,c)=>c%2?r+n:r+s);p.push({key:"Q",data:i}),s=i[2],n=i[3];break}case"A":p.push({key:"A",data:[...l]}),s=l[5],n=l[6];break;case"a":s+=l[5],n+=l[6],p.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],s,n]});break;case"H":p.push({key:"H",data:[...l]}),s=l[0];break;case"h":s+=l[0],p.push({key:"H",data:[s]});break;case"V":p.push({key:"V",data:[...l]}),n=l[0];break;case"v":n+=l[0],p.push({key:"V",data:[n]});break;case"S":p.push({key:"S",data:[...l]}),s=l[2],n=l[3];break;case"s":{const i=l.map((r,c)=>c%2?r+n:r+s);p.push({key:"S",data:i}),s=i[2],n=i[3];break}case"T":p.push({key:"T",data:[...l]}),s=l[0],n=l[1];break;case"t":s+=l[0],n+=l[1],p.push({key:"T",data:[s,n]});break;case"Z":case"z":p.push({key:"Z",data:[]}),s=t,n=e;break}return p}function Ye(a){const s=[];let n="",t=0,e=0,p=0,m=0,l=0,i=0;for(const{key:r,data:c}of a){switch(r){case"M":s.push({key:"M",data:[...c]}),[t,e]=c,[p,m]=c;break;case"C":s.push({key:"C",data:[...c]}),t=c[4],e=c[5],l=c[2],i=c[3];break;case"L":s.push({key:"L",data:[...c]}),[t,e]=c;break;case"H":t=c[0],s.push({key:"L",data:[t,e]});break;case"V":e=c[0],s.push({key:"L",data:[t,e]});break;case"S":{let g=0,h=0;n==="C"||n==="S"?(g=t+(t-l),h=e+(e-i)):(g=t,h=e),s.push({key:"C",data:[g,h,...c]}),l=c[0],i=c[1],t=c[2],e=c[3];break}case"T":{const[g,h]=c;let o=0,u=0;n==="Q"||n==="T"?(o=t+(t-l),u=e+(e-i)):(o=t,u=e);const d=t+2*(o-t)/3,f=e+2*(u-e)/3,y=g+2*(o-g)/3,w=h+2*(u-h)/3;s.push({key:"C",data:[d,f,y,w,g,h]}),l=o,i=u,t=g,e=h;break}case"Q":{const[g,h,o,u]=c,d=t+2*(g-t)/3,f=e+2*(h-e)/3,y=o+2*(g-o)/3,w=u+2*(h-u)/3;s.push({key:"C",data:[d,f,y,w,o,u]}),l=g,i=h,t=o,e=u;break}case"A":{const g=Math.abs(c[0]),h=Math.abs(c[1]),o=c[2],u=c[3],d=c[4],f=c[5],y=c[6];g===0||h===0?(s.push({key:"C",data:[t,e,f,y,f,y]}),t=f,e=y):(t!==f||e!==y)&&(Qe(t,e,f,y,g,h,o,u,d).forEach(function(x){s.push({key:"C",data:x})}),t=f,e=y);break}case"Z":s.push({key:"Z",data:[]}),t=p,e=m;break}n=r}return s}function br(a){return Math.PI*a/180}function ya(a,s,n){const t=a*Math.cos(n)-s*Math.sin(n),e=a*Math.sin(n)+s*Math.cos(n);return[t,e]}function Qe(a,s,n,t,e,p,m,l,i,r){const c=br(m);let g=[],h=0,o=0,u=0,d=0;if(r)[h,o,u,d]=r;else{[a,s]=ya(a,s,-c),[n,t]=ya(n,t,-c);const $=(a-n)/2,C=(s-t)/2;let j=$*$/(e*e)+C*C/(p*p);j>1&&(j=Math.sqrt(j),e=j*e,p=j*p);const z=l===i?-1:1,R=e*e,ms=p*p,rs=R*ms-R*C*C-ms*$*$,ga=R*C*C+ms*$*$,K=z*Math.sqrt(Math.abs(rs/ga));u=K*e*C/p+(a+n)/2,d=K*-p*$/e+(s+t)/2,h=Math.asin(parseFloat(((s-d)/p).toFixed(9))),o=Math.asin(parseFloat(((t-d)/p).toFixed(9))),a<u&&(h=Math.PI-h),n<u&&(o=Math.PI-o),h<0&&(h=Math.PI*2+h),o<0&&(o=Math.PI*2+o),i&&h>o&&(h=h-Math.PI*2),!i&&o>h&&(o=o-Math.PI*2)}let f=o-h;if(Math.abs(f)>Math.PI*120/180){const $=o,C=n,j=t;i&&o>h?o=h+Math.PI*120/180*1:o=h+Math.PI*120/180*-1,n=u+e*Math.cos(o),t=d+p*Math.sin(o),g=Qe(n,t,C,j,e,p,m,0,i,[o,$,u,d])}f=o-h;const y=Math.cos(h),w=Math.sin(h),x=Math.cos(o),v=Math.sin(o),M=Math.tan(f/4),T=4/3*e*M,P=4/3*p*M,I=[a,s],U=[a+T*w,s-P*y],is=[n+T*v,t-P*x],Z=[n,t];if(U[0]=2*I[0]-U[0],U[1]=2*I[1]-U[1],r)return[U,is,Z].concat(g);{g=[U,is,Z].concat(g);const $=[];for(let C=0;C<g.length;C+=3){const j=ya(g[C][0],g[C][1],c),z=ya(g[C+1][0],g[C+1][1],c),R=ya(g[C+2][0],g[C+2][1],c);$.push([j[0],j[1],z[0],z[1],R[0],R[1]])}return $}}const _r={randOffset:Ar,randOffsetWithRange:Or,ellipse:Pn,doubleLineOps:Nr};function X(a,s,n,t,e){return{type:"path",ops:cs(a,s,n,t,e)}}function Ma(a,s,n){const t=(a||[]).length;if(t>2){const e=[];for(let p=0;p<t-1;p++)e.push(...cs(a[p][0],a[p][1],a[p+1][0],a[p+1][1],n));return s&&e.push(...cs(a[t-1][0],a[t-1][1],a[0][0],a[0][1],n)),{type:"path",ops:e}}else if(t===2)return X(a[0][0],a[0][1],a[1][0],a[1][1],n);return{type:"path",ops:[]}}function Lr(a,s){return Ma(a,!0,s)}function Ze(a,s,n,t,e){const p=[[a,s],[a+n,s],[a+n,s+t],[a,s+t]];return Lr(p,e)}function ae(a,s){if(a.length){const t=typeof a[0][0]=="number"?[a]:a,e=Pa(t[0],1*(1+s.roughness*.2),s),p=s.disableMultiStroke?[]:Pa(t[0],1.5*(1+s.roughness*.22),ee(s));for(let m=1;m<t.length;m++){const l=t[m];if(l.length){const i=Pa(l,1*(1+s.roughness*.2),s),r=s.disableMultiStroke?[]:Pa(l,1.5*(1+s.roughness*.22),ee(s));for(const c of i)c.op!=="move"&&e.push(c);for(const c of r)c.op!=="move"&&p.push(c)}}return{type:"path",ops:e.concat(p)}}return{type:"path",ops:[]}}function Pn(a,s,n,t,e){const p=Xe(n,t,e);return Rn(a,s,e,p).opset}function Xe(a,s,n){const t=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(a/2,2)+Math.pow(s/2,2))/2)),e=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*t)),p=Math.PI*2/e;let m=Math.abs(a/2),l=Math.abs(s/2);const i=1-n.curveFitting;return m+=b(m*i,n),l+=b(l*i,n),{increment:p,rx:m,ry:l}}function Rn(a,s,n,t){const[e,p]=pe(t.increment,a,s,t.rx,t.ry,1,t.increment*Ka(.1,Ka(.4,1,n),n),n);let m=Ya(e,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[l]=pe(t.increment,a,s,t.rx,t.ry,1.5,0,n),i=Ya(l,null,n);m=m.concat(i)}return{estimatedPoints:p,opset:{type:"path",ops:m}}}function ne(a,s,n,t,e,p,m,l,i){const r=a,c=s;let g=Math.abs(n/2),h=Math.abs(t/2);g+=b(g*.01,i),h+=b(h*.01,i);let o=e,u=p;for(;o<0;)o+=Math.PI*2,u+=Math.PI*2;u-o>Math.PI*2&&(o=0,u=Math.PI*2);const d=Math.PI*2/i.curveStepCount,f=Math.min(d/2,(u-o)/2),y=me(f,r,c,g,h,o,u,1,i);if(!i.disableMultiStroke){const w=me(f,r,c,g,h,o,u,1.5,i);y.push(...w)}return m&&(l?y.push(...cs(r,c,r+g*Math.cos(o),c+h*Math.sin(o),i),...cs(r,c,r+g*Math.cos(u),c+h*Math.sin(u),i)):y.push({op:"lineTo",data:[r,c]},{op:"lineTo",data:[r+g*Math.cos(o),c+h*Math.sin(o)]})),{type:"path",ops:y}}function te(a,s){const n=Ye(Ke(Zn(a))),t=[];let e=[0,0],p=[0,0];for(const{key:m,data:l}of n)switch(m){case"M":{p=[l[0],l[1]],e=[l[0],l[1]];break}case"L":t.push(...cs(p[0],p[1],l[0],l[1],s)),p=[l[0],l[1]];break;case"C":{const[i,r,c,g,h,o]=l;t.push(...$r(i,r,c,g,h,o,p,s)),p=[h,o];break}case"Z":t.push(...cs(p[0],p[1],e[0],e[1],s)),p=[e[0],e[1]];break}return{type:"path",ops:t}}function xn(a,s){const n=[];for(const t of a)if(t.length){const e=s.maxRandomnessOffset||0,p=t.length;if(p>2){n.push({op:"move",data:[t[0][0]+b(e,s),t[0][1]+b(e,s)]});for(let m=1;m<p;m++)n.push({op:"lineTo",data:[t[m][0]+b(e,s),t[m][1]+b(e,s)]})}}return{type:"fillPath",ops:n}}function pa(a,s){return vr(s,_r).fillPolygons(a,s)}function Sr(a,s,n,t,e,p,m){const l=a,i=s;let r=Math.abs(n/2),c=Math.abs(t/2);r+=b(r*.01,m),c+=b(c*.01,m);let g=e,h=p;for(;g<0;)g+=Math.PI*2,h+=Math.PI*2;h-g>Math.PI*2&&(g=0,h=Math.PI*2);const o=(h-g)/m.curveStepCount,u=[];for(let d=g;d<=h;d=d+o)u.push([l+r*Math.cos(d),i+c*Math.sin(d)]);return u.push([l+r*Math.cos(h),i+c*Math.sin(h)]),u.push([l,i]),pa([u],m)}function Ar(a,s){return b(a,s)}function Or(a,s,n){return Ka(a,s,n)}function Nr(a,s,n,t,e){return cs(a,s,n,t,e,!0)}function ee(a){const s=Object.assign({},a);return s.randomizer=void 0,a.seed&&(s.seed=a.seed+1),s}function sp(a){return a.randomizer||(a.randomizer=new or(a.seed||0)),a.randomizer.next()}function Ka(a,s,n,t=1){return n.roughness*t*(sp(n)*(s-a)+a)}function b(a,s,n=1){return Ka(-a,a,s,n)}function cs(a,s,n,t,e,p=!1){const m=p?e.disableMultiStrokeFill:e.disableMultiStroke,l=Dn(a,s,n,t,e,!0,!1);if(m)return l;const i=Dn(a,s,n,t,e,!0,!0);return l.concat(i)}function Dn(a,s,n,t,e,p,m){const l=Math.pow(a-n,2)+Math.pow(s-t,2),i=Math.sqrt(l);let r=1;i<200?r=1:i>500?r=.4:r=-.0016668*i+1.233334;let c=e.maxRandomnessOffset||0;c*c*100>l&&(c=i/10);const g=c/2,h=.2+sp(e)*.2;let o=e.bowing*e.maxRandomnessOffset*(t-s)/200,u=e.bowing*e.maxRandomnessOffset*(a-n)/200;o=b(o,e,r),u=b(u,e,r);const d=[],f=()=>b(g,e,r),y=()=>b(c,e,r),w=e.preserveVertices;return m?d.push({op:"move",data:[a+(w?0:f()),s+(w?0:f())]}):d.push({op:"move",data:[a+(w?0:b(c,e,r)),s+(w?0:b(c,e,r))]}),m?d.push({op:"bcurveTo",data:[o+a+(n-a)*h+f(),u+s+(t-s)*h+f(),o+a+2*(n-a)*h+f(),u+s+2*(t-s)*h+f(),n+(w?0:f()),t+(w?0:f())]}):d.push({op:"bcurveTo",data:[o+a+(n-a)*h+y(),u+s+(t-s)*h+y(),o+a+2*(n-a)*h+y(),u+s+2*(t-s)*h+y(),n+(w?0:y()),t+(w?0:y())]}),d}function Pa(a,s,n){if(!a.length)return[];const t=[];t.push([a[0][0]+b(s,n),a[0][1]+b(s,n)]),t.push([a[0][0]+b(s,n),a[0][1]+b(s,n)]);for(let e=1;e<a.length;e++)t.push([a[e][0]+b(s,n),a[e][1]+b(s,n)]),e===a.length-1&&t.push([a[e][0]+b(s,n),a[e][1]+b(s,n)]);return Ya(t,null,n)}function Ya(a,s,n){const t=a.length,e=[];if(t>3){const p=[],m=1-n.curveTightness;e.push({op:"move",data:[a[1][0],a[1][1]]});for(let l=1;l+2<t;l++){const i=a[l];p[0]=[i[0],i[1]],p[1]=[i[0]+(m*a[l+1][0]-m*a[l-1][0])/6,i[1]+(m*a[l+1][1]-m*a[l-1][1])/6],p[2]=[a[l+1][0]+(m*a[l][0]-m*a[l+2][0])/6,a[l+1][1]+(m*a[l][1]-m*a[l+2][1])/6],p[3]=[a[l+1][0],a[l+1][1]],e.push({op:"bcurveTo",data:[p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]]})}}else t===3?(e.push({op:"move",data:[a[1][0],a[1][1]]}),e.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[2][0],a[2][1]]})):t===2&&e.push(...Dn(a[0][0],a[0][1],a[1][0],a[1][1],n,!0,!0));return e}function pe(a,s,n,t,e,p,m,l){const i=l.roughness===0,r=[],c=[];if(i){a=a/4,c.push([s+t*Math.cos(-a),n+e*Math.sin(-a)]);for(let g=0;g<=Math.PI*2;g=g+a){const h=[s+t*Math.cos(g),n+e*Math.sin(g)];r.push(h),c.push(h)}c.push([s+t*Math.cos(0),n+e*Math.sin(0)]),c.push([s+t*Math.cos(a),n+e*Math.sin(a)])}else{const g=b(.5,l)-Math.PI/2;c.push([b(p,l)+s+.9*t*Math.cos(g-a),b(p,l)+n+.9*e*Math.sin(g-a)]);const h=Math.PI*2+g-.01;for(let o=g;o<h;o=o+a){const u=[b(p,l)+s+t*Math.cos(o),b(p,l)+n+e*Math.sin(o)];r.push(u),c.push(u)}c.push([b(p,l)+s+t*Math.cos(g+Math.PI*2+m*.5),b(p,l)+n+e*Math.sin(g+Math.PI*2+m*.5)]),c.push([b(p,l)+s+.98*t*Math.cos(g+m),b(p,l)+n+.98*e*Math.sin(g+m)]),c.push([b(p,l)+s+.9*t*Math.cos(g+m*.5),b(p,l)+n+.9*e*Math.sin(g+m*.5)])}return[c,r]}function me(a,s,n,t,e,p,m,l,i){const r=p+b(.1,i),c=[];c.push([b(l,i)+s+.9*t*Math.cos(r-a),b(l,i)+n+.9*e*Math.sin(r-a)]);for(let g=r;g<=m;g=g+a)c.push([b(l,i)+s+t*Math.cos(g),b(l,i)+n+e*Math.sin(g)]);return c.push([s+t*Math.cos(m),n+e*Math.sin(m)]),c.push([s+t*Math.cos(m),n+e*Math.sin(m)]),Ya(c,null,i)}function $r(a,s,n,t,e,p,m,l){const i=[],r=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3];let c=[0,0];const g=l.disableMultiStroke?1:2,h=l.preserveVertices;for(let o=0;o<g;o++)o===0?i.push({op:"move",data:[m[0],m[1]]}):i.push({op:"move",data:[m[0]+(h?0:b(r[0],l)),m[1]+(h?0:b(r[0],l))]}),c=h?[e,p]:[e+b(r[o],l),p+b(r[o],l)],i.push({op:"bcurveTo",data:[a+b(r[o],l),s+b(r[o],l),n+b(r[o],l),t+b(r[o],l),c[0],c[1]]});return i}function wa(a){return[...a]}function le(a,s=0){const n=a.length;if(n<3)throw new Error("A curve must have at least three points.");const t=[];if(n===3)t.push(wa(a[0]),wa(a[1]),wa(a[2]),wa(a[2]));else{const e=[];e.push(a[0],a[0]);for(let l=1;l<a.length;l++)e.push(a[l]),l===a.length-1&&e.push(a[l]);const p=[],m=1-s;t.push(wa(e[0]));for(let l=1;l+2<e.length;l++){const i=e[l];p[0]=[i[0],i[1]],p[1]=[i[0]+(m*e[l+1][0]-m*e[l-1][0])/6,i[1]+(m*e[l+1][1]-m*e[l-1][1])/6],p[2]=[e[l+1][0]+(m*e[l][0]-m*e[l+2][0])/6,e[l+1][1]+(m*e[l][1]-m*e[l+2][1])/6],p[3]=[e[l+1][0],e[l+1][1]],t.push(p[1],p[2],p[3])}}return t}function Er(a,s){return Math.sqrt(Ia(a,s))}function Ia(a,s){return Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)}function Tr(a,s,n){const t=Ia(s,n);if(t===0)return Ia(a,s);let e=((a[0]-s[0])*(n[0]-s[0])+(a[1]-s[1])*(n[1]-s[1]))/t;return e=Math.max(0,Math.min(1,e)),Ia(a,Zs(s,n,e))}function Zs(a,s,n){return[a[0]+(s[0]-a[0])*n,a[1]+(s[1]-a[1])*n]}function Cr(a,s){const n=a[s+0],t=a[s+1],e=a[s+2],p=a[s+3];let m=3*t[0]-2*n[0]-p[0];m*=m;let l=3*t[1]-2*n[1]-p[1];l*=l;let i=3*e[0]-2*p[0]-n[0];i*=i;let r=3*e[1]-2*p[1]-n[1];return r*=r,m<i&&(m=i),l<r&&(l=r),m+l}function Bn(a,s,n,t){const e=t||[];if(Cr(a,s)<n){const p=a[s+0];e.length?Er(e[e.length-1],p)>1&&e.push(p):e.push(p),e.push(a[s+3])}else{const m=a[s+0],l=a[s+1],i=a[s+2],r=a[s+3],c=Zs(m,l,.5),g=Zs(l,i,.5),h=Zs(i,r,.5),o=Zs(c,g,.5),u=Zs(g,h,.5),d=Zs(o,u,.5);Bn([m,c,o,d],0,n,e),Bn([d,u,h,r],0,n,e)}return e}function Pr(a,s){return Qa(a,0,a.length,s)}function Qa(a,s,n,t,e){const p=e||[],m=a[s],l=a[n-1];let i=0,r=1;for(let c=s+1;c<n-1;++c){const g=Tr(a[c],m,l);g>i&&(i=g,r=c)}return Math.sqrt(i)>t?(Qa(a,s,r+1,t,p),Qa(a,r,n,t,p)):(p.length||p.push(m),p.push(l)),p}function qn(a,s=.15,n){const t=[],e=(a.length-1)/3;for(let p=0;p<e;p++){const m=p*3;Bn(a,m,s,t)}return n&&n>0?Qa(t,0,t.length,n):t}function Rr(a,s,n){const t=Zn(a),e=Ye(Ke(t)),p=[];let m=[],l=[0,0],i=[];const r=()=>{i.length>=4&&m.push(...qn(i,s)),i=[]},c=()=>{r(),m.length&&(p.push(m),m=[])};for(const{key:h,data:o}of e)switch(h){case"M":c(),l=[o[0],o[1]],m.push(l);break;case"L":r(),m.push([o[0],o[1]]);break;case"C":if(!i.length){const u=m.length?m[m.length-1]:l;i.push([u[0],u[1]])}i.push([o[0],o[1]]),i.push([o[2],o[3]]),i.push([o[4],o[5]]);break;case"Z":r(),m.push([l[0],l[1]]);break}if(c(),!n)return p;const g=[];for(const h of p){const o=Pr(h,n);o.length&&g.push(o)}return g}const Y="none";class Dr{constructor(s){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=s||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Je()}_o(s){return s?Object.assign({},this.defaultOptions,s):this.defaultOptions}_d(s,n,t){return{shape:s,sets:n||[],options:t||this.defaultOptions}}line(s,n,t,e,p){const m=this._o(p);return this._d("line",[X(s,n,t,e,m)],m)}rectangle(s,n,t,e,p){const m=this._o(p),l=[],i=Ze(s,n,t,e,m);if(m.fill){const r=[[s,n],[s+t,n],[s+t,n+e],[s,n+e]];m.fillStyle==="solid"?l.push(xn([r],m)):l.push(pa([r],m))}return m.stroke!==Y&&l.push(i),this._d("rectangle",l,m)}ellipse(s,n,t,e,p){const m=this._o(p),l=[],i=Xe(t,e,m),r=Rn(s,n,m,i);if(m.fill)if(m.fillStyle==="solid"){const c=Rn(s,n,m,i).opset;c.type="fillPath",l.push(c)}else l.push(pa([r.estimatedPoints],m));return m.stroke!==Y&&l.push(r.opset),this._d("ellipse",l,m)}circle(s,n,t,e){const p=this.ellipse(s,n,t,t,e);return p.shape="circle",p}linearPath(s,n){const t=this._o(n);return this._d("linearPath",[Ma(s,!1,t)],t)}arc(s,n,t,e,p,m,l=!1,i){const r=this._o(i),c=[],g=ne(s,n,t,e,p,m,l,!0,r);if(l&&r.fill)if(r.fillStyle==="solid"){const h=Object.assign({},r);h.disableMultiStroke=!0;const o=ne(s,n,t,e,p,m,!0,!1,h);o.type="fillPath",c.push(o)}else c.push(Sr(s,n,t,e,p,m,r));return r.stroke!==Y&&c.push(g),this._d("arc",c,r)}curve(s,n){const t=this._o(n),e=[],p=ae(s,t);if(t.fill&&t.fill!==Y)if(t.fillStyle==="solid"){const m=ae(s,Object.assign(Object.assign({},t),{disableMultiStroke:!0,roughness:t.roughness?t.roughness+t.fillShapeRoughnessGain:0}));e.push({type:"fillPath",ops:this._mergedShape(m.ops)})}else{const m=[],l=s;if(l.length){const r=typeof l[0][0]=="number"?[l]:l;for(const c of r)c.length<3?m.push(...c):c.length===3?m.push(...qn(le([c[0],c[0],c[1],c[2]]),10,(1+t.roughness)/2)):m.push(...qn(le(c),10,(1+t.roughness)/2))}m.length&&e.push(pa([m],t))}return t.stroke!==Y&&e.push(p),this._d("curve",e,t)}polygon(s,n){const t=this._o(n),e=[],p=Ma(s,!0,t);return t.fill&&(t.fillStyle==="solid"?e.push(xn([s],t)):e.push(pa([s],t))),t.stroke!==Y&&e.push(p),this._d("polygon",e,t)}path(s,n){const t=this._o(n),e=[];if(!s)return this._d("path",e,t);s=(s||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const p=t.fill&&t.fill!=="transparent"&&t.fill!==Y,m=t.stroke!==Y,l=!!(t.simplification&&t.simplification<1),i=l?4-4*(t.simplification||1):(1+t.roughness)/2,r=Rr(s,1,i),c=te(s,t);if(p)if(t.fillStyle==="solid")if(r.length===1){const g=te(s,Object.assign(Object.assign({},t),{disableMultiStroke:!0,roughness:t.roughness?t.roughness+t.fillShapeRoughnessGain:0}));e.push({type:"fillPath",ops:this._mergedShape(g.ops)})}else e.push(xn(r,t));else e.push(pa(r,t));return m&&(l?r.forEach(g=>{e.push(Ma(g,!1,t))}):e.push(c)),this._d("path",e,t)}opsToPath(s,n){let t="";for(const e of s.ops){const p=typeof n=="number"&&n>=0?e.data.map(m=>+m.toFixed(n)):e.data;switch(e.op){case"move":t+=`M${p[0]} ${p[1]} `;break;case"bcurveTo":t+=`C${p[0]} ${p[1]}, ${p[2]} ${p[3]}, ${p[4]} ${p[5]} `;break;case"lineTo":t+=`L${p[0]} ${p[1]} `;break}}return t.trim()}toPaths(s){const n=s.sets||[],t=s.options||this.defaultOptions,e=[];for(const p of n){let m=null;switch(p.type){case"path":m={d:this.opsToPath(p),stroke:t.stroke,strokeWidth:t.strokeWidth,fill:Y};break;case"fillPath":m={d:this.opsToPath(p),stroke:Y,strokeWidth:0,fill:t.fill||Y};break;case"fillSketch":m=this.fillSketch(p,t);break}m&&e.push(m)}return e}fillSketch(s,n){let t=n.fillWeight;return t<0&&(t=n.strokeWidth/2),{d:this.opsToPath(s),stroke:n.fill||Y,strokeWidth:t,fill:Y}}_mergedShape(s){return s.filter((n,t)=>t===0?!0:n.op!=="move")}}const ap="http://www.w3.org/2000/svg",Br=800;let vn=null;function qr(){return vn||(vn=new Dr().defaultOptions),vn}function kn(a,s,n){return{...qr(),maxRandomnessOffset:2,roughness:a==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:a!=="double",disableMultiStrokeFill:!1,seed:s,...n}}function zr(a){const s=a.padding;if(s||s===0){if(typeof s=="number")return[s,s,s,s];if(Array.isArray(s)){const n=s;if(n.length)switch(n.length){case 4:return[...n];case 1:return[n[0],n[0],n[0],n[0]];case 2:return[...n,...n];case 3:return[...n,n[1]];default:return[n[0],n[1],n[2],n[3]]}}}return[5,5,5,5]}function Hr(a,s,n,t,e,p){const m=[];let l=n.strokeWidth||2;const i=zr(n),r=n.animate===void 0?!0:!!n.animate,c=n.iterations||2,g=n.rtl?1:0,h=kn("single",p,n);switch(n.type){case"underline":{const o=s.y+s.h+i[2];for(let u=g;u<c+g;u++)u%2?m.push(X(s.x+s.w,o,s.x,o,h)):m.push(X(s.x,o,s.x+s.w,o,h));break}case"strike-through":{const o=s.y+s.h/2;for(let u=g;u<c+g;u++)u%2?m.push(X(s.x+s.w,o,s.x,o,h)):m.push(X(s.x,o,s.x+s.w,o,h));break}case"box":{const o=s.x-i[3],u=s.y-i[0],d=s.w+(i[1]+i[3]),f=s.h+(i[0]+i[2]);for(let y=0;y<c;y++)m.push(Ze(o,u,d,f,h));break}case"bracket":{const o=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],u=s.x-i[3]*2,d=s.x+s.w+i[1]*2,f=s.y-i[0]*2,y=s.y+s.h+i[2]*2;for(const w of o){let x;switch(w){case"bottom":x=[[u,s.y+s.h],[u,y],[d,y],[d,s.y+s.h]];break;case"top":x=[[u,s.y],[u,f],[d,f],[d,s.y]];break;case"left":x=[[s.x,f],[u,f],[u,y],[s.x,y]];break;case"right":x=[[s.x+s.w,f],[d,f],[d,y],[s.x+s.w,y]];break}x&&m.push(Ma(x,!1,h))}break}case"crossed-off":{const o=s.x,u=s.y,d=o+s.w,f=u+s.h;for(let y=g;y<c+g;y++)y%2?m.push(X(d,f,o,u,h)):m.push(X(o,u,d,f,h));for(let y=g;y<c+g;y++)y%2?m.push(X(o,f,d,u,h)):m.push(X(d,u,o,f,h));break}case"circle":{const o=kn("double",p,n),u=s.w+(i[1]+i[3]),d=s.h+(i[0]+i[2]),f=s.x-i[3]+u/2,y=s.y-i[0]+d/2,w=Math.floor(c/2),x=c-w*2;for(let v=0;v<w;v++)m.push(Pn(f,y,u,d,o));for(let v=0;v<x;v++)m.push(Pn(f,y,u,d,h));break}case"highlight":{const o=kn("highlight",p,n);l=s.h*.95;const u=s.y+s.h/2;for(let d=g;d<c+g;d++)d%2?m.push(X(s.x+s.w,u,s.x,u,o)):m.push(X(s.x,u,s.x+s.w,u,o));break}}if(m.length){const o=Ir(m),u=[],d=[];let f=0;const y=(w,x,v)=>w.setAttribute(x,v);for(const w of o){const x=document.createElementNS(ap,"path");if(y(x,"d",w),y(x,"fill","none"),y(x,"stroke",n.color||"currentColor"),y(x,"stroke-width",`${l}`),n.opacity!==void 0&&y(x,"style",`opacity:${n.opacity}`),r){const v=x.getTotalLength();u.push(v),f+=v}a.appendChild(x),d.push(x)}if(r){let w=0;for(let x=0;x<d.length;x++){const v=d[x],M=u[x],T=f?e*(M/f):0,P=t+w,I=v.style;I.strokeDashoffset=`${M}`,I.strokeDasharray=`${M}`,I.animation=`rough-notation-dash ${T}ms ease-out ${P}ms forwards`,w+=T}return ie(e+t)}}return ie(0)}function ie(a){return new Promise(s=>setTimeout(s,a))}function Ir(a){const s=[];for(const n of a){let t="";for(const e of n.ops){const p=e.data;switch(e.op){case"move":t.trim()&&s.push(t.trim()),t=`M${p[0]} ${p[1]} `;break;case"bcurveTo":t+=`C${p[0]} ${p[1]}, ${p[2]} ${p[3]}, ${p[4]} ${p[5]} `;break;case"lineTo":t+=`L${p[0]} ${p[1]} `;break}}t.trim()&&s.push(t.trim())}return s}function jr(){if(!window.__rno_kf_s){const a=window.__rno_kf_s=document.createElement("style");a.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(a)}}var Vr=Object.defineProperty,Fr=(a,s,n)=>s in a?Vr(a,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[s]=n,ns=(a,s,n)=>(Fr(a,typeof s!="symbol"?s+"":s,n),n);class Wr{constructor(s,n){ns(this,"_state","unattached"),ns(this,"_config"),ns(this,"_resizing",!1),ns(this,"_ro"),ns(this,"_seed",Je()),ns(this,"_e"),ns(this,"_svg"),ns(this,"_lastSizes",[]),ns(this,"_animationDelay",0),ns(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ns(this,"pendingRefresh"),this._e=s,this._config=JSON.parse(JSON.stringify(n)),this.attach()}getConfig(s){return this._config[s]}setConfig(s,n){this._config[s]!==n&&(this._config[s]=n,this.refresh())}get animate(){return this._config.animate}set animate(s){this._config.animate=s}get animationDuration(){return this._config.animationDuration}set animationDuration(s){this._config.animationDuration=s}get iterations(){return this._config.iterations}set iterations(s){this._config.iterations=s}get color(){return this._config.color}set color(s){this._config.color!==s&&(this._config.color=s,this.refresh())}get class(){return this._config.class}set class(s){this._config.class!==s&&(this._config.class=s,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(s){this._config.strokeWidth!==s&&(this._config.strokeWidth=s,this.refresh())}get padding(){return this._config.padding}set padding(s){this._config.padding!==s&&(this._config.padding=s,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){jr();const s=this._svg=document.createElementNS(ap,"svg");s.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const n=s.style;n.position="absolute",n.top="0",n.left="0",n.overflow="visible",n.pointerEvents="none",n.width="100px",n.height="100px";const t=this._config.type==="highlight";if(this._e.insertAdjacentElement(t?"beforebegin":"afterend",s),this._state="not-showing",t){const e=window.getComputedStyle(this._e).position;(!e||e==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(s=>{for(const n of s)n.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const s=this.rects();if(s.length===this._lastSizes.length){for(let n=0;n<s.length;n++)if(!this.isSameRect(s[n],this._lastSizes[n]))return!0}else return!0}return!1}isSameRect(s,n){const t=(e,p)=>Math.round(e)===Math.round(p);return t(s.x,n.x)&&t(s.y,n.y)&&t(s.w,n.w)&&t(s.h,n.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(s,n){let t=this._config;n&&(t=JSON.parse(JSON.stringify(this._config)),t.animate=!1);const e=this.rects();let p=0;e.forEach(r=>p+=r.w);const m=t.animationDuration||Br;let l=0;const i=[];for(let r=0;r<e.length;r++){const c=e[r],g=m*(c.w/p);i.push(Hr(s,e[r],t,l+this._animationDelay+(this._config.delay||0),g,this._seed)),l+=g}return this._lastSizes=e,this._state="showing",await Promise.all(i)}rects(){const s=[];if(this._svg)if(this._config.multiline){const n=this._e.getClientRects();for(let t=0;t<n.length;t++)s.push(this.svgRect(this._svg,n[t]))}else s.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return s}svgRect(s,n){const t=s.getBoundingClientRect(),e=n;return{x:(e.x||e.left)-(t.x||t.left),y:(e.y||e.top)-(t.y||t.top),w:e.width,h:e.height}}}function Ur(a,s){return new Wr(a,s)}function G(a,s){return a.class=[a.class,s].filter(Boolean).join(" "),a}const re={box:a=>Object.assign(a,{type:"box"}),circle:a=>Object.assign(a,{type:"circle"}),underline:a=>Object.assign(a,{type:"underline"}),highlight:a=>Object.assign(a,{type:"highlight"}),"strike-through":a=>Object.assign(a,{type:"strike-through"}),"crossed-off":a=>Object.assign(a,{type:"crossed-off"}),bracket:a=>Object.assign(a,{type:"bracket"}),strike:a=>Object.assign(a,{type:"strike-through"}),cross:a=>Object.assign(a,{type:"crossed-off"}),crossed:a=>Object.assign(a,{type:"crossed-off"}),linethrough:a=>Object.assign(a,{type:"strike-through"}),"line-through":a=>Object.assign(a,{type:"strike-through"}),black:a=>G(a,"text-black"),blue:a=>G(a,"text-blue"),cyan:a=>G(a,"text-cyan"),gray:a=>G(a,"text-gray"),green:a=>G(a,"text-green"),indigo:a=>G(a,"text-indigo"),lime:a=>G(a,"text-lime"),orange:a=>G(a,"text-orange"),pink:a=>G(a,"text-pink"),purple:a=>G(a,"text-purple"),red:a=>G(a,"text-red"),teal:a=>G(a,"text-teal"),white:a=>G(a,"text-white"),yellow:a=>G(a,"text-yellow")},Jr=[[/^delay-?(\d+)?$/,(a,s,n)=>{const t=(a[1]?Number.parseInt(a[1]):n)||300;return s.delay=t,s}],[/^(?:op|opacity)-?(\d+)?$/,(a,s,n)=>{const t=(a[1]?Number.parseInt(a[1]):n)||100;return s.opacity=t/100,s}]];function Gr(){return{install(a){a.directive("mark",{name:"v-mark",mounted:(s,n)=>{const{isPrintMode:t}=ha(),e=k(()=>{const l=typeof n.value=="object"&&!Array.isArray(n.value)?{...n.value}:{at:n.value};let i={at:l.at};const r=Object.entries(n.modifiers).filter(([g,h])=>{if(re[g])return i=re[g](i,h),!1;for(const[o,u]of Jr){const d=g.match(o);if(d)return i=u(d,i,h),!1}return!0});r.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",r);const c={...i,...l};return c.type||="underline",t.value&&(c.animationDuration=1),c}),p=Ur(s,e.value),m=Ha(s,n,e.value.at);if(!m){p.show();return}s.watchStopHandle=oa(()=>{let l;e.value.class&&(p.class=e.value.class),e.value.color&&(p.color=e.value.color);const i=e.value.at;i===!0?l=!0:i===!1?l=!1:l=m.isActive.value,l!=null&&(l?p.show():p.hide())})},unmounted:s=>{s.watchStopHandle?.()}})}}}function Kr(){return{install(a){const s=$p();a.directive("motion",{name:"v-motion",mounted(n,t,e,p){const m=ca(t,sn),l=ca(t,Hn),i=ca(t,In),{currentPage:r,clicks:c,isPrintMode:g}=ha(),h=e.props={...e.props},o={...h.initial,...h.variants?.["slidev-initial"]},u={...h.enter,...h.variants?.["slidev-enter"]},d={...h.leave,...h.variants?.["slidev-leave"]};delete h.initial,delete h.enter,delete h.leave;const f=`${Yn()}-`,y=[];for(const x of Object.keys(h))if(x.startsWith("click-")){const v=x.slice(6),M=v.includes("-")?v.split("-").map(Number):+v,T=f+v;y.push({id:T,at:M,variant:{...h[x]},info:m?.value.calculate(M)}),delete h[x]}y.sort((x,v)=>(Array.isArray(x.at)?x.at[0]:x.at)-(Array.isArray(v.at)?v.at[0]:v.at)),s.created(n,t,e,p),s.mounted(n,t,e,p);const w=n.motionInstance;w.clickIds=y.map(x=>x.id),w.set(o),w.watchStopHandle=ss([l,r,c].filter(Boolean),()=>{const x=Ue.get(n)?.visibilityState.value??"shown";if(!m?.value||!["slide","presenter"].includes(i?.value??"")){const v={...o,...u};for(const{variant:M}of y)Object.assign(v,M);w.set(v)}else if(g.value||l?.value===r.value)if(x==="shown"){const v={...o,...u};for(const{variant:M,info:T}of y)(!T||T.isActive.value)&&Object.assign(v,M);g.value?w.set(v):w.apply(v)}else w.apply(x==="before"?o:d);else w.apply((l?.value??-1)>r.value?o:d)},{immediate:!0})},unmounted(n){n.motionInstance.watchStopHandle()}})}}}const Yr=[Object.values([])[0],Object.values([])[0]].filter(Boolean);function Qr(){const a=[];function s(n){if(!B.remote||B.remote===n.query.password)return!0;if(B.remote&&n.query.password===void 0){const t=prompt("Enter password");if(B.remote===t)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}}return a.push({name:"entry",path:"/entry",component:()=>_(()=>import("./slidev/entry-Ctc11Ay9.js"),__vite__mapDeps([49,1,3,4,50]),import.meta.url),beforeEnter:s},{name:"overview",path:"/overview",component:()=>_(()=>import("./slidev/overview-6I3BHcjR.js"),__vite__mapDeps([51,18,1,52,53,54,2,55,56,57,3,4]),import.meta.url),beforeEnter:s},{name:"notes",path:"/notes",component:()=>_(()=>import("./slidev/notes-CfXp4ZhN.js"),__vite__mapDeps([58,1,52,53,59,56,60,3,4]),import.meta.url),beforeEnter:s},{name:"notes-edit",path:"/notes-edit",component:()=>_(()=>import("./slidev/notes-edit-BKFRzWvp.js"),__vite__mapDeps([61,1,57,56,60,3,4]),import.meta.url),beforeEnter:s},{name:"presenter",path:"/presenter/:no",component:()=>_(()=>import("./slidev/presenter-Drr2MWep.js"),__vite__mapDeps([62,1,54,2,55,63,18,56,3,4,64,52,53,59,57,65]),import.meta.url),beforeEnter:s},{path:"/presenter",redirect:{path:"/presenter/1"}}),a.push({name:"play",path:"/:no",component:()=>_(()=>import("./slidev/play-CazMu2lD.js"),__vite__mapDeps([66,1,54,2,55,63,18,56,3,4,64,60,67]),import.meta.url)},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>_(()=>import("./slidev/404-BrIt-UaX.js"),__vite__mapDeps([68,1,3,4,69]),import.meta.url)}),Yr.reduce((n,t)=>t(n),a)}async function Zr(a){function s(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}s(),window.addEventListener("resize",s);const n=Ep({history:Tp("./"),routes:Qr()});a.use(n),a.use(er()),a.use(pr()),a.use(Gr()),a.use(rr()),a.use(Kr()),a.use(Pp,{container:"#twoslash-container"});const t={app:a,router:n};for(const e of ar)await e(t)}async function Xr(){const a=Cp(Qi);await Zr(a),a.mount("#app")}Xr();export{Aa as $,oi as A,fo as B,Da as C,gi as D,On as E,vo as F,Ao as G,no as H,Fa as I,ro as J,Ae as K,ii as L,Na as M,go as N,Ro as O,_o as P,bo as Q,ts as R,mi as S,mr as T,we as U,Ip as V,uo as W,Yl as X,jn as Y,oo as Z,xm as _,ha as a,co as a0,ho as a1,xo as a2,wo as a3,To as a4,Eo as a5,$o as a6,as as a7,Ve as a8,Fe as a9,Se as aa,ye as ab,po as ac,Zl as ad,Hn as ae,In as af,sn as ag,Xl as ah,Po as ai,Ql as aj,mo as ak,ai as al,Yn as am,ua as an,No as ao,Ee as b,fm as c,Co as d,_e as e,yo as f,ma as g,Oa as h,Qt as i,ri as j,Wa as k,Lo as l,So as m,Mo as n,B as o,to as p,eo as q,_n as r,rn as s,Oo as t,gm as u,tt as v,an as w,ko as x,lo as y,io as z};
