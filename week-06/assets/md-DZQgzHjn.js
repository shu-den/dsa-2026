import{f as R,r as p,G as E,o as y,e as T,g as f,af as A,aN as G,F as M,aj as B,t as z,ad as I,ag as H,n as J,k as K,z as O,b as Q,w as W,d as X,v as Y,x as Z,T as N}from"./modules/vue-CmL-H8BW.js";import{u as P,f as ee}from"./slidev/context-CmtLiP9g.js";import{_ as ae}from"./index-PdnlF-Q_.js";import{_ as le}from"./interactive-ChNxhkpB.js";import"./modules/shiki-DELDah8J.js";const te={class:"sort-visualizer"},se={class:"sv-controls"},ue=["disabled"],ne=["value"],oe={class:"sv-speed"},ie=["disabled"],ve=["disabled"],ce={class:"sv-bars"},re={class:"sv-bar-label"},de={class:"sv-info"},fe=R({__name:"SortVisualizer",setup(q){P();const x=p([38,27,43,3,9,82,10,15,56,21]),h=p("bubble"),n=p([...x.value]),m=p([]),o=p([]),i=p([]),b=p([]),V=p([]),w=p(!1),c=p(300),C=p(0);let u=!1;function _(l){return new Promise(s=>{let a=null;const e=setInterval(()=>{u&&(a&&clearTimeout(a),clearInterval(e),s())},50);a=setTimeout(()=>{clearInterval(e),s()},l)})}const F=O(()=>Math.max(...n.value,1));function j(){u=!0,setTimeout(()=>{u=!1,n.value=[...x.value],m.value=[],o.value=[],i.value=[],b.value=[],V.value=[],C.value=0,w.value=!1},100)}async function U(){j(),await new Promise(a=>setTimeout(a,200)),w.value=!0;const l=n.value,s=a=>{V.value.push(a),C.value++};if(h.value==="bubble")for(let a=l.length-1;a>=0&&!u;a--){for(let e=0;e<a&&!u;e++)o.value=[e,e+1],await _(c.value),l[e]>l[e+1]&&(b.value=[e,e+1],s(`交換: a[${e}]=${l[e]} ↔ a[${e+1}]=${l[e+1]}`),[l[e],l[e+1]]=[l[e+1],l[e]],n.value=[...l],await _(c.value),b.value=[]),o.value=[];i.value=[...i.value,a]}else if(h.value==="selection"){for(let a=0;a<l.length-1&&!u;a++){let e=a;m.value=[a];for(let t=a+1;t<l.length&&!u;t++)o.value=[e,t],await _(c.value),l[t]<l[e]&&(e=t,m.value=[e]),o.value=[];e!==a&&(b.value=[a,e],s(`交換: a[${a}]=${l[a]} ↔ a[${e}]=${l[e]}`),[l[a],l[e]]=[l[e],l[a]],n.value=[...l],await _(c.value),b.value=[]),m.value=[],i.value=[...i.value,a]}i.value=[...i.value,l.length-1]}else if(h.value==="insertion"){i.value=[0];for(let a=1;a<l.length&&!u;a++){const e=l[a];m.value=[a],s(`挿入: a[${a}]=${e}`),await _(c.value);let t=a-1;for(;t>=0&&l[t]>e&&!u;)o.value=[t,t+1],l[t+1]=l[t],n.value=[...l],await _(c.value),o.value=[],t--;l[t+1]=e,n.value=[...l],m.value=[],i.value=Array.from({length:a+1},(r,g)=>g),await _(c.value)}}else if(h.value==="merge"){async function a(e,t,r){if(t>=r||u)return;const g=Math.floor((t+r)/2);await a(e,t,g),await a(e,g+1,r);const v=e.slice(t,g+1),d=e.slice(g+1,r+1);let k=0,$=0,S=t;for(;k<v.length&&$<d.length&&!u;)o.value=[t+k,g+1+$],await _(c.value),v[k]<=d[$]?e[S++]=v[k++]:(e[S++]=d[$++],s(`マージ: ${d[$-1]}`)),n.value=[...e],o.value=[];for(;k<v.length;)e[S++]=v[k++],n.value=[...e];for(;$<d.length;)e[S++]=d[$++],n.value=[...e];await _(c.value)}await a(l,0,l.length-1),i.value=Array.from({length:l.length},(e,t)=>t)}else if(h.value==="quick"){async function a(e,t,r){if(t>=r||u)return;const g=e[r];m.value=[r],s(`ピボット: ${g}`);let v=t;for(let d=t;d<r&&!u;d++)o.value=[d,r],await _(c.value),e[d]<g&&(b.value=[v,d],[e[v],e[d]]=[e[d],e[v]],n.value=[...e],await _(c.value),b.value=[],v++),o.value=[];[e[v],e[r]]=[e[r],e[v]],n.value=[...e],i.value=[...i.value,v],m.value=[],await _(c.value),await a(e,t,v-1),await a(e,v+1,r)}await a(l,0,l.length-1),i.value=Array.from({length:l.length},(e,t)=>t)}w.value=!1}function D(){u=!0,setTimeout(()=>{u=!1,x.value=Array.from({length:10},()=>Math.floor(Math.random()*90)+3),n.value=[...x.value],m.value=[],o.value=[],i.value=[],b.value=[],V.value=[],C.value=0,w.value=!1},100)}E(()=>{u=!0});const L={bubble:"バブルソート",selection:"選択ソート",insertion:"挿入ソート",merge:"マージソート",quick:"クイックソート"};return(l,s)=>(y(),T("div",te,[f("div",se,[A(f("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>h.value=a),class:"sv-select",disabled:w.value},[(y(),T(M,null,B(L,(a,e)=>f("option",{key:e,value:e},z(a),9,ne)),64))],8,ue),[[G,h.value]]),f("label",oe,[s[2]||(s[2]=I(" 速度: ",-1)),A(f("input",{type:"range","onUpdate:modelValue":s[1]||(s[1]=a=>c.value=a),min:"50",max:"800",step:"50"},null,512),[[H,c.value,void 0,{number:!0}]])]),f("button",{class:"sv-btn",onClick:U,disabled:w.value},"開始",8,ie),f("button",{class:"sv-btn sv-btn-reset",onClick:j},"リセット"),f("button",{class:"sv-btn sv-btn-shuffle",onClick:D,disabled:w.value},"シャッフル",8,ve)]),f("div",ce,[(y(!0),T(M,null,B(n.value,(a,e)=>(y(),T("div",{key:e,class:J(["sv-bar-col",{"is-comparing":o.value.includes(e),"is-swapping":b.value.includes(e),"is-highlighted":m.value.includes(e),"is-sorted":i.value.includes(e)}])},[f("div",{class:"sv-bar",style:K({height:`${a/F.value*200}px`})},[f("span",re,z(a),1)],4)],2))),128))]),f("div",de,[s[3]||(s[3]=I(" ステップ数: ",-1)),f("strong",null,z(C.value),1)])]))}}),me=ae(fe,[["__scopeId","data-v-09c388b8"]]),we={__name:"slides.md__slidev_35",setup(q){const{$clicksContext:x,$frontmatter:h}=P();return x.setup(),(n,m)=>{const o=me;return y(),Q(le,Y(Z(N(ee)(N(h),34))),{default:W(()=>[m[0]||(m[0]=f("h2",null,"ソートアルゴリズムを比較しよう",-1)),X(o)]),_:1},16)}}};export{we as default};
