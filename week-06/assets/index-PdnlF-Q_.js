const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./md-CF0g2Nxq.js","./modules/vue-CmL-H8BW.js","./slidev/context-CmtLiP9g.js","./modules/shiki-DELDah8J.js","./modules/shiki-UqVAgQbi.css","./md-CPVbZFiG.js","./md-CI1as4Or.js","./default-DI3yRBhB.js","./md-igmsDR33.js","./md-CAGStc0r.js","./section-divider-CNyeDLX5.js","./md-Df-jgQdN.js","./md-DUvse9m0.js","./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-dRpvSC_o.js","./modules/unplugin-icons-CDHN89Pt.js","./md-cjnYgFLe.js","./md-Be-I_DMm.js","./md-CKpIgurI.js","./md-BQXVNLsS.js","./interactive-ChNxhkpB.js","./md-DwwmKtVi.css","./md-XI4uEIsI.js","./md-CUGZfxIB.js","./md-CGe7Me29.js","./md-BycCm2Ik.js","./md-Cll-7C5c.js","./md-B-jRcfz3.js","./md-QzninxUJ.js","./md-BmD73Z5l.js","./md-SZKqiiMs.js","./md-5R8ejMJf.js","./md-BVVwN5qI.js","./md-vu6v7UMB.js","./md-BaSO0IoR.js","./md-BpLIrs0V.js","./md-DDUSXU8A.js","./md-CX_akVkm.js","./md-aZyEZHIE.js","./md-CGPHHJSP.js","./md-DeRNLMmR.js","./md-CIJ3Bebv.js","./md-DjZQzOcK.js","./md-IoifZbF8.js","./md-D2_-ooL6.js","./md-DZQgzHjn.js","./md-DQlDo2fD.css","./md-56uE-xGd.js","./md-DJtBnCtD.js","./md-CwjlMvuP.js","./md-D1epVRvl.js","./md-Br77P1ct.js","./md-BIp4Yj8t.js","./md-Gdv0DyQh.js","./question-CishbQWM.js","./md-BSnUjizn.js","./md-CU4nMPVN.js","./md-Dq1iABtZ.js","./md-DV8j4Y0m.js","./slidev/entry-Cngqimn2.js","./entry-CyMt_iSL.css","./slidev/overview-Bv6S6oFO.js","./slidev/NoteDisplay.vue_vue_type_style_index_0_lang-RHPRI1JZ.js","./NoteDisplay-DggBAdha.css","./slidev/SlideWrapper-BJJvdW6-.js","./SlideWrapper-4Jte_8x4.css","./slidev/IconButton.vue_vue_type_script_setup_true_lang-TqUvb8iZ.js","./slidev/useSlideInfo-CxH-K3PI.js","./slidev/notes-BBDUFjrC.js","./slidev/TimerBar.vue_vue_type_script_setup_true_lang-BEIId466.js","./slidev/Modal.vue_vue_type_script_setup_true_lang-DUW1fWRB.js","./slidev/notes-edit-BaheCnVn.js","./slidev/presenter-ZALpCOrg.js","./slidev/shortcuts-CM0FW44s.js","./shortcuts-B4GtsM5T.css","./presenter-Bs6wyjjy.css","./slidev/play-T3SnacgE.js","./play-D_7yfuao.css","./slidev/404-DBPhhMpY.js","./404-poZcRPAh.css"])))=>i.map(i=>d[i]);
import{z as v,A as fm,B as $n,C as ym,D as _e,E as ya,G as wm,H as xm,I as km,r as E,J as Ne,K as ss,L as Le,M as L,N as vm,O as Mm,o as Ga,e as An,t as bm,f as Oe,F as _m,g as ot,j as Nm,P as b,Q as Jn,R as Lm,S as mn,p as Om,T as Sm,U as $m,V as Am,W as B,X as Em,Y as Se,Z as Tm,_ as Cm,$ as ln,a0 as Pm,a1 as $e,a2 as zm,a3 as Dm,a4 as Rm,a5 as Ae,b as jm,a as Im,a6 as Hm,a7 as Vm,a8 as Fm,a9 as qm,aa as Bm,ab as Wm,ac as Jm,c as Um}from"./modules/vue-CmL-H8BW.js";import{T as Km}from"./modules/shiki-DELDah8J.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const m of e)if(m.type==="childList")for(const l of m.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const m={};return e.integrity&&(m.integrity=e.integrity),e.referrerPolicy&&(m.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?m.credentials="include":e.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function t(e){if(e.ep)return;e.ep=!0;const m=n(e);fetch(e.href,m)}})();const R={theme:"../theme",title:"DSA 第6回: ソートの世界【オンデマンド】",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],monacoRunUseStrict:!0,download:!1,export:{},info:`<p>データ構造とアルゴリズム 2026年度 第6回（オンデマンド配信）
関西大学 ビジネスデータサイエンス学部 / 伝住 周平</p>
`,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"light",routerMode:"hash",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Noto Sans JP"','"sans-serif"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"JetBrains Mono"','"monospace"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Noto Sans JP","sans-serif","JetBrains Mono","monospace"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!1,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,magicMoveCopy:!0,author:"",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"slide-left",editor:!0,contextMenu:null,wakeLock:!0,mdc:!1,seoMeta:{},notesAutoRuby:{},duration:"30min",timer:"stopwatch",magicMoveDuration:800,preloadImages:!0,layout:"title",slidesTitle:"DSA 第6回: ソートの世界【オンデマンド】 - Slidev"};function En(a,s,n){return Math.min(n,Math.max(s,a))}function Gm(...a){return Zm(a).reduce((s,n)=>s+n,0)}function Qm(a){return a=a??[],Array.isArray(a)?a:[a]}function Zm(a){return Qm(a).flat(1)}function Ym(a){return Array.from(new Set(a))}function it(...a){let s,n,t;a.length===1?(s=0,t=1,[n]=a):[s,n,t=1]=a;const e=[];let m=s;for(;m<n;)e.push(m),m+=t||1;return e}function Xm(a){return a!=null}function sl(a,s){return Object.fromEntries(Object.entries(a).map(([n,t])=>s(n,t)).filter(Xm))}const Ei="build",Ee=v(()=>R.aspectRatio),Te=v(()=>R.canvasWidth),al=v(()=>Math.ceil(Te.value/Ee.value)),nl=v(()=>sl(R.themeConfig||{},(a,s)=>[`--slidev-theme-${a}`,s])),fn=R.slidesTitle,Ti="./#/",tl=[Object.values([])[0],Object.values([])[0]].filter(Boolean),el=new Set(["link","style","script","noscript"]),ml=new Set(["title","titleTemplate","script","style","noscript"]),ct=new Set(["base","meta","link","style","script","noscript"]),ll=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),pl=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),rl=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),ol=new Set(["templateParams","htmlAttrs","bodyAttrs"]),il=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function Tn(a,s={},n){for(const t in a){const e=a[t],m=n?`${n}:${t}`:t;typeof e=="object"&&e!==null?Tn(e,s,m):typeof e=="function"&&(s[m]=e)}return s}const Ce=(()=>{if(console.createTask)return console.createTask;const a={run:s=>s()};return()=>a})();function Pe(a,s,n,t){for(let e=n;e<a.length;e+=1)try{const m=t?t.run(()=>a[e](...s)):a[e](...s);if(m instanceof Promise)return m.then(()=>Pe(a,s,e+1,t))}catch(m){return Promise.reject(m)}}function cl(a,s,n){if(a.length>0)return Pe(a,s,0,Ce(n))}function hl(a,s,n){if(a.length>0){const t=Ce(n);return Promise.all(a.map(e=>t.run(()=>e(...s))))}}function yn(a,s){for(const n of[...a])n(s)}var ul=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(a,s,n={}){if(!a||typeof s!="function")return()=>{};const t=a;let e;for(;this._deprecatedHooks[a];)e=this._deprecatedHooks[a],a=e.to;if(e&&!n.allowDeprecated){let m=e.message;m||(m=`${t} hook has been deprecated`+(e.to?`, please use ${e.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(m)||(console.warn(m),this._deprecatedMessages.add(m))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+a.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[a]=this._hooks[a]||[],this._hooks[a].push(s),()=>{s&&(this.removeHook(a,s),s=void 0)}}hookOnce(a,s){let n,t=(...e)=>(typeof n=="function"&&n(),n=void 0,t=void 0,s(...e));return n=this.hook(a,t),n}removeHook(a,s){const n=this._hooks[a];if(n){const t=n.indexOf(s);t!==-1&&n.splice(t,1),n.length===0&&(this._hooks[a]=void 0)}}deprecateHook(a,s){this._deprecatedHooks[a]=typeof s=="string"?{to:s}:s;const n=this._hooks[a]||[];this._hooks[a]=void 0;for(const t of n)this.hook(a,t)}deprecateHooks(a){for(const s in a)this.deprecateHook(s,a[s])}addHooks(a){const s=Tn(a),n=Object.keys(s).map(t=>this.hook(t,s[t]));return()=>{for(const t of n)t();n.length=0}}removeHooks(a){const s=Tn(a);for(const n in s)this.removeHook(n,s[n])}removeAllHooks(){this._hooks={}}callHook(a,...s){return this.callHookWith(cl,a,s)}callHookParallel(a,...s){return this.callHookWith(hl,a,s)}callHookWith(a,s,n){const t=this._before||this._after?{name:s,args:n,context:{}}:void 0;this._before&&yn(this._before,t);const e=a(this._hooks[s]?[...this._hooks[s]]:[],n,s);return e instanceof Promise?e.finally(()=>{this._after&&t&&yn(this._after,t)}):(this._after&&t&&yn(this._after,t),e)}beforeEach(a){return this._before=this._before||[],this._before.push(a),()=>{if(this._before!==void 0){const s=this._before.indexOf(a);s!==-1&&this._before.splice(s,1)}}}afterEach(a){return this._after=this._after||[],this._after.push(a),()=>{if(this._after!==void 0){const s=this._after.indexOf(a);s!==-1&&this._after.splice(s,1)}}}};function gl(){return new ul}const dl=["name","property","http-equiv"],fl=new Set(["viewport","description","keywords","robots"]);function ze(a){const s=a.split(":");return s.length?il.has(s[1]):!1}function Cn(a){const{props:s,tag:n}=a;if(pl.has(n))return n;if(n==="link"&&s.rel==="canonical")return"canonical";const t=s.hreflang||s.type;if(n==="link"&&s.rel==="alternate"&&t)return`alternate:${t}`;if(s.charset)return"charset";if(a.tag==="meta"){for(const e of dl)if(s[e]!==void 0){const m=s[e],l=m&&typeof m=="string"&&m.includes(":"),p=m&&fl.has(m),o=!(l||p)&&a.key?`:key:${a.key}`:"";return`${n}:${m}${o}`}}if(a.key)return`${n}:key:${a.key}`;if(s.id)return`${n}:id:${s.id}`;if(ml.has(n)){const e=a.textContent||a.innerHTML;if(e)return`${n}:content:${e}`}}function ht(a){const s=a._h||a._d;if(s)return s;const n=a.textContent||a.innerHTML;return n||`${a.tag}:${Object.entries(a.props).map(([t,e])=>`${t}:${String(e)}`).join(",")}`}function Qa(a,s,n){typeof a==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(a=a());const e=s?s(n,a):a;if(Array.isArray(e))return e.map(m=>Qa(m,s));if(e?.constructor===Object){const m={};for(const l of Object.keys(e))m[l]=Qa(e[l],s,l);return m}return e}function yl(a,s){const n=a==="style"?new Map:new Set;function t(e){if(e==null||e===void 0)return;const m=String(e).trim();if(m)if(a==="style"){const[l,...p]=m.split(":").map(r=>r?r.trim():"");l&&p.length&&n.set(l,p.join(":"))}else m.split(" ").filter(Boolean).forEach(l=>n.add(l))}return typeof s=="string"?a==="style"?s.split(";").forEach(t):t(s):Array.isArray(s)?s.forEach(e=>t(e)):s&&typeof s=="object"&&Object.entries(s).forEach(([e,m])=>{m&&m!=="false"&&(a==="style"?n.set(String(e).trim(),String(m)):t(e))}),n}function De(a,s){return a.props=a.props||{},s?a.tag==="templateParams"?(a.props=s,a):(Object.entries(s).forEach(([n,t])=>{if(t===null){a.props[n]=null;return}if(n==="class"||n==="style"){a.props[n]=yl(n,t);return}if(rl.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof t=="object"){let p=s.type;if(s.type||(p="application/json"),!p?.endsWith("json")&&p!=="speculationrules")return;s.type=p,a.props.type=p,a[n]=JSON.stringify(t)}else a[n]=t;return}const e=String(t),m=n.startsWith("data-"),l=a.tag==="meta"&&n==="content";e==="true"||e===""?a.props[n]=m||l?e:!0:!t&&m&&e==="false"?a.props[n]="false":t!==void 0&&(a.props[n]=t)}),a):a}function wl(a,s){const n=typeof s=="object"&&typeof s!="function"?s:{[a==="script"||a==="noscript"||a==="style"?"innerHTML":"textContent"]:s},t=De({tag:a,props:{}},n);return t.key&&el.has(t.tag)&&(t.props["data-hid"]=t._h=t.key),t.tag==="script"&&typeof t.innerHTML=="object"&&(t.innerHTML=JSON.stringify(t.innerHTML),t.props.type=t.props.type||"application/json"),Array.isArray(t.props.content)?t.props.content.map(e=>({...t,props:{...t.props,content:e}})):t}function xl(a,s){if(!a)return[];typeof a=="function"&&(a=a());const n=(e,m)=>{for(let l=0;l<s.length;l++)m=s[l](e,m);return m};a=n(void 0,a);const t=[];return a=Qa(a,n),Object.entries(a||{}).forEach(([e,m])=>{if(m!==void 0)for(const l of Array.isArray(m)?m:[m])t.push(wl(e,l))}),t.flat()}const ut=(a,s)=>a._w===s._w?a._p-s._p:a._w-s._w,gt={base:-10,title:10},kl={critical:-8,high:-1,low:2},dt={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},vl=/@import/,va=a=>a===""||a===!0;function Ml(a,s){if(typeof s.tagPriority=="number")return s.tagPriority;let n=100;const t=kl[s.tagPriority]||0,e=a.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:dt;if(s.tag in gt)n=gt[s.tag];else if(s.tag==="meta"){const m=s.props["http-equiv"]==="content-security-policy"?"content-security-policy":s.props.charset?"charset":s.props.name==="viewport"?"viewport":null;m&&(n=dt.meta[m])}else if(s.tag==="link"&&s.props.rel)n=e.link[s.props.rel];else if(s.tag==="script"){const m=String(s.props.type);va(s.props.async)?n=e.script.async:s.props.src&&!va(s.props.defer)&&!va(s.props.async)&&m!=="module"&&!m.endsWith("json")||s.innerHTML&&!m.endsWith("json")?n=e.script.sync:(va(s.props.defer)&&s.props.src&&!va(s.props.async)||m==="module")&&(n=e.script.defer)}else s.tag==="style"&&(n=s.innerHTML&&vl.test(s.innerHTML)?e.style.imported:e.style.sync);return(n||100)+t}function ft(a,s){const n=typeof s=="function"?s(a):s,t=n.key||String(a.plugins.size+1);a.plugins.get(t)||(a.plugins.set(t,n),a.hooks.addHooks(n.hooks||{}))}function bl(a={}){const s=gl();s.addHooks(a.hooks||{});const n=!a.document,t=new Map,e=new Map,m=new Set,l={_entryCount:1,plugins:e,dirty:!1,resolvedOptions:a,hooks:s,ssr:n,entries:t,headEntries(){return[...t.values()]},use:p=>ft(l,p),push(p,r){const o={...r||{}};delete o.head;const c=o._index??l._entryCount++,u={_i:c,input:p,options:o},h={_poll(i=!1){l.dirty=!0,!i&&m.add(c),s.callHook("entries:updated",l)},dispose(){t.delete(c)&&l.invalidate()},patch(i){(!o.mode||o.mode==="server"&&n||o.mode==="client"&&!n)&&(u.input=i,t.set(c,u),h._poll())}};return h.patch(p),h},async resolveTags(){const p={tagMap:new Map,tags:[],entries:[...l.entries.values()]};for(await s.callHook("entries:resolve",p);m.size;){const h=m.values().next().value;m.delete(h);const i=t.get(h);if(i){const d={tags:xl(i.input,a.propResolvers||[]).map(g=>Object.assign(g,i.options)),entry:i};await s.callHook("entries:normalize",d),i._tags=d.tags.map((g,f)=>(g._w=Ml(l,g),g._p=(i._i<<10)+f,g._d=Cn(g),g))}}let r=!1;p.entries.flatMap(h=>(h._tags||[]).map(i=>({...i,props:{...i.props}}))).sort(ut).reduce((h,i)=>{const d=String(i._d||i._p);if(!h.has(d))return h.set(d,i);const g=h.get(d);if((i?.tagDuplicateStrategy||(ol.has(i.tag)?"merge":null)||(i.key&&i.key===g.key?"merge":null))==="merge"){const y={...g.props};Object.entries(i.props).forEach(([w,x])=>y[w]=w==="style"?new Map([...g.props.style||new Map,...x]):w==="class"?new Set([...g.props.class||new Set,...x]):x),h.set(d,{...i,props:y})}else i._p>>10===g._p>>10&&i.tag==="meta"&&ze(d)?(h.set(d,Object.assign([...Array.isArray(g)?g:[g],i],i)),r=!0):(i._w===g._w?i._p>g._p:i?._w<g?._w)&&h.set(d,i);return h},p.tagMap);const o=p.tagMap.get("title"),c=p.tagMap.get("titleTemplate");if(l._title=o?.textContent,c){const h=c?.textContent;if(l._titleTemplate=h,h){let i=typeof h=="function"?h(o?.textContent):h;typeof i=="string"&&!l.plugins.has("template-params")&&(i=i.replace("%s",o?.textContent||"")),o?i===null?p.tagMap.delete("title"):p.tagMap.set("title",{...o,textContent:i}):(c.tag="title",c.textContent=i)}}p.tags=Array.from(p.tagMap.values()),r&&(p.tags=p.tags.flat().sort(ut)),await s.callHook("tags:beforeResolve",p),await s.callHook("tags:resolve",p),await s.callHook("tags:afterResolve",p);const u=[];for(const h of p.tags){const{innerHTML:i,tag:d,props:g}=h;if(ll.has(d)&&!(Object.keys(g).length===0&&!h.innerHTML&&!h.textContent)&&!(d==="meta"&&!g.content&&!g["http-equiv"]&&!g.charset)){if(d==="script"&&i){if(String(g.type).endsWith("json")){const f=typeof i=="string"?i:JSON.stringify(i);h.innerHTML=f.replace(/</g,"\\u003C")}else typeof i=="string"&&(h.innerHTML=i.replace(new RegExp(`</${d}`,"g"),`<\\/${d}`));h._d=Cn(h)}u.push(h)}}return u},invalidate(){for(const p of t.values())m.add(p._i);l.dirty=!0,s.callHook("entries:updated",l)}};return(a?.plugins||[]).forEach(p=>ft(l,p)),l.hooks.callHook("init",l),a.init?.forEach(p=>p&&l.push(p)),l}const _l=(a,s)=>fm(s)?$n(s):s,Re="usehead";function Nl(a){return{install(n){n.config.globalProperties.$unhead=a,n.config.globalProperties.$head=a,n.provide(Re,a)}}.install}function Ll(){if(ym()){const a=_e(Re);if(a)return a}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function Ol(a,s={}){const n=s.head||Ll();return n.ssr?n.push(a||{},s):Sl(n,a,s)}function Sl(a,s,n={}){const t=E(!1);let e;return ya(()=>{const l=t.value?{}:Qa(s,_l);e?e.patch(l):e=a.push(l,n)}),Ne()&&(wm(()=>{e.dispose()}),xm(()=>{t.value=!0}),km(()=>{t.value=!1})),e}function Pn(a){if(a===!1||a==="false")return null;if(a==null||a===!0||a==="true")return"+1";if(typeof a=="string"&&"+-".includes(a[0]))return a;const s=+a;return Number.isNaN(s)?(console.error(`Invalid "at" prop value: ${a}`),null):s<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${a}, has been set to 1`),1):s}function $l(a){return Array.isArray(a)?[Pn(a[0]),Pn(a[1])]:null}function je(a,s=0,n){const t=E(!1);let e=new Map,m=new Map;const l={get current(){return En(+a.value,s,l.total)},set current(p){a.value=t.value?En(p,s,l.total):p},clicksStart:s,get relativeSizeMap(){return e},get maxMap(){return m},get isMounted(){return t.value},setup(){Le(()=>{t.value=!0,m=L(m),vm(a)||(l.current=a.value)}),Mm(()=>{t.value=!1,e=new Map,m=new Map})},calculateSince(p,r=1){const o=Pn(p);if(o==null)return null;let c,u,h;if(typeof o=="string"){const i=l.currentOffset,d=+o;c=i+d,u=i+d+r-1,h=d+r-1}else c=o,u=o+r-1,h=0;return{start:c,end:+Number.POSITIVE_INFINITY,max:u,delta:h,currentOffset:v(()=>l.current-c),isCurrent:v(()=>l.current===c),isActive:v(()=>l.current>=c)}},calculateRange(p){const r=$l(p);if(r==null)return null;const[o,c]=r;let u,h,i;return typeof o=="string"?(u=l.currentOffset+ +o,i=+o):(u=o,i=0),typeof c=="string"?(h=u+ +c,i+=+c):h=c,{start:u,end:h,max:h,delta:i,currentOffset:v(()=>l.current-u),isCurrent:v(()=>l.current===u),isActive:v(()=>u<=l.current&&l.current<h)}},calculate(p){return Array.isArray(p)?l.calculateRange(p):l.calculateSince(p)},register(p,r){if(!r)return;const{delta:o,max:c}=r;e.set(p,o),m.set(p,c)},unregister(p){e.delete(p),m.delete(p)},get currentOffset(){return Gm(...e.values())},get total(){return n??(t.value?Math.max(0,...m.values()):0)}};return l}function Al(a,s=0){const n=a?.meta.slide?.frontmatter.clicksStart??0,t=E(Math.max($n(s),n));return ss(()=>$n(s),e=>{t.value=Math.max(e,n)}),je(t,n,a?.meta?.clicks)}const El="modulepreload",Tl=function(a,s){return new URL(a,s).href},yt={},M=function(s,n,t){let e=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const l=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),r=p?.nonce||p?.getAttribute("nonce");e=o(n.map(c=>{if(c=Tl(c,t),c in yt)return;yt[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(t)for(let d=l.length-1;d>=0;d--){const g=l[d];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const i=document.createElement("link");if(i.rel=u?"stylesheet":El,u||(i.as="script"),i.crossOrigin="",i.href=c,r&&i.setAttribute("nonce",r),document.head.appendChild(i),u)return new Promise((d,g)=>{i.addEventListener("load",d),i.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function m(l){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=l,window.dispatchEvent(p),!p.defaultPrevented)throw l}return e.then(l=>{for(const p of l||[])p.status==="rejected"&&m(p.reason);return s().catch(m)})},Cl=(a,s)=>{const n=a.__vccOpts||a;for(const[t,e]of s)n[t]=e;return n},Pl={},zl={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function Dl(a,s){return Ga(),An("div",zl,bm("Failed to fetch this slide. Please check your network connection."))}const O=Cl(Pl,[["render",Dl]]),Rl={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},jl=Oe({__name:"SlideLoading",setup(a){const s=E(!1);return Le(()=>{setTimeout(()=>{s.value=!0},200)}),(n,t)=>(Ga(),An("div",Rl,[s.value?(Ga(),An(_m,{key:0},[t[0]||(t[0]=ot("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),t[1]||(t[1]=ot("div",null,"Loading slide...",-1))],64)):Nm("v-if",!0)]))}}),Il={theme:"../theme",title:"DSA 第6回: ソートの世界【オンデマンド】",info:`データ構造とアルゴリズム 2026年度 第6回（オンデマンド配信）
関西大学 ビジネスデータサイエンス学部 / 伝住 周平
`,drawings:{enabled:!1},transition:"slide-left",routerMode:"hash",layout:"title"},hs=b(Il),Hl=L({get layout(){return hs.layout},get transition(){return hs.transition},get class(){return hs.class},get clicks(){return hs.clicks},get name(){return hs.name},get preload(){return hs.preload},slide:{content:"",revision:"6k6gdc",frontmatterRaw:`theme: ../theme
title: 'DSA 第6回: ソートの世界【オンデマンド】'
info: |
  データ構造とアルゴリズム 2026年度 第6回（オンデマンド配信）
  関西大学 ビジネスデータサイエンス学部 / 伝住 周平
drawings:
  enabled: false
transition: slide-left
routerMode: hash
layout: title
`,note:"",title:"DSA 第6回: ソートの世界【オンデマンド】",index:0,noteHTML:`<p>「みなさん，こんにちは．第6回はオンデマンド配信です．
自分のペースで学習してください．
途中で一時停止マークが出たら，動画を止めて自分で考える時間です．
ぜひ手を動かしてみてください．</p>
<p>さて，いきなりですが，
みなさんはトランプをしたことがありますか？</p>
<p>手札が配られたとき，どうやって整理しますか？
……たぶん，左から小さい順に並べますよね．</p>
<p>1枚引いて，手札のどこに入るか探して，すっと差し込む．
次の1枚も同様に……</p>
<p>実はみなさんは，無意識に <strong>ソートアルゴリズム</strong> を実行しています．
しかもそれには名前がついている ― <strong>挿入ソート</strong> です．</p>
<p>今日は，この『並べ替え』の世界を体系的に学びます．
ソートは，コンピュータサイエンスの基本中の基本です．</p>
<p>では始めましょう．」</p>
`,raw:"",frontmatter:hs,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),Vl={layout:"objectives"},us=b(Vl),Fl=L({get layout(){return us.layout},get transition(){return us.transition},get class(){return us.class},get clicks(){return us.clicks},get name(){return us.name},get preload(){return us.preload},slide:{content:"",revision:"-4kbkuq",frontmatterRaw:`layout: objectives
`,note:"",title:"本日の学習目標",level:2,index:1,noteHTML:`<p>「この回で身につけてほしいことは5つ．</p>
<p>1つ目，基本ソート3種の動作をトレースして説明できること．
2つ目，各ソートの計算量をΣを使って導出できること．
3つ目，分割統治法の考え方を理解し，再帰との関係を説明できること．
4つ目，マージソートとクイックソートがなぜ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> なのか理解すること．
5つ目，ソートの安定性と実用的な選択基準を理解すること．」</p>
`,raw:"",frontmatter:us,filepath:"",start:45,id:1,no:2},__clicksContext:null,__preloaded:!1}),ql={},gs=b(ql),Bl=L({get layout(){return gs.layout},get transition(){return gs.transition},get class(){return gs.class},get clicks(){return gs.clicks},get name(){return gs.name},get preload(){return gs.preload},slide:{content:"",revision:"-m1z4h8",note:"",title:"この回の学習方法",level:2,index:2,noteHTML:`<p>「この回はオンデマンドです．</p>
<p>学習の流れは4ステップ:</p>
<ol>
<li>この教材を自分のペースで学習．約75分です．</li>
<li>一時停止マークが出たら，動画を止めて考えてください．</li>
<li>SortVisualizerで各ソートを実行して比較する．</li>
<li>学習課題をLMS経由で提出する．締切は翌週の授業前日です．</li>
</ol>
<p>では始めましょう．」</p>
`,raw:"",frontmatter:gs,filepath:"",start:68,id:2,no:3},__clicksContext:null,__preloaded:!1}),Wl={},ds=b(Wl),Jl=L({get layout(){return ds.layout},get transition(){return ds.transition},get class(){return ds.class},get clicks(){return ds.clicks},get name(){return ds.name},get preload(){return ds.preload},slide:{content:"",revision:"78mcpt",note:"",title:"前回の復習",level:2,index:3,noteHTML:`<p>「前回の復習です．</p>
<p>第5回では確率とシミュレーションを学びました．
期待値の線形性，クーポンコレクター問題，モンテカルロ法．</p>
<p>今日のキーポイントとして，
第3回で学んだΣがバブルソートの計算量導出に使われます．
第3回の再帰が分割統治法の基礎になります．
そして第5回の確率が，クイックソートのランダムピボットで再登場します．</p>
<p>前回の予告で，トランプの手札整理は挿入ソートだと言いましたね．
今日，その挿入ソートを正式に学びます．」</p>
`,raw:"",frontmatter:ds,filepath:"",start:95,id:3,no:4},__clicksContext:null,__preloaded:!1}),Ul={layout:"section-divider"},fs=b(Ul),Kl=L({get layout(){return fs.layout},get transition(){return fs.transition},get class(){return fs.class},get clicks(){return fs.clicks},get name(){return fs.name},get preload(){return fs.preload},slide:{content:"",revision:"vjbgjj",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 1",level:1,index:4,noteHTML:`<p>「まずは基本ソート3種から．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> の世界を見ていきましょう．」</p>
`,raw:"",frontmatter:fs,filepath:"",start:140,id:4,no:5},__clicksContext:null,__preloaded:!1}),Gl={},ys=b(Gl),Ql=L({get layout(){return ys.layout},get transition(){return ys.transition},get class(){return ys.class},get clicks(){return ys.clicks},get name(){return ys.name},get preload(){return ys.preload},slide:{content:"",revision:"lkywvs",note:"",title:"なぜソートを学ぶのか？",level:2,index:5,noteHTML:`<p>「最初に，なぜソートが重要なのかを確認しましょう．</p>
<p>ソートは至るところにあります．
検索エンジンは検索結果を関連度順にソートしています．
ECサイトは商品を価格順や人気順にソートしています．
SNSはタイムラインを時系列順にソートしています．
表計算ソフトではデータをソートする機能がついています．</p>
<p>ソートはアルゴリズムの基本でもあります．
ソートされたデータなら，第2回で学んだ二分探索で高速に検索できます．
多くのアルゴリズムの前処理としてソートが使われます．
そして，ソートはアルゴリズム設計の考え方 ―
分割統治法や再帰 ― を学ぶ最良の教材です．</p>
<p>ソートはコンピュータサイエンスの基本中の基本．
今日しっかり学んでいきましょう．」</p>
`,raw:"",frontmatter:ys,filepath:"",start:154,id:5,no:6},__clicksContext:null,__preloaded:!1}),Zl={},ws=b(Zl),Yl=L({get layout(){return ws.layout},get transition(){return ws.transition},get class(){return ws.class},get clicks(){return ws.clicks},get name(){return ws.name},get preload(){return ws.preload},slide:{content:"",revision:"4u0e37",note:"",title:"バブルソート（Bubble Sort）",level:2,index:6,noteHTML:`<p>「1つ目のソートはバブルソートです．</p>
<p>方針はシンプル．
隣同士を比較して，逆順なら交換する．これを繰り返す．</p>
<p>擬似コードを見てください．</p>
<pre><code>bubble_sort(A):
    for i = N-1 downto 1:
        for j = 0 to i-1:
            if A[j] &gt; A[j+1]:
                swap(A[j], A[j+1])
</code></pre>
<p>二重ループになっていますね．
外側のループは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> を <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> から1まで減らしていきます．
内側のループは配列の先頭から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 番目まで，隣同士を比較します．</p>
<p>名前の由来は，最大の値が泡のように右端に浮き上がることです．」</p>
`,raw:"",frontmatter:ws,filepath:"",start:200,id:6,no:7},__clicksContext:null,__preloaded:!1}),Xl={},xs=b(Xl),sp=L({get layout(){return xs.layout},get transition(){return xs.transition},get class(){return xs.class},get clicks(){return xs.clicks},get name(){return xs.name},get preload(){return xs.preload},slide:{content:"",revision:"unz890",note:"",title:"バブルソートのトレース",level:2,index:7,noteHTML:`<p>「配列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5, 3, 8, 1, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span> をバブルソートでソートしてみましょう．</p>
<p>1回目のパスです．</p>
<p>5と3を比較，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>&gt;</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">5 &gt; 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> なので交換 → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 5, 8, 1, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>
5と8を比較，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>&lt;</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">5 &lt; 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> なのでそのまま
8と1を比較，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">8 &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> なので交換 → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 5, 1, 8, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>
8と2を比較，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">8 &gt; 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> なので交換 → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 5, 1, 2, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span></p>
<p>1回のパスで，最大値の8が右端に浮き上がりました．</p>
<p>動画を一時停止して，2回目のパスの結果を予想してみてください．</p>
<p>……2回目のパスでは5が右から2番目に移動します．
3回目のパスでは3が正しい位置に．
こうして徐々にソートされていきます．」</p>
`,raw:"",frontmatter:xs,filepath:"",start:249,id:7,no:8},__clicksContext:null,__preloaded:!1}),ap={},ks=b(ap),np=L({get layout(){return ks.layout},get transition(){return ks.transition},get class(){return ks.class},get clicks(){return ks.clicks},get name(){return ks.name},get preload(){return ks.preload},slide:{content:"",revision:"-z938tv",note:"",title:"バブルソートの計算量 — $\\Sigma$で導出",level:2,index:8,noteHTML:`<p>「バブルソートの比較回数をΣを使って正確に導出しましょう．</p>
<p>1回目のパスで <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 回の比較，
2回目のパスで <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">N - 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> 回の比較，
……
最後のパスで1回の比較．</p>
<p>合計は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msubsup><mi>i</mi><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>N</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi>N</mi></mrow><mn>2</mn></mfrac><mo>=</mo><mfrac><mrow><msup><mi>N</mi><mn>2</mn></msup><mo>−</mo><mi>N</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\\sum_{i=1}^{N-1} i = \\frac{(N-1)N}{2} = \\frac{N^2 - N}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2809em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>これは第3回で学んだガウスの公式そのものです！</p>
<p>O記法では定数倍と低次の項を無視して，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">N = 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span> なら約50万回，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">N = 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000</span></span></span></span> なら約5000万回の比較が必要です．
第3回のΣの力がここで発揮されていますね．」</p>
`,raw:"",frontmatter:ks,filepath:"",start:295,id:8,no:9},__clicksContext:null,__preloaded:!1}),tp={},vs=b(tp),ep=L({get layout(){return vs.layout},get transition(){return vs.transition},get class(){return vs.class},get clicks(){return vs.clicks},get name(){return vs.name},get preload(){return vs.preload},slide:{content:"",revision:"-fp4ptr",note:"",title:"転倒数（Inversions）— バブルソートの交換回数の正体",level:2,index:9,noteHTML:`<p>「バブルソートの比較回数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> だとわかりました．
では交換回数はどうでしょうか？</p>
<p>ここで<strong>転倒数</strong>という重要な概念を紹介します．</p>
<p>転倒数とは，配列中の <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i, j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> のペアで，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>&lt;</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i &lt; j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6986em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> かつ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>&gt;</mo><mi>A</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[i] &gt; A[j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span> であるものの数です．
つまり，位置的には <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> が前なのに，値は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span> の方が大きい ―
順序が『転倒』しているペアの数です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5, 3, 8, 1, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span> の転倒数を数えてみましょう．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(5,3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>5</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(5,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>5</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(5,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(3,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(3,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(8,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>8</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(8,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span> の7個です．</p>
<p>ここで核心的な洞察があります．
バブルソートの交換1回は，隣同士を入れ替える操作です．
この操作は転倒を<strong>正確に1つだけ</strong>解消します．
逆に言えば，交換しないときは転倒がないということ．</p>
<p>したがって，<strong>バブルソートの交換回数 = 転倒数</strong> です．</p>
<p>ソート済み配列の転倒数は0 ― これが最良ケース．
逆順配列の転倒数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>N</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mfrac><mrow><mi>N</mi><mo stretchy="false">(</mo><mi>N</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\\binom{N}{2} = \\frac{N(N-1)}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2723em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9223em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ― これが最悪ケース．
ランダム配列の転倒数の期待値は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>N</mi><mo stretchy="false">(</mo><mi>N</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>4</mn></mfrac></mrow><annotation encoding="application/x-tex">\\frac{N(N-1)}{4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ― 最悪の半分です．</p>
<p>転倒数は，配列がどれだけ乱れているかを定量化する指標です．
実は挿入ソートの比較回数も転倒数と一致します．
だからほぼソート済みのデータでは挿入ソートが速いのです ―
転倒数が少ないから．」</p>
`,raw:"",frontmatter:vs,filepath:"",start:340,id:9,no:10},__clicksContext:null,__preloaded:!1}),mp={layout:"interactive"},Ms=b(mp),lp=L({get layout(){return Ms.layout},get transition(){return Ms.transition},get class(){return Ms.class},get clicks(){return Ms.clicks},get name(){return Ms.name},get preload(){return Ms.preload},slide:{content:"",revision:"omey5f",frontmatterRaw:`layout: interactive
`,note:"",title:"転倒数を数えてみよう",level:2,index:10,noteHTML:`<p>「画面のInversionCounterを使って，実際に転倒数を数えてみましょう．</p>
<p>配列を入力すると，転倒しているペアがハイライトされます．
ランダムな配列で試してみてください．</p>
<p>次に，ほぼソート済みの配列を試してみてください．
転倒数が少ないことが確認できるはずです．</p>
<p>逆順の配列も試してみましょう．
転倒数が最大の <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mi>N</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\\binom{N}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2723em;vertical-align:-0.35em;"></span><span class="mord"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9223em;"><span style="top:-2.355em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.144em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span> になるはずです．</p>
<p>このように，転倒数を見ると
『この配列をソートするのにどれだけ手間がかかるか』が
定量的にわかります．</p>
<p>バブルソートと挿入ソートは，
いずれも隣接する要素の交換（またはシフト）で転倒を1つずつ解消していくので，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> が避けられません．</p>
<p>一方，マージソートは離れた要素を一度に正しい位置に移動できるので，
複数の転倒を一気に解消できます．
これが <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> の秘密の1つです．」</p>
`,raw:"",frontmatter:Ms,filepath:"",start:402,id:10,no:11},__clicksContext:null,__preloaded:!1}),pp={},bs=b(pp),rp=L({get layout(){return bs.layout},get transition(){return bs.transition},get class(){return bs.class},get clicks(){return bs.clicks},get name(){return bs.name},get preload(){return bs.preload},slide:{content:"",revision:"ia3r7m",note:"",title:"選択ソート（Selection Sort）",level:2,index:11,noteHTML:`<p>「2つ目は選択ソートです．</p>
<p>方針は，未ソート部分から最小値を見つけて，先頭と交換する．</p>
<p>擬似コードを見てください．</p>
<pre><code>selection_sort(A):
    for i = 0 to N-2:
        min_idx = i
        for j = i+1 to N-1:
            if A[j] &lt; A[min_idx]:
                min_idx = j
        swap(A[i], A[min_idx])
</code></pre>
<p>毎回，未ソート部分を端から端までスキャンして最小値を見つけます．
見つかった最小値を先頭と交換する．
これを繰り返すと，先頭から順にソート済みになっていきます．</p>
<p>比較回数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> でバブルと同じですが，
交換回数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> ― 毎回1回しか交換しないので，バブルソートより少ない．」</p>
`,raw:"",frontmatter:bs,filepath:"",start:436,id:11,no:12},__clicksContext:null,__preloaded:!1}),op={},_s=b(op),ip=L({get layout(){return _s.layout},get transition(){return _s.transition},get class(){return _s.class},get clicks(){return _s.clicks},get name(){return _s.name},get preload(){return _s.preload},slide:{content:"",revision:"-4urxg7",note:"",title:"選択ソートのトレース",level:2,index:12,noteHTML:`<p>「<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5, 3, 8, 1, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span> を選択ソートでソートします．</p>
<p>1回目: 配列全体を見て最小値は1．位置3にある．先頭の5と交換．
結果: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 3, 8, 5, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span></p>
<p>2回目: 位置1以降で最小値は2．位置4にある．位置1の3と交換．
結果: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 2, 8, 5, 3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span></p>
<p>3回目: 位置2以降で最小値は3．位置4にある．位置2の8と交換．
結果: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 2, 3, 5, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span></p>
<p>4回目: 位置3以降で最小値は5．すでに正しい位置．交換不要．</p>
<p>完成です．</p>
<p>ポイントは，最小値を『選んで』先頭に置く ― だから選択ソートと呼ばれます．
交換回数は最大 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 回．バブルソートの <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 回に比べて少ないです．」</p>
`,raw:"",frontmatter:_s,filepath:"",start:490,id:12,no:13},__clicksContext:null,__preloaded:!1}),cp={},Ns=b(cp),hp=L({get layout(){return Ns.layout},get transition(){return Ns.transition},get class(){return Ns.class},get clicks(){return Ns.clicks},get name(){return Ns.name},get preload(){return Ns.preload},slide:{content:"",revision:"i50frm",note:"",title:"挿入ソート（Insertion Sort）",level:2,index:13,noteHTML:`<p>「3つ目が挿入ソート ― 冒頭のトランプの整理法です．</p>
<p>方針は，要素を1つずつ取り出して，ソート済み部分の正しい位置に挿入する．</p>
<p>擬似コードを見てください．</p>
<pre><code>insertion_sort(A):
    for i = 1 to N-1:
        key = A[i]
        j = i - 1
        while j &gt;= 0 and A[j] &gt; key:
            A[j+1] = A[j]
            j = j - 1
        A[j+1] = key
</code></pre>
<p>外側のループは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> から <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> まで．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> 番目の要素をkeyとして，ソート済み部分の中で正しい位置を探します．
keyより大きい要素は右にずらして，空いた場所にkeyを挿入します．</p>
<p>まさにトランプの手札を整理する動きと同じですよね．」</p>
`,raw:"",frontmatter:Ns,filepath:"",start:535,id:13,no:14},__clicksContext:null,__preloaded:!1}),up={},Ls=b(up),gp=L({get layout(){return Ls.layout},get transition(){return Ls.transition},get class(){return Ls.class},get clicks(){return Ls.clicks},get name(){return Ls.name},get preload(){return Ls.preload},slide:{content:"",revision:"-r93d5q",note:"",title:"挿入ソートのトレース",level:2,index:14,noteHTML:`<p>「<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5, 3, 8, 1, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span> を挿入ソートでソートします．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>: key = 3．ソート済み部分は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mclose">]</span></span></span></span>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>&gt;</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">5 &gt; 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> なので5を右にずらす．keyを挿入 → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 5, 8, 1, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">i = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>: key = 8．ソート済み部分は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>&lt;</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">5 &lt; 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> なのでそのまま → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 5, 8, 1, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">i = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>: key = 1．ソート済み部分は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 5, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">8 &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">5 &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3 &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ― 全部右にずらす．keyを先頭に挿入 → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 3, 5, 8, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">i = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>: key = 2．ソート済み部分は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 3, 5, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">8 &gt; 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">5 &gt; 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">3 &gt; 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> を右にずらす．<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1 &lt; 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span> でストップ → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 2, 3, 5, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span></p>
<p>最悪計算量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>．逆順ソートの場合は毎回全部ずらす必要がある．
しかし最良計算量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．もうほぼソート済みなら，ほとんど挿入が不要だからです．」</p>
`,raw:"",frontmatter:Ls,filepath:"",start:587,id:14,no:15},__clicksContext:null,__preloaded:!1}),dp={},Os=b(dp),fp=L({get layout(){return Os.layout},get transition(){return Os.transition},get class(){return Os.class},get clicks(){return Os.clicks},get name(){return Os.name},get preload(){return Os.preload},slide:{content:"",revision:"t2ph9f",note:"",title:"挿入ソートが実用的に重要な理由",level:2,index:15,noteHTML:`<p>「挿入ソートが実用的に重要な理由を補足しておきます．</p>
<p>ほぼソート済みのデータに対して，挿入ソートは最良 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> です．
バブルソートの改良版も <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> になりますが，
選択ソートは常に <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ― データの状態に関係なく遅い．</p>
<p>もう1つ，小さな配列にも挿入ソートは強い．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> が小さいとき，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> でも定数係数が小さいので十分速い．
実際のプログラミング言語の標準ソートでも，
小さな部分配列では挿入ソートに切り替える実装が多いです．</p>
<p>この性質は，後半で紹介するTimSortというハイブリッドソートの鍵になります．」</p>
`,raw:"",frontmatter:Os,filepath:"",start:632,id:15,no:16},__clicksContext:null,__preloaded:!1}),yp={},Ss=b(yp),wp=L({get layout(){return Ss.layout},get transition(){return Ss.transition},get class(){return Ss.class},get clicks(){return Ss.clicks},get name(){return Ss.name},get preload(){return Ss.preload},slide:{content:"",revision:"72q9bv",note:"",title:"基本ソートの比較",level:2,index:16,noteHTML:`<p>「3つの基本ソートを比較しましょう．</p>
<p>バブルソート: 最悪 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，改良版は最良 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>，安定，理解しやすい．
選択ソート: 最悪も最良も <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，不安定だが交換回数が少ない．
挿入ソート: 最悪 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，最良 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>，安定，ほぼソート済みなら高速．</p>
<p>3つとも <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> です．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> が大きくなると実用的ではありません．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">N = 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span> なら <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span> で一瞬ですが，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">N = 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span> なら <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>10</mn></msup></mrow><annotation encoding="application/x-tex">10^{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span></span></span></span></span></span></span> で10秒以上．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>10000000</mn></mrow><annotation encoding="application/x-tex">N = 10000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000000</span></span></span></span> なら <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>14</mn></msup></mrow><annotation encoding="application/x-tex">10^{14}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">14</span></span></span></span></span></span></span></span></span></span></span></span> で約28時間かかります．</p>
<p>もっと速いソートが必要です．
鍵となるのは，分割統治法という発想です．」</p>
`,raw:"",frontmatter:Ss,filepath:"",start:670,id:16,no:17},__clicksContext:null,__preloaded:!1}),xp={},$s=b(xp),kp=L({get layout(){return $s.layout},get transition(){return $s.transition},get class(){return $s.class},get clicks(){return $s.clicks},get name(){return $s.name},get preload(){return $s.preload},slide:{content:"",revision:"ss1wpi",note:"",title:"練習: ソートをトレースしよう",level:2,index:17,noteHTML:`<p>「動画を一時停止して，配列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4, 2, 7, 1, 3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span> を選択ソートでソートしてみてください．</p>
<p>各パスで最小値がどこにあって，何と交換するかを紙に書いてみましょう．</p>
<p>……できましたか？</p>
<p>1回目: 最小値は1，位置3．4と交換 → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 2, 7, 4, 3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span>
2回目: 最小値は2，位置1．すでに正しい位置 → そのまま
3回目: 最小値は3，位置4．7と交換 → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 2, 3, 4, 7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mclose">]</span></span></span></span>
4回目: 最小値は4，位置3．すでに正しい位置 → そのまま</p>
<p>比較回数は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>+</mo><mn>3</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">4 + 3 + 2 + 1 = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> 回，交換回数は2回です．」</p>
`,raw:"",frontmatter:$s,filepath:"",start:716,id:17,no:18},__clicksContext:null,__preloaded:!1}),vp={layout:"section-divider"},As=b(vp),Mp=L({get layout(){return As.layout},get transition(){return As.transition},get class(){return As.class},get clicks(){return As.clicks},get name(){return As.name},get preload(){return As.preload},slide:{content:"",revision:"-un84i",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 2",level:1,index:18,noteHTML:`<p>「ここからが今日の核心部分です．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> の壁を破る分割統治法を学びましょう．」</p>
`,raw:"",frontmatter:As,filepath:"",start:753,id:18,no:19},__clicksContext:null,__preloaded:!1}),bp={},Es=b(bp),_p=L({get layout(){return Es.layout},get transition(){return Es.transition},get class(){return Es.class},get clicks(){return Es.clicks},get name(){return Es.name},get preload(){return Es.preload},slide:{content:"",revision:"mrqinu",note:"",title:"分割統治法（Divide and Conquer）",level:2,index:19,noteHTML:`<p>「分割統治法 ― Divide and Conquer ― は，
アルゴリズム設計の最も重要な戦略の1つです．</p>
<p>3つのステップで構成されます．</p>
<ol>
<li>分割（Divide）― 問題を小さな部分問題に分ける．</li>
<li>征服（Conquer）― 各部分問題を再帰的に解く．</li>
<li>統合（Combine）― 部分問題の解を合わせて全体の解を得る．</li>
</ol>
<p>大掃除を想像してください．
家全体を一度に掃除するのは大変ですが，
部屋ごとに分けて，各部屋を掃除して，最後に共有スペースを仕上げる ―
これが分割統治法です．</p>
<p>第3回で学んだ再帰の応用です．
大きな問題を小さく分けて，小さな問題をさらに小さく分けて……
ベースケースに到達したら，結果を統合しながら戻っていく．」</p>
`,raw:"",frontmatter:Es,filepath:"",start:767,id:19,no:20},__clicksContext:null,__preloaded:!1}),Np={},Ts=b(Np),Lp=L({get layout(){return Ts.layout},get transition(){return Ts.transition},get class(){return Ts.class},get clicks(){return Ts.clicks},get name(){return Ts.name},get preload(){return Ts.preload},slide:{content:"",revision:"72d54f",note:"",title:"なぜ分割統治法は速いのか？",level:2,index:20,noteHTML:`<p>「なぜ分割統治法で速くなるのか？</p>
<p>問題サイズを半分にする操作を繰り返すと，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">N/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/2</span></span></span></span> → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi mathvariant="normal">/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">N/4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/4</span></span></span></span> → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋯</mo></mrow><annotation encoding="application/x-tex">\\cdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.313em;"></span><span class="minner">⋯</span></span></span></span> → 1 で <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi></mrow><annotation encoding="application/x-tex">\\log_2 N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 回の分割．</p>
<p>各レベルでの仕事量は合計で <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> です．</p>
<p>全体: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo><mo>×</mo><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N) \\times \\mathrm{O}(\\log N) = \\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> の差を具体的に見てみましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">N = 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span> のとき: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">N^2 = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span> 万 vs <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo>≈</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N \\log N \\approx 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 万．100倍の差．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">N = 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span> のとき: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">N^2 = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span> 億 vs <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo>≈</mo><mn>170</mn></mrow><annotation encoding="application/x-tex">N \\log N \\approx 170</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">170</span></span></span></span> 万．約6000倍の差．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>10000000</mn></mrow><annotation encoding="application/x-tex">N = 10000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10000000</span></span></span></span> のとき: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">N^2 = 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span> 兆 vs <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo>≈</mo><mn>2.3</mn></mrow><annotation encoding="application/x-tex">N \\log N \\approx 2.3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2.3</span></span></span></span> 億．約43万倍の差．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> が大きくなるほど差は開いていきます．
アルゴリズムを変えるだけで，これだけの差が出るのです．」</p>
`,raw:"",frontmatter:Ts,filepath:"",start:817,id:20,no:21},__clicksContext:null,__preloaded:!1}),Op={layout:"section-divider"},Cs=b(Op),Sp=L({get layout(){return Cs.layout},get transition(){return Cs.transition},get class(){return Cs.class},get clicks(){return Cs.clicks},get name(){return Cs.name},get preload(){return Cs.preload},slide:{content:"",revision:"telpxo",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 3",level:1,index:21,noteHTML:`<p>「では，分割統治法を使った2つの高速ソートを見ましょう．
マージソートとクイックソートです．」</p>
`,raw:"",frontmatter:Cs,filepath:"",start:868,id:21,no:22},__clicksContext:null,__preloaded:!1}),$p={},Ps=b($p),Ap=L({get layout(){return Ps.layout},get transition(){return Ps.transition},get class(){return Ps.class},get clicks(){return Ps.clicks},get name(){return Ps.name},get preload(){return Ps.preload},slide:{content:"",revision:"j5rlqc",note:"",title:"マージソート（Merge Sort）— 概要",level:2,index:22,noteHTML:`<p>「マージソートは分割統治法の教科書的な例です．</p>
<p>方針: 配列を半分に分割 → 再帰的にソート → ソート済み列をマージ（統合）</p>
<p>擬似コードはこうなります．</p>
<pre><code>merge_sort(A, left, right):
    if left &gt;= right: return       // ベースケース
    mid = (left + right) / 2
    merge_sort(A, left, mid)       // 左半分をソート
    merge_sort(A, mid+1, right)    // 右半分をソート
    merge(A, left, mid, right)     // 2つの列を統合
</code></pre>
<p>分割統治法の3ステップに対応させると，
分割は配列を半分に切るだけ ― <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> です．
征服は左半分と右半分をそれぞれ再帰的にソートする．
統合は2つのソート済み列をマージする ― <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> です．</p>
<p>マージソートでは，統合の部分に手間がかかります．」</p>
`,raw:"",frontmatter:Ps,filepath:"",start:882,id:22,no:23},__clicksContext:null,__preloaded:!1}),Ep={},zs=b(Ep),Tp=L({get layout(){return zs.layout},get transition(){return zs.transition},get class(){return zs.class},get clicks(){return zs.clicks},get name(){return zs.name},get preload(){return zs.preload},slide:{content:"",revision:"-xqk86s",note:"",title:"マージソートのトレース — 分割フェーズ",level:2,index:23,noteHTML:`<p>「配列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>38</mn><mo separator="true">,</mo><mn>27</mn><mo separator="true">,</mo><mn>43</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>9</mn><mo separator="true">,</mo><mn>82</mn><mo separator="true">,</mo><mn>10</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[38, 27, 43, 3, 9, 82, 10]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mclose">]</span></span></span></span> をマージソートでソートしましょう．</p>
<p>まず分割フェーズです．</p>
<p>レベル0: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>38</mn><mo separator="true">,</mo><mn>27</mn><mo separator="true">,</mo><mn>43</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>9</mn><mo separator="true">,</mo><mn>82</mn><mo separator="true">,</mo><mn>10</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[38, 27, 43, 3, 9, 82, 10]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mclose">]</span></span></span></span> ← 全体</p>
<p>レベル1: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>38</mn><mo separator="true">,</mo><mn>27</mn><mo separator="true">,</mo><mn>43</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[38, 27, 43, 3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo separator="true">,</mo><mn>82</mn><mo separator="true">,</mo><mn>10</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9, 82, 10]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mclose">]</span></span></span></span> ← 半分に分割</p>
<p>レベル2: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>38</mn><mo separator="true">,</mo><mn>27</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[38, 27]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>43</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[43, 3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">43</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo separator="true">,</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9, 82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>10</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[10]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">10</span><span class="mclose">]</span></span></span></span> ← さらに半分</p>
<p>レベル3: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>38</mn><mo stretchy="false">]</mo><mtext> </mtext><mo stretchy="false">[</mo><mn>27</mn><mo stretchy="false">]</mo><mtext> </mtext><mo stretchy="false">[</mo><mn>43</mn><mo stretchy="false">]</mo><mtext> </mtext><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo><mtext> </mtext><mo stretchy="false">[</mo><mn>9</mn><mo stretchy="false">]</mo><mtext> </mtext><mo stretchy="false">[</mo><mn>82</mn><mo stretchy="false">]</mo><mtext> </mtext><mo stretchy="false">[</mo><mn>10</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[38]\\ [27]\\ [43]\\ [3]\\ [9]\\ [82]\\ [10]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">38</span><span class="mclose">]</span><span class="mspace"> </span><span class="mopen">[</span><span class="mord">27</span><span class="mclose">]</span><span class="mspace"> </span><span class="mopen">[</span><span class="mord">43</span><span class="mclose">]</span><span class="mspace"> </span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mspace"> </span><span class="mopen">[</span><span class="mord">9</span><span class="mclose">]</span><span class="mspace"> </span><span class="mopen">[</span><span class="mord">82</span><span class="mclose">]</span><span class="mspace"> </span><span class="mopen">[</span><span class="mord">10</span><span class="mclose">]</span></span></span></span> ← 全部バラバラ</p>
<p>要素が1つだけの配列は，それ自体がソート済みです．
これがベースケース ― 第3回で学んだ再帰のベースケースですね．</p>
<p>ここから統合フェーズが始まります．」</p>
`,raw:"",frontmatter:zs,filepath:"",start:935,id:23,no:24},__clicksContext:null,__preloaded:!1}),Cp={},Ds=b(Cp),Pp=L({get layout(){return Ds.layout},get transition(){return Ds.transition},get class(){return Ds.class},get clicks(){return Ds.clicks},get name(){return Ds.name},get preload(){return Ds.preload},slide:{content:"",revision:"oyjn0v",note:"",title:"マージソートのトレース — 統合フェーズ",level:2,index:24,noteHTML:`<p>「統合フェーズでは，隣同士の配列をマージしていきます．</p>
<p>レベル3→2:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>38</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[38]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">38</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>27</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[27]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">27</span><span class="mclose">]</span></span></span></span> をマージ → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>27</mn><mo separator="true">,</mo><mn>38</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[27, 38]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">38</span><span class="mclose">]</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>43</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[43]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">43</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span></span></span></span> をマージ → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>43</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 43]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mclose">]</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">82</span><span class="mclose">]</span></span></span></span> をマージ → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo separator="true">,</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9, 82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mclose">]</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>10</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[10]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">10</span><span class="mclose">]</span></span></span></span> はそのまま</p>
<p>レベル2→1:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>27</mn><mo separator="true">,</mo><mn>38</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[27, 38]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">38</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>43</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 43]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mclose">]</span></span></span></span> をマージ → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>27</mn><mo separator="true">,</mo><mn>38</mn><mo separator="true">,</mo><mn>43</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 27, 38, 43]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mclose">]</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo separator="true">,</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9, 82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>10</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[10]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">10</span><span class="mclose">]</span></span></span></span> をマージ → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9, 10, 82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mclose">]</span></span></span></span></p>
<p>レベル1→0:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>27</mn><mo separator="true">,</mo><mn>38</mn><mo separator="true">,</mo><mn>43</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 27, 38, 43]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9, 10, 82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mclose">]</span></span></span></span> をマージ → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>9</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>27</mn><mo separator="true">,</mo><mn>38</mn><mo separator="true">,</mo><mn>43</mn><mo separator="true">,</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 9, 10, 27, 38, 43, 82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mclose">]</span></span></span></span></p>
<p>完成！
分割して，ベースケースまで降りて，マージしながら戻る ―
まさに再帰の下降と上昇ですね．」</p>
`,raw:"",frontmatter:Ds,filepath:"",start:980,id:24,no:25},__clicksContext:null,__preloaded:!1}),zp={},Rs=b(zp),Dp=L({get layout(){return Rs.layout},get transition(){return Rs.transition},get class(){return Rs.class},get clicks(){return Rs.clicks},get name(){return Rs.name},get preload(){return Rs.preload},slide:{content:"",revision:"-zgfih9",note:"",title:"マージ操作の詳細",level:2,index:25,noteHTML:`<p>「マージ操作を詳しく見ましょう．
2つのソート済み列をどうやって1つにまとめるか？</p>
<p>先頭同士を比較して，小さい方を取り出す．これを繰り返します．</p>
<p>左: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>27</mn><mo separator="true">,</mo><mn>38</mn><mo separator="true">,</mo><mn>43</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 27, 38, 43]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mclose">]</span></span></span></span>　右: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>9</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[9, 10, 82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mclose">]</span></span></span></span></p>
<p>3 vs 9 → 3を取る
27 vs 9 → 9を取る
27 vs 10 → 10を取る
27 vs 82 → 27を取る
38 vs 82 → 38を取る
43 vs 82 → 43を取る
右の82だけ残り → 82を取る</p>
<p>結果: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>9</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>27</mn><mo separator="true">,</mo><mn>38</mn><mo separator="true">,</mo><mn>43</mn><mo separator="true">,</mo><mn>82</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 9, 10, 27, 38, 43, 82]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">27</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">38</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">43</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">82</span><span class="mclose">]</span></span></span></span></p>
<p>マージは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> です．
各要素を1回ずつ見るだけで済みます．</p>
<p>ただし，マージのために元の配列とは別の作業領域が必要です．
これが追加メモリ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> という特徴に繋がります．」</p>
`,raw:"",frontmatter:Rs,filepath:"",start:1027,id:25,no:26},__clicksContext:null,__preloaded:!1}),Rp={},js=b(Rp),jp=L({get layout(){return js.layout},get transition(){return js.transition},get class(){return js.class},get clicks(){return js.clicks},get name(){return js.name},get preload(){return js.preload},slide:{content:"",revision:"-zhg5gi",note:"",title:"マージソートの計算量分析",level:2,index:26,noteHTML:`<p>「マージソートの計算量を分析しましょう．</p>
<p>再帰の各レベルでの仕事量を見ます．</p>
<p>レベル0: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 個の要素をマージ → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>
レベル1: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">N/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/2</span></span></span></span> 個ずつ2組をマージ → 合計 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>
レベル2: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi mathvariant="normal">/</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">N/4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">/4</span></span></span></span> 個ずつ4組をマージ → 合計 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>
……
レベル <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\\log N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>: 1個ずつ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 組 → 合計 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></p>
<p>各レベルの仕事量が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> で，レベル数が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi></mrow><annotation encoding="application/x-tex">\\log_2 N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>．</p>
<p>合計: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo><mo>×</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi><mo>=</mo><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N) \\times \\log_2 N = \\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></p>
<p>マージソートの特徴をまとめると:
常に <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> ― 最悪でも最良でも変わらない．安定的です．
追加メモリ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> が必要 ― マージのための作業領域．
安定ソート ― 同じ値の要素の順序が保たれます．」</p>
`,raw:"",frontmatter:js,filepath:"",start:1082,id:26,no:27},__clicksContext:null,__preloaded:!1}),Ip={},Is=b(Ip),Hp=L({get layout(){return Is.layout},get transition(){return Is.transition},get class(){return Is.class},get clicks(){return Is.clicks},get name(){return Is.name},get preload(){return Is.preload},slide:{content:"",revision:"-uzudbb",note:"",title:"クイックソート（Quick Sort）— 概要",level:2,index:27,noteHTML:`<p>「もう1つの高速ソート，クイックソートです．</p>
<p>クイックソートは実用的に最速のソートの1つです．</p>
<p>方針: ピボット（基準値）を選び，小さいグループと大きいグループに分割する．</p>
<p>擬似コードを見てください．</p>
<pre><code>quick_sort(A, low, high):
    if low &gt;= high: return
    pivot = A[high]
    i = partition(A, low, high, pivot)
    quick_sort(A, low, i-1)
    quick_sort(A, i+1, high)
</code></pre>
<p>マージソートとの違いが面白い．
マージソートは，分割は単純で，統合に手間がかかる．
クイックソートは，分割に手間がかかるが，統合は不要です．</p>
<p>パーティション操作でピボットを正しい位置に配置すると，
左側はすべてピボット以下，右側はすべてピボットより大きい．
あとは左右を再帰的にソートすれば完成します．」</p>
`,raw:"",frontmatter:Is,filepath:"",start:1133,id:27,no:28},__clicksContext:null,__preloaded:!1}),Vp={},Hs=b(Vp),Fp=L({get layout(){return Hs.layout},get transition(){return Hs.transition},get class(){return Hs.class},get clicks(){return Hs.clicks},get name(){return Hs.name},get preload(){return Hs.preload},slide:{content:"",revision:"n29rz0",note:"",title:"クイックソートのパーティション",level:2,index:28,noteHTML:`<p>「パーティション操作を具体的に見ましょう．</p>
<p>配列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5, 3, 8, 1, 2, 7, 4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span>，ピボット = 4（末尾の要素）とします．</p>
<p>ピボット以下のものを左に，ピボットより大きいものを右に分けます．</p>
<p>5 &gt; 4 → 右
3 ≤ 4 → 左
8 &gt; 4 → 右
1 ≤ 4 → 左
2 ≤ 4 → 左
7 &gt; 4 → 右</p>
<p>結果: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo><mtext> </mtext><mn mathvariant="bold">4</mn><mtext> </mtext><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 1, 2]\\ \\mathbf{4}\\ [5, 8, 7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span><span class="mspace"> </span><span class="mord mathbf">4</span><span class="mspace"> </span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mclose">]</span></span></span></span></p>
<p>ピボットの4は最終的な正しい位置に配置されました．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 1, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span> はすべて4以下，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[5, 8, 7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mclose">]</span></span></span></span> はすべて4より大きい．</p>
<p>あとは左右をそれぞれ再帰的にソートすれば完成です．」</p>
`,raw:"",frontmatter:Hs,filepath:"",start:1188,id:28,no:29},__clicksContext:null,__preloaded:!1}),qp={},Vs=b(qp),Bp=L({get layout(){return Vs.layout},get transition(){return Vs.transition},get class(){return Vs.class},get clicks(){return Vs.clicks},get name(){return Vs.name},get preload(){return Vs.preload},slide:{content:"",revision:"-tzwqaq",note:"",title:"クイックソートの最良と最悪",level:2,index:29,noteHTML:`<p>「クイックソートには最良ケースと最悪ケースがあります．</p>
<p>最良ケースは，ピボットが中央値のとき．
毎回ちょうど半分に分割される．
分割の深さは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\\log N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>，各レベルの仕事量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．
全体: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．</p>
<p>最悪ケースは，ピボットが最小値か最大値のとき．
毎回1個と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 個に分割される ― 全く半分にならない！
分割の深さが <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> になる．
各レベルの仕事量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．
全体: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>．</p>
<p>たとえば，すでにソート済みの配列で末尾をピボットにすると最悪ケースになります．
ピボットが常に最大値になってしまうからです．</p>
<p>ではどうすれば最悪ケースを避けられるか？」</p>
`,raw:"",frontmatter:Vs,filepath:"",start:1239,id:29,no:30},__clicksContext:null,__preloaded:!1}),Wp={},Fs=b(Wp),Jp=L({get layout(){return Fs.layout},get transition(){return Fs.transition},get class(){return Fs.class},get clicks(){return Fs.clicks},get name(){return Fs.name},get preload(){return Fs.preload},slide:{content:"",revision:"ol26d1",note:"",title:"ランダムピボット — 確率の力",level:2,index:30,noteHTML:`<p>「解決策は，ピボットをランダムに選ぶことです．</p>
<pre><code>quick_sort(A, low, high):
    if low &gt;= high: return
    r = random(low, high)
    swap(A[r], A[high])
    i = partition(A, low, high, A[high])
    quick_sort(A, low, i-1)
    quick_sort(A, i+1, high)
</code></pre>
<p>ランダムに選べば，最悪ケースに当たる確率は極めて低くなります．
平均計算量は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> が保証されます．</p>
<p>ここで第5回の確率が武器になります！
これは第5回で紹介したラスベガス型の確率的アルゴリズムです．
答えは常に正しいが，実行時間がランダム ―
でも平均的には <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> で非常に速い．</p>
<p>確率は弱さではなく武器 ― 第5回のメッセージがここで体現されています．」</p>
`,raw:"",frontmatter:Fs,filepath:"",start:1289,id:30,no:31},__clicksContext:null,__preloaded:!1}),Up={},qs=b(Up),Kp=L({get layout(){return qs.layout},get transition(){return qs.transition},get class(){return qs.class},get clicks(){return qs.clicks},get name(){return qs.name},get preload(){return qs.preload},slide:{content:"",revision:"-v9dcxi",note:"",title:"マージソート vs クイックソート",level:2,index:31,noteHTML:`<p>「2つの高速ソートを比較しましょう．</p>
<p>最悪計算量: マージソートは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>，クイックソートは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>．
平均計算量: どちらも <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．
追加メモリ: マージソートは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>，クイックソートは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(\\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．
安定性: マージソートは安定，クイックソートは不安定．
実用速度: マージソートは速い，クイックソートは非常に速い．</p>
<p>どちらを使うべきか？</p>
<p>安全性重視ならマージソート ― 最悪でも <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> が保証される．
速度重視ならクイックソート ― 平均的に最速クラス．
実際のプログラミング言語では，両方のいいとこ取りをしたハイブリッドソートが使われています．」</p>
`,raw:"",frontmatter:qs,filepath:"",start:1346,id:31,no:32},__clicksContext:null,__preloaded:!1}),Gp={},Bs=b(Gp),Qp=L({get layout(){return Bs.layout},get transition(){return Bs.transition},get class(){return Bs.class},get clicks(){return Bs.clicks},get name(){return Bs.name},get preload(){return Bs.preload},slide:{content:"",revision:"-29g5ml",note:"",title:"⏸ 練習: マージソートをトレースしよう",level:2,index:32,noteHTML:`<p>「動画を一時停止して，配列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>6</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[6, 2, 8, 4, 1, 7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mclose">]</span></span></span></span> をマージソートでソートしてみてください．</p>
<p>分割フェーズと統合フェーズの両方を紙に書いてみましょう．</p>
<p>……できましたか？</p>
<p>分割: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>6</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[6, 2, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4, 1, 7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mclose">]</span></span></span></span>
→ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>6</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[6, 2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">8</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4, 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">7</span><span class="mclose">]</span></span></span></span>
→ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>6</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[6]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">6</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">8</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">7</span><span class="mclose">]</span></span></span></span></p>
<p>統合:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>6</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[6]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">6</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span></span></span></span> → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2, 6]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">4</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span> → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>6</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2, 6]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">8</span><span class="mclose">]</span></span></span></span> → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2, 6, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">7</span><span class="mclose">]</span></span></span></span> → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 4, 7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mclose">]</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2, 6, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>7</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 4, 7]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mclose">]</span></span></span></span> → <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>6</mn><mo separator="true">,</mo><mn>7</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 2, 4, 6, 7, 8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span></p>
<p>ポイントは，各レベルで合計 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 個の要素を処理していること．
これが全体で <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> になる理由です．」</p>
`,raw:"",frontmatter:Bs,filepath:"",start:1389,id:32,no:33},__clicksContext:null,__preloaded:!1}),Zp={layout:"section-divider"},Ws=b(Zp),Yp=L({get layout(){return Ws.layout},get transition(){return Ws.transition},get class(){return Ws.class},get clicks(){return Ws.clicks},get name(){return Ws.name},get preload(){return Ws.preload},slide:{content:"",revision:"iwofek",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 4",level:1,index:33,noteHTML:`<p>「ここからは実用的なソートの世界を見ていきましょう．
ソートの安定性，実際の言語での実装，そして理論的な限界．」</p>
`,raw:"",frontmatter:Ws,filepath:"",start:1429,id:33,no:34},__clicksContext:null,__preloaded:!1}),Xp={layout:"interactive"},Js=b(Xp),sr=L({get layout(){return Js.layout},get transition(){return Js.transition},get class(){return Js.class},get clicks(){return Js.clicks},get name(){return Js.name},get preload(){return Js.preload},slide:{content:"",revision:"-qjj02c",frontmatterRaw:`layout: interactive
`,note:"",title:"ソートアルゴリズムを比較しよう",level:2,index:34,noteHTML:`<p>「画面のSortVisualizerを使って，実際に各ソートを比較してみましょう．
次のスライドで使い方と実験内容を説明します．」</p>
`,raw:"",frontmatter:Js,filepath:"",start:1442,id:34,no:35},__clicksContext:null,__preloaded:!1}),ar={},Us=b(ar),nr=L({get layout(){return Us.layout},get transition(){return Us.transition},get class(){return Us.class},get clicks(){return Us.clicks},get name(){return Us.name},get preload(){return Us.preload},slide:{content:"",revision:"-7je85g",note:"",title:"SortVisualizerの使い方",level:2,index:35,noteHTML:`<p>「SortVisualizerの使い方を説明します．</p>
<p>まず実験1．
ランダム配列（サイズ50）で5種のソートを実行してください．
バブル，選択，挿入，マージ，クイック．
ステップ数の違いを記録してください．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> と <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> の差が目に見えるはずです．</p>
<p>次に実験2．
ほぼソート済みの配列で同じことをしてください．
挿入ソートが特に速くなることを確認してください．</p>
<p>最後に実験3．
逆順の配列で同じことをしてください．
どのソートが特に遅くなるか観察してください．</p>
<p>実際にSortVisualizerを操作して，3つの実験を行ってください．
この実験結果が，学習課題の材料になります．」</p>
`,raw:"",frontmatter:Us,filepath:"",start:1456,id:35,no:36},__clicksContext:null,__preloaded:!1}),tr={},Ks=b(tr),er=L({get layout(){return Ks.layout},get transition(){return Ks.transition},get class(){return Ks.class},get clicks(){return Ks.clicks},get name(){return Ks.name},get preload(){return Ks.preload},slide:{content:"",revision:"-j7ysgb",note:"",title:"ソートの安定性とは",level:2,index:36,noteHTML:`<p>「ソートの安定性について説明します．</p>
<p>安定なソートとは，同じ値の要素の相対的な順序が保たれるソートです．</p>
<p>たとえばテストの点数でソートする場合を考えましょう．
田中さんが80点で1番目，佐藤さんも80点で3番目．</p>
<p>安定ソートでは，ソート後も田中さんが佐藤さんより前に来ます．
元の順序が保持される．</p>
<p>不安定ソートでは，佐藤さんが田中さんより前に来る可能性があります．</p>
<p>なぜ安定性が重要かというと，
まず名前順にソートして，次に点数順にソートすると，
安定ソートなら同点の人は名前順が保たれます．
複数のキーでソートするとき，安定性が効いてくるのです．</p>
<p>バブルソートと挿入ソートとマージソートは安定．
選択ソートとクイックソートは不安定です．」</p>
`,raw:"",frontmatter:Ks,filepath:"",start:1507,id:36,no:37},__clicksContext:null,__preloaded:!1}),mr={},Gs=b(mr),lr=L({get layout(){return Gs.layout},get transition(){return Gs.transition},get class(){return Gs.class},get clicks(){return Gs.clicks},get name(){return Gs.name},get preload(){return Gs.preload},slide:{content:"",revision:"7cnbc",note:"",title:"実際のプログラミング言語のソート",level:2,index:37,noteHTML:`<p>「実際のプログラミング言語でどんなソートが使われているか見てみましょう．</p>
<p>どの言語も，単一のアルゴリズムではなく，ハイブリッドソートを採用しています．</p>
<p>PythonとJavaのsortは TimSort を使っています．
TimSort はマージソートと挿入ソートの融合です．
データの中にすでにソート済みの部分があれば，それを検出してそのまま活かす．
小さな部分配列には挿入ソートを使う．
実際のデータは完全にランダムではなく，部分的にソート済みなことが多いので，
これが非常によく効きます．</p>
<p>C++ の std::sort は IntroSort を使っています．
IntroSort はクイックソートをベースに，再帰が深くなりすぎたらヒープソートに切り替える．
これで最悪 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> が保証されます．
ヒープソートは第11回で学びます．</p>
<p>JavaScriptの V8 エンジンも TimSort を採用しています．</p>
<p>どの言語も，今日学んだアルゴリズムの組み合わせで動いているのです．」</p>
`,raw:"",frontmatter:Gs,filepath:"",start:1562,id:37,no:38},__clicksContext:null,__preloaded:!1}),pr={},Qs=b(pr),rr=L({get layout(){return Qs.layout},get transition(){return Qs.transition},get class(){return Qs.class},get clicks(){return Qs.clicks},get name(){return Qs.name},get preload(){return Qs.preload},slide:{content:"",revision:"-bfau30",note:"",title:"比較ソートの限界 — $\\mathrm{O}(N \\log N)$ は超えられるか？",level:2,index:38,noteHTML:`<p>「ここで1つ面白い問いを考えましょう．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> よりもっと速いソートはないのか？
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> のソートは可能か？</p>
<p>答えは ―
要素の大小比較だけで並べ替える『比較ベースのソート』では不可能です．</p>
<p>定理として，比較ベースのソートは最悪 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\Omega(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> 回の比較が必要と証明されています．</p>
<p>直感的な理由を説明します．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 個の要素の並べ方は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">N!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">!</span></span></span></span> 通りあります．
1回の比較で可能性が最大半分に減ります．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">!</mo></mrow><annotation encoding="application/x-tex">N!</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">!</span></span></span></span> 通りを1通りに絞るのに必要な比較回数は，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">!</mo><mo stretchy="false">)</mo><mo>≈</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\\log_2(N!) \\approx N \\log N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">!)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> です．</p>
<p>つまり，マージソートやクイックソートは最適に近いのです．
これ以上の改善は比較の枠内では不可能 ―
別のアプローチ（数え上げソートや基数ソートなど）が必要になりますが，
それはこの授業の範囲外です．」</p>
`,raw:"",frontmatter:Qs,filepath:"",start:1608,id:38,no:39},__clicksContext:null,__preloaded:!1}),or={layout:"section-divider"},Zs=b(or),ir=L({get layout(){return Zs.layout},get transition(){return Zs.transition},get class(){return Zs.class},get clicks(){return Zs.clicks},get name(){return Zs.name},get preload(){return Zs.preload},slide:{content:"",revision:"-p5h6uq",frontmatterRaw:`layout: section-divider
`,note:"",title:"Part 5",level:1,index:39,noteHTML:`<p>「最後にまとめと確認問題です．」</p>
`,raw:"",frontmatter:Zs,filepath:"",start:1658,id:39,no:40},__clicksContext:null,__preloaded:!1}),cr={layout:"summary"},Ys=b(cr),hr=L({get layout(){return Ys.layout},get transition(){return Ys.transition},get class(){return Ys.class},get clicks(){return Ys.clicks},get name(){return Ys.name},get preload(){return Ys.preload},slide:{content:"",revision:"jvla42",frontmatterRaw:`layout: summary
`,note:"",title:"本日のまとめ",level:2,index:40,noteHTML:`<p>「今日のポイントを6つにまとめます．</p>
<p>1つ目，基本ソート3種は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>．
バブルは隣同士交換，選択は最小値を選ぶ，挿入は正しい位置に差し込む．</p>
<p>2つ目，挿入ソートはほぼソート済みデータに強い．最良 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．実用的にも重要．</p>
<p>3つ目，分割統治法．分割→征服→統合の3ステップ．再帰の応用．</p>
<p>4つ目，マージソート．常に <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．安定．追加メモリ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．</p>
<p>5つ目，クイックソート．平均 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．ランダムピボットで最悪回避．実用的に最速．</p>
<p>6つ目，比較ソートの下限は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\Omega(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．これ以上の高速化は比較の枠内では不可能．</p>
<p>教科書の対応箇所は第5章の5.1から5.6です．」</p>
`,raw:"",frontmatter:Ys,filepath:"",start:1670,id:40,no:41},__clicksContext:null,__preloaded:!1}),ur={layout:"question"},Xs=b(ur),gr=L({get layout(){return Xs.layout},get transition(){return Xs.transition},get class(){return Xs.class},get clicks(){return Xs.clicks},get name(){return Xs.name},get preload(){return Xs.preload},slide:{content:"",revision:"-523fal",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ①",level:2,index:41,noteHTML:`<p>「確認問題です．</p>
<p>次のうち，最悪計算量が <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> のソートアルゴリズムはどれか？</p>
<p>選択肢は，バブルソート，選択ソート，マージソート，挿入ソート．</p>
<p>……答えは3番のマージソートです．</p>
<p>マージソートは分割統治法により常に <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span>．
バブル・選択・挿入は最悪 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> です．
クイックソートも最悪は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ですが，選択肢にはありませんね．」</p>
`,raw:"",frontmatter:Xs,filepath:"",start:1708,id:41,no:42},__clicksContext:null,__preloaded:!1}),dr={layout:"question"},sa=b(dr),fr=L({get layout(){return sa.layout},get transition(){return sa.transition},get class(){return sa.class},get clicks(){return sa.clicks},get name(){return sa.name},get preload(){return sa.preload},slide:{content:"",revision:"-qhldcs",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ②",level:2,index:42,noteHTML:`<p>「2問目です．</p>
<p>配列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3, 1, 4, 1, 5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span> を挿入ソートでソートするとき，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">i = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>（key = 1）のステップで，keyが挿入される位置はどこか？</p>
<p>選択肢は，先頭（位置0），位置1，位置2，位置3（そのまま）．</p>
<p>……答えを考えてみてください．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">i = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span> のとき，ソート済み部分は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[1, 3, 4]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span> で，key = 1 です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">4 &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> なのでずらす，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3 &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> なのでずらす，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \\leq 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> でストップ．
keyは位置1に挿入されます．</p>
<p>答えは2番の位置1です．」</p>
`,raw:"",frontmatter:sa,filepath:"",start:1753,id:42,no:43},__clicksContext:null,__preloaded:!1}),yr={layout:"question"},aa=b(yr),wr=L({get layout(){return aa.layout},get transition(){return aa.transition},get class(){return aa.class},get clicks(){return aa.clicks},get name(){return aa.name},get preload(){return aa.preload},slide:{content:"",revision:"-9ws8at",frontmatterRaw:`layout: question
`,note:"",title:"確認問題 ③",level:2,index:43,noteHTML:`<p>「最後の確認問題．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>100000</mn></mrow><annotation encoding="application/x-tex">N = 100000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100000</span></span></span></span> のデータをソートするとき，
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> のソートと <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>N</mi><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\mathrm{O}(N \\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span> のソートでは，
計算量はおよそ何倍違うか？</p>
<p>選択肢は，約10倍，約100倍，約6000倍，約100000倍．</p>
<p>……答えは3番の約6000倍です．</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>N</mi><mn>2</mn></msup><mo>=</mo><msup><mn>10</mn><mn>10</mn></msup></mrow><annotation encoding="application/x-tex">N^2 = 10^{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span></span></span></span></span></span></span>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi><mo>≈</mo><mn>100000</mn><mo>×</mo><mn>17</mn><mo>=</mo><mn>1700000</mn></mrow><annotation encoding="application/x-tex">N \\log_2 N \\approx 100000 \\times 17 = 1700000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9386em;vertical-align:-0.2441em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">100000</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">17</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1700000</span></span></span></span>．
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>10</mn></msup><mo>÷</mo><mn>1700000</mn><mo>≈</mo><mn>5900</mn></mrow><annotation encoding="application/x-tex">10^{10} \\div 1700000 \\approx 5900</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1700000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5900</span></span></span></span> 倍．</p>
<p>アルゴリズムを変えるだけで，約6000倍の差が出る．
第4回で見た100万倍の高速化に匹敵する改善ですね．」</p>
`,raw:"",frontmatter:aa,filepath:"",start:1800,id:43,no:44},__clicksContext:null,__preloaded:!1}),xr={},na=b(xr),kr=L({get layout(){return na.layout},get transition(){return na.transition},get class(){return na.class},get clicks(){return na.clicks},get name(){return na.name},get preload(){return na.preload},slide:{content:"",revision:"g3r1eq",note:"",title:"学習課題",level:2,index:44,noteHTML:`<p>「学習課題です．</p>
<p>SortVisualizerを使って以下に取り組んでください．</p>
<p>課題1．5種のソート（バブル・選択・挿入・マージ・クイック）を
ランダム配列（サイズ50）で実行し，ステップ数を記録しなさい．</p>
<p>課題2．ほぼソート済みの配列の場合に有利なソートはどれか，
理由とともに述べなさい．</p>
<p>課題3．マージソートとクイックソートの長所と短所をそれぞれ1つずつ述べなさい．</p>
<p>提出先: LMS
締切: 翌週の授業前日</p>
<p>質問がある場合はLMSの質問掲示板を活用してください．」</p>
`,raw:"",frontmatter:na,filepath:"",start:1851,id:44,no:45},__clicksContext:null,__preloaded:!1}),vr={},ta=b(vr),Mr=L({get layout(){return ta.layout},get transition(){return ta.transition},get class(){return ta.class},get clicks(){return ta.clicks},get name(){return ta.name},get preload(){return ta.preload},slide:{content:"",revision:"-yq95l7",note:"",title:"次回予告",level:2,index:45,noteHTML:`<p>「次回は <strong>データ構造入門</strong> ．対面授業に戻ります．</p>
<p>スタック ― Ctrl+Zの『元に戻す』機能の仕組み．Last In, First Out．
キュー ― プリンタの印刷順序．First In, First Out．
配列 vs 連結リスト ― データの格納方法の選択．</p>
<p>予告クイズです．
コンビニのレジに並んでいる行列と，積み上げた洗い物の皿．
それぞれどちらのデータ構造に対応するでしょうか？</p>
<p>行列はキュー ― 先に並んだ人が先に出る．
皿はスタック ― 最後に載せた皿が最初に取り出される．</p>
<p>教科書の第6章に目を通しておいてください．</p>
<p>それでは今日はここまで．
次回は対面授業に戻りますので，教室でお会いしましょう．」</p>
`,raw:"",frontmatter:ta,filepath:"",start:1886,id:45,no:46},__clicksContext:null,__preloaded:!1}),$=new Array(46),S=(a,s)=>Lm({loader:s,delay:300,loadingComponent:jl,errorComponent:O,onError:n=>console.error("Failed to load slide "+(a+1),n)}),wt=async()=>{try{return $[0]??=await M(()=>import("./md-CF0g2Nxq.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},xt=async()=>{try{return $[1]??=await M(()=>import("./md-CPVbZFiG.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},kt=async()=>{try{return $[2]??=await M(()=>import("./md-CI1as4Or.js"),__vite__mapDeps([6,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},vt=async()=>{try{return $[3]??=await M(()=>import("./md-igmsDR33.js"),__vite__mapDeps([8,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Mt=async()=>{try{return $[4]??=await M(()=>import("./md-CAGStc0r.js"),__vite__mapDeps([9,1,10,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},bt=async()=>{try{return $[5]??=await M(()=>import("./md-Df-jgQdN.js"),__vite__mapDeps([11,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},_t=async()=>{try{return $[6]??=await M(()=>import("./md-DUvse9m0.js"),__vite__mapDeps([12,13,14,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Nt=async()=>{try{return $[7]??=await M(()=>import("./md-cjnYgFLe.js"),__vite__mapDeps([15,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Lt=async()=>{try{return $[8]??=await M(()=>import("./md-Be-I_DMm.js"),__vite__mapDeps([16,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Ot=async()=>{try{return $[9]??=await M(()=>import("./md-CKpIgurI.js"),__vite__mapDeps([17,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},St=async()=>{try{return $[10]??=await M(()=>import("./md-BQXVNLsS.js"),__vite__mapDeps([18,1,2,19,3,4,20]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},$t=async()=>{try{return $[11]??=await M(()=>import("./md-XI4uEIsI.js"),__vite__mapDeps([21,13,14,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},At=async()=>{try{return $[12]??=await M(()=>import("./md-CUGZfxIB.js"),__vite__mapDeps([22,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Et=async()=>{try{return $[13]??=await M(()=>import("./md-CGe7Me29.js"),__vite__mapDeps([23,13,14,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Tt=async()=>{try{return $[14]??=await M(()=>import("./md-BycCm2Ik.js"),__vite__mapDeps([24,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Ct=async()=>{try{return $[15]??=await M(()=>import("./md-Cll-7C5c.js"),__vite__mapDeps([25,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Pt=async()=>{try{return $[16]??=await M(()=>import("./md-B-jRcfz3.js"),__vite__mapDeps([26,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},zt=async()=>{try{return $[17]??=await M(()=>import("./md-QzninxUJ.js"),__vite__mapDeps([27,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Dt=async()=>{try{return $[18]??=await M(()=>import("./md-BmD73Z5l.js"),__vite__mapDeps([28,1,10,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Rt=async()=>{try{return $[19]??=await M(()=>import("./md-SZKqiiMs.js"),__vite__mapDeps([29,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},jt=async()=>{try{return $[20]??=await M(()=>import("./md-5R8ejMJf.js"),__vite__mapDeps([30,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},It=async()=>{try{return $[21]??=await M(()=>import("./md-BVVwN5qI.js"),__vite__mapDeps([31,1,10,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Ht=async()=>{try{return $[22]??=await M(()=>import("./md-vu6v7UMB.js"),__vite__mapDeps([32,13,14,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Vt=async()=>{try{return $[23]??=await M(()=>import("./md-BaSO0IoR.js"),__vite__mapDeps([33,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Ft=async()=>{try{return $[24]??=await M(()=>import("./md-BpLIrs0V.js"),__vite__mapDeps([34,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},qt=async()=>{try{return $[25]??=await M(()=>import("./md-DDUSXU8A.js"),__vite__mapDeps([35,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Bt=async()=>{try{return $[26]??=await M(()=>import("./md-CX_akVkm.js"),__vite__mapDeps([36,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Wt=async()=>{try{return $[27]??=await M(()=>import("./md-aZyEZHIE.js"),__vite__mapDeps([37,13,14,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Jt=async()=>{try{return $[28]??=await M(()=>import("./md-CGPHHJSP.js"),__vite__mapDeps([38,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Ut=async()=>{try{return $[29]??=await M(()=>import("./md-DeRNLMmR.js"),__vite__mapDeps([39,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Kt=async()=>{try{return $[30]??=await M(()=>import("./md-CIJ3Bebv.js"),__vite__mapDeps([40,13,14,1,2,7,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Gt=async()=>{try{return $[31]??=await M(()=>import("./md-DjZQzOcK.js"),__vite__mapDeps([41,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Qt=async()=>{try{return $[32]??=await M(()=>import("./md-IoifZbF8.js"),__vite__mapDeps([42,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Zt=async()=>{try{return $[33]??=await M(()=>import("./md-D2_-ooL6.js"),__vite__mapDeps([43,1,10,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Yt=async()=>{try{return $[34]??=await M(()=>import("./md-DZQgzHjn.js"),__vite__mapDeps([44,1,2,19,3,4,45]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},Xt=async()=>{try{return $[35]??=await M(()=>import("./md-56uE-xGd.js"),__vite__mapDeps([46,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},se=async()=>{try{return $[36]??=await M(()=>import("./md-DJtBnCtD.js"),__vite__mapDeps([47,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},ae=async()=>{try{return $[37]??=await M(()=>import("./md-CwjlMvuP.js"),__vite__mapDeps([48,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},ne=async()=>{try{return $[38]??=await M(()=>import("./md-D1epVRvl.js"),__vite__mapDeps([49,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},te=async()=>{try{return $[39]??=await M(()=>import("./md-Br77P1ct.js"),__vite__mapDeps([50,1,10,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},ee=async()=>{try{return $[40]??=await M(()=>import("./md-BIp4Yj8t.js"),__vite__mapDeps([51,1,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},me=async()=>{try{return $[41]??=await M(()=>import("./md-Gdv0DyQh.js"),__vite__mapDeps([52,1,53,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},le=async()=>{try{return $[42]??=await M(()=>import("./md-BSnUjizn.js"),__vite__mapDeps([54,1,53,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},pe=async()=>{try{return $[43]??=await M(()=>import("./md-CU4nMPVN.js"),__vite__mapDeps([55,1,53,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},re=async()=>{try{return $[44]??=await M(()=>import("./md-Dq1iABtZ.js"),__vite__mapDeps([56,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},oe=async()=>{try{return $[45]??=await M(()=>import("./md-DV8j4Y0m.js"),__vite__mapDeps([57,1,7,2,3,4]),import.meta.url)}catch(a){return console.error("slide failed to load",a),O}},br=[{no:1,meta:Hl,load:wt,component:S(0,wt)},{no:2,meta:Fl,load:xt,component:S(1,xt)},{no:3,meta:Bl,load:kt,component:S(2,kt)},{no:4,meta:Jl,load:vt,component:S(3,vt)},{no:5,meta:Kl,load:Mt,component:S(4,Mt)},{no:6,meta:Ql,load:bt,component:S(5,bt)},{no:7,meta:Yl,load:_t,component:S(6,_t)},{no:8,meta:sp,load:Nt,component:S(7,Nt)},{no:9,meta:np,load:Lt,component:S(8,Lt)},{no:10,meta:ep,load:Ot,component:S(9,Ot)},{no:11,meta:lp,load:St,component:S(10,St)},{no:12,meta:rp,load:$t,component:S(11,$t)},{no:13,meta:ip,load:At,component:S(12,At)},{no:14,meta:hp,load:Et,component:S(13,Et)},{no:15,meta:gp,load:Tt,component:S(14,Tt)},{no:16,meta:fp,load:Ct,component:S(15,Ct)},{no:17,meta:wp,load:Pt,component:S(16,Pt)},{no:18,meta:kp,load:zt,component:S(17,zt)},{no:19,meta:Mp,load:Dt,component:S(18,Dt)},{no:20,meta:_p,load:Rt,component:S(19,Rt)},{no:21,meta:Lp,load:jt,component:S(20,jt)},{no:22,meta:Sp,load:It,component:S(21,It)},{no:23,meta:Ap,load:Ht,component:S(22,Ht)},{no:24,meta:Tp,load:Vt,component:S(23,Vt)},{no:25,meta:Pp,load:Ft,component:S(24,Ft)},{no:26,meta:Dp,load:qt,component:S(25,qt)},{no:27,meta:jp,load:Bt,component:S(26,Bt)},{no:28,meta:Hp,load:Wt,component:S(27,Wt)},{no:29,meta:Fp,load:Jt,component:S(28,Jt)},{no:30,meta:Bp,load:Ut,component:S(29,Ut)},{no:31,meta:Jp,load:Kt,component:S(30,Kt)},{no:32,meta:Kp,load:Gt,component:S(31,Gt)},{no:33,meta:Qp,load:Qt,component:S(32,Qt)},{no:34,meta:Yp,load:Zt,component:S(33,Zt)},{no:35,meta:sr,load:Yt,component:S(34,Yt)},{no:36,meta:nr,load:Xt,component:S(35,Xt)},{no:37,meta:er,load:se,component:S(36,se)},{no:38,meta:lr,load:ae,component:S(37,ae)},{no:39,meta:rr,load:ne,component:S(38,ne)},{no:40,meta:ir,load:te,component:S(39,te)},{no:41,meta:hr,load:ee,component:S(40,ee)},{no:42,meta:gr,load:me,component:S(41,me)},{no:43,meta:fr,load:le,component:S(42,le)},{no:44,meta:wr,load:pe,component:S(43,pe)},{no:45,meta:kr,load:re,component:S(44,re)},{no:46,meta:Mr,load:oe,component:S(45,oe)}],ts=Jn(br);function Ci(a){if(typeof a=="number")return{seconds:a,relative:!1};const s=a.startsWith("+");s&&(a=a.slice(1));let n=0;if(a.includes(":")){const t=a.split(":").map(Number);let e=0,m=0,l=0;if(t.length===3)e=t[0],m=t[1],l=t[2];else if(t.length===2)m=t[0],l=t[1];else if(t.length===1)l=t[0];else throw new TypeError("Invalid timestamp format");if(Number.isNaN(e)||Number.isNaN(m)||Number.isNaN(l))throw new TypeError("Invalid timestamp format");n=(e||0)*3600+(m||0)*60+(l||0)}else if(!a.match(/[a-z]/i))n=Number(a);else{const t={s:1,sec:1,secs:1,m:60,min:60,mins:60,h:3600,hr:3600,hrs:3600,hour:3600,hours:3600,day:86400,days:86400,week:604800,weeks:604800,month:2629746,months:2629746,year:31556952,years:31556952},e=/([\d.]+)([a-z]+)/gi,m=a.matchAll(e);if(m)for(const p of m){const r=Number(p[1]);if(Number.isNaN(r))throw new TypeError(`Invalid timestamp value: ${p[1]}`);const o=p[2].toLowerCase();if(!(o in t))throw new TypeError(`Invalid timestamp unit: ${o}`);n+=r*t[o]}const l=a.replace(e,"").trim();if(l)throw new TypeError(`Unknown timestamp remaining: ${l}`)}return{seconds:n,relative:s}}function Ie(a,s){if(!s||s==="all"||s==="*")return it(1,a+1);if(s==="none")return[];const n=[];for(const t of s.split(/[,;]/g))if(!t.includes("-"))n.push(+t);else{const[e,m]=t.split("-",2);n.push(...it(+e,m?+m+1:a+1))}return Ym(n).filter(t=>t<=a).sort((t,e)=>t-e)}const pn="$$slidev-clicks-context",Un="$$slidev-page",He="$$slidev-slide-element",_r="$$slidev-slide-scale",Nr="$$slidev-context",Pi="$$slidev-route",Kn="$$slidev-render-context",Lr="$$slidev-fontmatter",Or="$$slidev-slide-zoom",Fa="slidev-vclick-target",Ma="slidev-vclick-hidden",ba="slidev-vclick-fade",wn="slidev-vclick-hidden-explicitly",xn="slidev-vclick-current",kn="slidev-vclick-prior",qa=999999,Sr=["localhost","127.0.0.1"],$r=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],zi=[...$r,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","monacoRunUseStrict","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta","notesAutoRuby","magicMoveDuration","preloadImages"];function Ar(a,s,{mode:n="replace"}={}){const t=mn();return v({get(){const e=t.currentRoute.value.query[a];return e==null?s:Array.isArray(e)?e.filter(Boolean):e},set(e){Om(()=>{(t.currentRoute.value.query[a]??s?.toString())!==e.toString()&&t[Sm(n)]({query:{...t.currentRoute.value.query,[a]:`${e}`===s?void 0:e}})})}})}function rn(a){return ts.value.find(s=>s.no===+a||s.meta.slide?.frontmatter.routeAlias===a)}function ua(a,s,n=!1){(typeof a=="number"||typeof a=="string")&&(a=rn(a));const t=a.meta.slide?.frontmatter.routeAlias??a.no;return n?`/export/${t}`:s?`/presenter/${t}`:`/${t}`}const Er={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Tr(a,s=!1){if(!a||(typeof a=="string"&&(a={name:a}),!a.name))return;let n=a.name.includes("|")?a.name:Er[a.name]||a.name;if(n.includes("|")){const[t,e]=n.split("|").map(m=>m.trim());n=s?e:t}if(n)return{...a,name:n}}function Cr(a,s,n){let t=a>0?n?.meta?.transition:s?.meta?.transition;return t||(t=R.transition||void 0),Tr(t,a<0)}const Di=E(!1),Ri=E(!1),ji=E(!1),Pr=E(!1),Gn=E(!1),Ii=E(!1),Hi=E(!0),zr=b(new Set),Vi=v(()=>zr.size>0),Fi=Em({xs:460,...Cm}),Za=Pm(),qi=$m(),Bi=v(()=>Za.height.value-Za.width.value/Ee.value>120),Wi=Am(ln?document.body:null),Ve=Tm(),Ji=v(()=>["INPUT","TEXTAREA"].includes(Ve.value?.tagName||"")),Ui=v(()=>["BUTTON","A"].includes(Ve.value?.tagName||""));B("slidev-camera","default",{listenToStorageChanges:!1});B("slidev-mic","default",{listenToStorageChanges:!1});const Dr=B("slidev-scale",0),Ki=B("slidev-wake-lock",!0),Gi=B("slidev-hide-cursor-idle",!0);B("slidev-skip-export-pdf-tip",!1);B("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const Qi=B("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),Rr=B("slidev-show-editor",!1,{listenToStorageChanges:!1}),jr=B("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),Ir=B("slidev-editor-width",ln?window.innerWidth*.4:318,{listenToStorageChanges:!1}),Hr=B("slidev-editor-height",ln?window.innerHeight*.4:300,{listenToStorageChanges:!1}),Pa=Jn(null),Ya=B("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),za=B("slidev-presenter-layout",1,{listenToStorageChanges:!1}),zn={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},Vr=B("slidev-viewer-css-filter",zn,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),Zi=v(()=>Object.keys(zn).some(a=>Vr.value[a]!==zn[a]));function Yi(){za.value=za.value+1,za.value>3&&(za.value=1)}function Xi(){Ya.value=Math.min(2,Ya.value+.1)}function sc(){Ya.value=Math.max(.5,Ya.value-.1)}const ac=Se(Pr),Da=B("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Fe(a,s,n=1){const t=s.meta.slide.level??n;t&&t>n&&a.length>0?Fe(a[a.length-1].children,s,n+1):a.push({no:s.no,children:[],level:n,titleLevel:t,path:ua(s.meta.slide?.frontmatter?.routeAlias??s.no,!1),hideInToc:!!s.meta?.slide?.frontmatter?.hideInToc,title:s.meta?.slide?.title})}function qe(a,s,n=!1,t,e){return a.map(m=>{const l={...m,active:m.no===e?.value,hasActiveParent:n};return l.children.length>0&&(l.children=qe(l.children,s,l.active||l.hasActiveParent,l,e)),t&&(l.active||l.activeParent)&&(t.activeParent=!0),l})}function Be(a,s=1){return a.filter(n=>!n.hideInToc).map(n=>({...n,children:Be(n.children,s+1)}))}function Fr(a,s,n){const t=v(()=>a.value.filter(m=>m.meta?.slide?.title).reduce((m,l)=>(Fe(m,l),m),[])),e=v(()=>qe(t.value,n.value,void 0,void 0,s));return v(()=>Be(e.value))}function qr(a,s,n=E(0),t,e,m){const l=v(()=>ts.value.length),p=E(0),r=E(0),o=v(()=>ua(a.value,t.value)),c=v(()=>a.value.no),u=v(()=>a.value.meta?.layout||(c.value===1?"cover":"default")),h=v(()=>s.value.current),i=v(()=>s.value.clicksStart),d=v(()=>s.value.total),g=v(()=>ts.value[Math.min(ts.value.length,c.value+1)-1]),f=v(()=>ts.value[Math.max(1,c.value-1)-1]),y=v(()=>c.value<ts.value.length||h.value<d.value),w=v(()=>c.value>1||h.value>0),x=v(()=>e.value?void 0:Cr(p.value,a.value,f.value));ss(a,(I,z)=>{p.value=I.no-z.no});async function k(I){return!1}const _=Fr(ts,c,a);async function T(){r.value=1,d.value<=n.value?await V():n.value+=1}async function P(){r.value=-1,n.value<=i.value?await J(!0):n.value-=1}async function V(I=!1){r.value=1,c.value<ts.value.length&&await A(c.value+1,I&&!e.value?qa:void 0)}async function J(I=!1){r.value=-1,c.value>1&&await A(c.value-1,I&&!e.value?qa:void 0)}function rs(){return A(1)}function Y(){return A(l.value)}async function A(I,z=0,ls=!1){Gn.value=!1;const os=c.value!==I,ka=z!==n.value,G=rn(I)?.meta,j=G?.slide?.frontmatter.clicksStart??0;z=En(z,j,G?.__clicksContext?.total??qa),(ls||os||ka)&&await m?.push({path:ua(I,t.value,m.currentRoute.value.name==="export"),query:{...m.currentRoute.value.query,clicks:z===0?void 0:z.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function C(){m?.push({path:ua(c.value,!0),query:{...m.currentRoute.value.query}})}function F(){m?.push({path:ua(c.value,!1),query:{...m.currentRoute.value.query}})}return{slides:ts,total:l,currentPath:o,currentSlideNo:c,currentPage:c,currentSlideRoute:a,currentLayout:u,currentTransition:x,clicksDirection:r,nextRoute:g,prevRoute:f,clicksContext:s,clicks:h,clicksStart:i,clicksTotal:d,hasNext:y,hasPrev:w,tocTree:_,navDirection:p,openInEditor:k,next:T,prev:P,go:A,goLast:Y,goFirst:rs,nextSlide:V,prevSlide:J,enterPresenter:C,exitPresenter:F}}const Br=$e(()=>{const a=mn(),s=zm(),n=v(()=>(a?.currentRoute?.value?.query,new URLSearchParams(location.search))),t=v(()=>n.value.has("print")||s.name==="export"),e=E(n.value.get("print")==="clicks"),m=v(()=>n.value.has("embedded")),l=v(()=>s.name==="play"),p=v(()=>s.name==="presenter"),r=v(()=>s.name==="notes"),o=v(()=>!p.value&&(!R.remote||n.value.get("password")===R.remote)),c=v(()=>!!s.params.no),u=v(()=>c.value?rn(s.params.no)?.no??1:1),h=v(()=>ts.value[u.value-1]),i=E(Ie(ts.value.length,s?.query?.range)),d=Ar("clicks","0"),g=v(()=>y(h.value)),f=v({get(){let w=+(d.value||0);return Number.isNaN(w)&&(w=0),w},set(w){Gn.value=!1,d.value=w.toString()}});function y(w){if(w?.meta?.__clicksContext)return w.meta.__clicksContext;const x=w.no,k=je(v({get(){return u.value===x?Math.max(+(d.value??0),k.clicksStart):u.value>x?qa:k.clicksStart},set(_){u.value===x&&(d.value=_.toString())}}),w?.meta.slide?.frontmatter.clicksStart??0,w?.meta.clicks);return w?.meta&&(w.meta.__clicksContext=k),k}return{router:a,currentRoute:v(()=>s),isPrintMode:t,isPrintWithClicks:e,isEmbedded:m,isPlaying:l,isPresenter:p,isNotesViewer:r,isPresenterAvailable:o,hasPrimarySlide:c,currentSlideNo:u,currentSlideRoute:h,clicksContext:g,queryClicksRaw:d,queryClicks:f,printRange:i,getPrimaryClicks:y}}),xa=$e(()=>{const a=Br(),s=mn(),n=qr(a.currentSlideRoute,a.clicksContext,a.queryClicks,a.isPresenter,a.isPrintMode,s);return ss([n.total,a.currentRoute],async()=>{const t=a.currentRoute.value.params.no;a.hasPrimarySlide.value&&!rn(t)&&(t&&t!=="index.html"?await n.go(n.total.value,0,!0):await n.go(1,0,!0))},{flush:"pre",immediate:!0}),{...n,...a}}),ie=Dm(),vn=B("slidev-color-schema","auto"),ce=v(()=>R.colorSchema!=="auto"),We=v({get(){return ce.value?R.colorSchema==="dark":vn.value==="auto"?ie.value:vn.value==="dark"},set(a){ce.value||(vn.value=a===ie.value?"auto":a?"dark":"light")}}),nc=Se(We);if(ln){const a="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ss(We,s=>{const n=window.document.createElement("style");n.appendChild(document.createTextNode(a)),window.document.head.appendChild(n);const t=document.querySelector("html");t.classList.toggle("dark",s),t.classList.toggle("light",!s),window.getComputedStyle(n).opacity,document.head.removeChild(n)},{immediate:!0})}function Wr(){const{isPrintMode:a}=xa();Rm(v(()=>a.value?`
@page {
  size: ${Te.value}px ${al.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const Qn=Symbol.for("yaml.alias"),Jr=Symbol.for("yaml.document"),pa=Symbol.for("yaml.map"),Je=Symbol.for("yaml.pair"),Zn=Symbol.for("yaml.scalar"),Ea=Symbol.for("yaml.seq"),ms=Symbol.for("yaml.node.type"),ra=a=>!!a&&typeof a=="object"&&a[ms]===Qn,on=a=>!!a&&typeof a=="object"&&a[ms]===Jr,Ue=a=>!!a&&typeof a=="object"&&a[ms]===pa,q=a=>!!a&&typeof a=="object"&&a[ms]===Je,H=a=>!!a&&typeof a=="object"&&a[ms]===Zn,Yn=a=>!!a&&typeof a=="object"&&a[ms]===Ea;function Z(a){if(a&&typeof a=="object")switch(a[ms]){case pa:case Ea:return!0}return!1}function W(a){if(a&&typeof a=="object")switch(a[ms]){case Qn:case pa:case Zn:case Ea:return!0}return!1}const Ke=a=>(H(a)||Z(a))&&!!a.anchor,ea=Symbol("break visit"),Ur=Symbol("skip children"),Oa=Symbol("remove node");function cn(a,s){const n=Kr(s);on(a)?ga(null,a.contents,n,Object.freeze([a]))===Oa&&(a.contents=null):ga(null,a,n,Object.freeze([]))}cn.BREAK=ea;cn.SKIP=Ur;cn.REMOVE=Oa;function ga(a,s,n,t){const e=Gr(a,s,n,t);if(W(e)||q(e))return Qr(a,t,e),ga(a,e,n,t);if(typeof e!="symbol"){if(Z(s)){t=Object.freeze(t.concat(s));for(let m=0;m<s.items.length;++m){const l=ga(m,s.items[m],n,t);if(typeof l=="number")m=l-1;else{if(l===ea)return ea;l===Oa&&(s.items.splice(m,1),m-=1)}}}else if(q(s)){t=Object.freeze(t.concat(s));const m=ga("key",s.key,n,t);if(m===ea)return ea;m===Oa&&(s.key=null);const l=ga("value",s.value,n,t);if(l===ea)return ea;l===Oa&&(s.value=null)}}return e}function Kr(a){return typeof a=="object"&&(a.Collection||a.Node||a.Value)?Object.assign({Alias:a.Node,Map:a.Node,Scalar:a.Node,Seq:a.Node},a.Value&&{Map:a.Value,Scalar:a.Value,Seq:a.Value},a.Collection&&{Map:a.Collection,Seq:a.Collection},a):a}function Gr(a,s,n,t){if(typeof n=="function")return n(a,s,t);if(Ue(s))return n.Map?.(a,s,t);if(Yn(s))return n.Seq?.(a,s,t);if(q(s))return n.Pair?.(a,s,t);if(H(s))return n.Scalar?.(a,s,t);if(ra(s))return n.Alias?.(a,s,t)}function Qr(a,s,n){const t=s[s.length-1];if(Z(t))t.items[a]=n;else if(q(t))a==="key"?t.key=n:t.value=n;else if(on(t))t.contents=n;else{const e=ra(t)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}}function Ge(a){if(/[\x00-\x19\s,[\]{}]/.test(a)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(a)}`;throw new Error(n)}return!0}function La(a,s,n,t){if(t&&typeof t=="object")if(Array.isArray(t))for(let e=0,m=t.length;e<m;++e){const l=t[e],p=La(a,t,String(e),l);p===void 0?delete t[e]:p!==l&&(t[e]=p)}else if(t instanceof Map)for(const e of Array.from(t.keys())){const m=t.get(e),l=La(a,t,e,m);l===void 0?t.delete(e):l!==m&&t.set(e,l)}else if(t instanceof Set)for(const e of Array.from(t)){const m=La(a,t,e,e);m===void 0?t.delete(e):m!==e&&(t.delete(e),t.add(m))}else for(const[e,m]of Object.entries(t)){const l=La(a,t,e,m);l===void 0?delete t[e]:l!==m&&(t[e]=l)}return a.call(s,n,t)}function es(a,s,n){if(Array.isArray(a))return a.map((t,e)=>es(t,String(e),n));if(a&&typeof a.toJSON=="function"){if(!n||!Ke(a))return a.toJSON(s,n);const t={aliasCount:0,count:1,res:void 0};n.anchors.set(a,t),n.onCreate=m=>{t.res=m,delete n.onCreate};const e=a.toJSON(s,n);return n.onCreate&&n.onCreate(e),e}return typeof a=="bigint"&&!n?.keep?Number(a):a}class Xn{constructor(s){Object.defineProperty(this,ms,{value:s})}clone(){const s=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(s.range=this.range.slice()),s}toJS(s,{mapAsMap:n,maxAliasCount:t,onAnchor:e,reviver:m}={}){if(!on(s))throw new TypeError("A document argument is required");const l={anchors:new Map,doc:s,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof t=="number"?t:100},p=es(this,"",l);if(typeof e=="function")for(const{count:r,res:o}of l.anchors.values())e(o,r);return typeof m=="function"?La(m,{"":p},"",p):p}}class Zr extends Xn{constructor(s){super(Qn),this.source=s,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(s,n){let t;n?.aliasResolveCache?t=n.aliasResolveCache:(t=[],cn(s,{Node:(m,l)=>{(ra(l)||Ke(l))&&t.push(l)}}),n&&(n.aliasResolveCache=t));let e;for(const m of t){if(m===this)break;m.anchor===this.source&&(e=m)}return e}toJSON(s,n){if(!n)return{source:this.source};const{anchors:t,doc:e,maxAliasCount:m}=n,l=this.resolve(e,n);if(!l){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(r)}let p=t.get(l);if(p||(es(l,null,n),p=t.get(l)),p?.res===void 0){const r="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(r)}if(m>=0&&(p.count+=1,p.aliasCount===0&&(p.aliasCount=Ba(e,l,t)),p.count*p.aliasCount>m)){const r="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(r)}return p.res}toString(s,n,t){const e=`*${this.source}`;if(s){if(Ge(this.source),s.options.verifyAliasOrder&&!s.anchors.has(this.source)){const m=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(m)}if(s.implicitKey)return`${e} `}return e}}function Ba(a,s,n){if(ra(s)){const t=s.resolve(a),e=n&&t&&n.get(t);return e?e.count*e.aliasCount:0}else if(Z(s)){let t=0;for(const e of s.items){const m=Ba(a,e,n);m>t&&(t=m)}return t}else if(q(s)){const t=Ba(a,s.key,n),e=Ba(a,s.value,n);return Math.max(t,e)}return 1}const Qe=a=>!a||typeof a!="function"&&typeof a!="object";class D extends Xn{constructor(s){super(Zn),this.value=s}toJSON(s,n){return n?.keep?this.value:es(this.value,s,n)}toString(){return String(this.value)}}D.BLOCK_FOLDED="BLOCK_FOLDED";D.BLOCK_LITERAL="BLOCK_LITERAL";D.PLAIN="PLAIN";D.QUOTE_DOUBLE="QUOTE_DOUBLE";D.QUOTE_SINGLE="QUOTE_SINGLE";function Yr(a,s,n){return n.find(t=>t.identify?.(a)&&!t.format)}function Xa(a,s,n){if(on(a)&&(a=a.contents),W(a))return a;if(q(a)){const u=n.schema[pa].createNode?.(n.schema,null,n);return u.items.push(a),u}(a instanceof String||a instanceof Number||a instanceof Boolean||typeof BigInt<"u"&&a instanceof BigInt)&&(a=a.valueOf());const{aliasDuplicateObjects:t,onAnchor:e,onTagObj:m,schema:l,sourceObjects:p}=n;let r;if(t&&a&&typeof a=="object"){if(r=p.get(a),r)return r.anchor??(r.anchor=e(a)),new Zr(r.anchor);r={anchor:null,node:null},p.set(a,r)}let o=Yr(a,s,l.tags);if(!o){if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),!a||typeof a!="object"){const u=new D(a);return r&&(r.node=u),u}o=a instanceof Map?l[pa]:Symbol.iterator in Object(a)?l[Ea]:l[pa]}m&&(m(o),delete n.onTagObj);const c=o?.createNode?o.createNode(n.schema,a,n):typeof o?.nodeClass?.from=="function"?o.nodeClass.from(n.schema,a,n):new D(a);return o.default||(c.tag=o.tag),r&&(r.node=c),c}function he(a,s,n){let t=n;for(let e=s.length-1;e>=0;--e){const m=s[e];if(typeof m=="number"&&Number.isInteger(m)&&m>=0){const l=[];l[m]=t,t=l}else t=new Map([[m,t]])}return Xa(t,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:a,sourceObjects:new Map})}const Xr=a=>a==null||typeof a=="object"&&!!a[Symbol.iterator]().next().done;class Ze extends Xn{constructor(s,n){super(s),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(s){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return s&&(n.schema=s),n.items=n.items.map(t=>W(t)||q(t)?t.clone(s):t),this.range&&(n.range=this.range.slice()),n}addIn(s,n){if(Xr(s))this.add(n);else{const[t,...e]=s,m=this.get(t,!0);if(Z(m))m.addIn(e,n);else if(m===void 0&&this.schema)this.set(t,he(this.schema,e,n));else throw new Error(`Expected YAML collection at ${t}. Remaining path: ${e}`)}}deleteIn(s){const[n,...t]=s;if(t.length===0)return this.delete(n);const e=this.get(n,!0);if(Z(e))return e.deleteIn(t);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${t}`)}getIn(s,n){const[t,...e]=s,m=this.get(t,!0);return e.length===0?!n&&H(m)?m.value:m:Z(m)?m.getIn(e,n):void 0}hasAllNullValues(s){return this.items.every(n=>{if(!q(n))return!1;const t=n.value;return t==null||s&&H(t)&&t.value==null&&!t.commentBefore&&!t.comment&&!t.tag})}hasIn(s){const[n,...t]=s;if(t.length===0)return this.has(n);const e=this.get(n,!0);return Z(e)?e.hasIn(t):!1}setIn(s,n){const[t,...e]=s;if(e.length===0)this.set(t,n);else{const m=this.get(t,!0);if(Z(m))m.setIn(e,n);else if(m===void 0&&this.schema)this.set(t,he(this.schema,e,n));else throw new Error(`Expected YAML collection at ${t}. Remaining path: ${e}`)}}}const so=a=>a.replace(/^(?!$)(?: $)?/gm,"#");function Aa(a,s){return/^\n+$/.test(a)?a.substring(1):s?a.replace(/^(?! *$)/gm,s):a}const da=(a,s,n)=>a.endsWith(`
`)?Aa(n,s):n.includes(`
`)?`
`+Aa(n,s):(a.endsWith(" ")?"":" ")+n,Ye="flow",Dn="block",Wa="quoted";function hn(a,s,n="flow",{indentAtStart:t,lineWidth:e=80,minContentWidth:m=20,onFold:l,onOverflow:p}={}){if(!e||e<0)return a;e<m&&(m=0);const r=Math.max(1+m,1+e-s.length);if(a.length<=r)return a;const o=[],c={};let u=e-s.length;typeof t=="number"&&(t>e-Math.max(2,m)?o.push(0):u=e-t);let h,i,d=!1,g=-1,f=-1,y=-1;n===Dn&&(g=ue(a,g,s.length),g!==-1&&(u=g+r));for(let x;x=a[g+=1];){if(n===Wa&&x==="\\"){switch(f=g,a[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}y=g}if(x===`
`)n===Dn&&(g=ue(a,g,s.length)),u=g+s.length+r,h=void 0;else{if(x===" "&&i&&i!==" "&&i!==`
`&&i!=="	"){const k=a[g+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(h=g)}if(g>=u)if(h)o.push(h),u=h+r,h=void 0;else if(n===Wa){for(;i===" "||i==="	";)i=x,x=a[g+=1],d=!0;const k=g>y+1?g-2:f-1;if(c[k])return a;o.push(k),c[k]=!0,u=k+r,h=void 0}else d=!0}i=x}if(d&&p&&p(),o.length===0)return a;l&&l();let w=a.slice(0,o[0]);for(let x=0;x<o.length;++x){const k=o[x],_=o[x+1]||a.length;k===0?w=`
${s}${a.slice(0,_)}`:(n===Wa&&c[k]&&(w+=`${a[k]}\\`),w+=`
${s}${a.slice(k+1,_)}`)}return w}function ue(a,s,n){let t=s,e=s+1,m=a[e];for(;m===" "||m==="	";)if(s<e+n)m=a[++s];else{do m=a[++s];while(m&&m!==`
`);t=s,e=s+1,m=a[e]}return t}const un=(a,s)=>({indentAtStart:s?a.indent.length:a.indentAtStart,lineWidth:a.options.lineWidth,minContentWidth:a.options.minContentWidth}),gn=a=>/^(%|---|\.\.\.)/m.test(a);function ao(a,s,n){if(!s||s<0)return!1;const t=s-n,e=a.length;if(e<=t)return!1;for(let m=0,l=0;m<e;++m)if(a[m]===`
`){if(m-l>t)return!0;if(l=m+1,e-l<=t)return!1}return!0}function Sa(a,s){const n=JSON.stringify(a);if(s.options.doubleQuotedAsJSON)return n;const{implicitKey:t}=s,e=s.options.doubleQuotedMinMultiLineLength,m=s.indent||(gn(a)?"  ":"");let l="",p=0;for(let r=0,o=n[r];o;o=n[++r])if(o===" "&&n[r+1]==="\\"&&n[r+2]==="n"&&(l+=n.slice(p,r)+"\\ ",r+=1,p=r,o="\\"),o==="\\")switch(n[r+1]){case"u":{l+=n.slice(p,r);const c=n.substr(r+2,4);switch(c){case"0000":l+="\\0";break;case"0007":l+="\\a";break;case"000b":l+="\\v";break;case"001b":l+="\\e";break;case"0085":l+="\\N";break;case"00a0":l+="\\_";break;case"2028":l+="\\L";break;case"2029":l+="\\P";break;default:c.substr(0,2)==="00"?l+="\\x"+c.substr(2):l+=n.substr(r,6)}r+=5,p=r+1}break;case"n":if(t||n[r+2]==='"'||n.length<e)r+=1;else{for(l+=n.slice(p,r)+`

`;n[r+2]==="\\"&&n[r+3]==="n"&&n[r+4]!=='"';)l+=`
`,r+=2;l+=m,n[r+2]===" "&&(l+="\\"),r+=1,p=r+1}break;default:r+=1}return l=p?l+n.slice(p):n,t?l:hn(l,m,Wa,un(s,!1))}function Rn(a,s){if(s.options.singleQuote===!1||s.implicitKey&&a.includes(`
`)||/[ \t]\n|\n[ \t]/.test(a))return Sa(a,s);const n=s.indent||(gn(a)?"  ":""),t="'"+a.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return s.implicitKey?t:hn(t,n,Ye,un(s,!1))}function fa(a,s){const{singleQuote:n}=s.options;let t;if(n===!1)t=Sa;else{const e=a.includes('"'),m=a.includes("'");e&&!m?t=Rn:m&&!e?t=Sa:t=n?Rn:Sa}return t(a,s)}let jn;try{jn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{jn=/\n+(?!\n|$)/g}function Ja({comment:a,type:s,value:n},t,e,m){const{blockQuote:l,commentString:p,lineWidth:r}=t.options;if(!l||/\n[\t ]+$/.test(n))return fa(n,t);const o=t.indent||(t.forceBlockIndent||gn(n)?"  ":""),c=l==="literal"?!0:l==="folded"||s===D.BLOCK_FOLDED?!1:s===D.BLOCK_LITERAL?!0:!ao(n,r,o.length);if(!n)return c?`|
`:`>
`;let u,h;for(h=n.length;h>0;--h){const _=n[h-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let i=n.substring(h);const d=i.indexOf(`
`);d===-1?u="-":n===i||d!==i.length-1?(u="+",m&&m()):u="",i&&(n=n.slice(0,-i.length),i[i.length-1]===`
`&&(i=i.slice(0,-1)),i=i.replace(jn,`$&${o}`));let g=!1,f,y=-1;for(f=0;f<n.length;++f){const _=n[f];if(_===" ")g=!0;else if(_===`
`)y=f;else break}let w=n.substring(0,y<f?y+1:f);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${o}`));let k=(g?o?"2":"1":"")+u;if(a&&(k+=" "+p(a.replace(/ ?[\r\n]+/g," ")),e&&e()),!c){const _=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${o}`);let T=!1;const P=un(t,!0);l!=="folded"&&s!==D.BLOCK_FOLDED&&(P.onOverflow=()=>{T=!0});const V=hn(`${w}${_}${i}`,o,Dn,P);if(!T)return`>${k}
${o}${V}`}return n=n.replace(/\n+/g,`$&${o}`),`|${k}
${o}${w}${n}${i}`}function no(a,s,n,t){const{type:e,value:m}=a,{actualString:l,implicitKey:p,indent:r,indentStep:o,inFlow:c}=s;if(p&&m.includes(`
`)||c&&/[[\]{},]/.test(m))return fa(m,s);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(m))return p||c||!m.includes(`
`)?fa(m,s):Ja(a,s,n,t);if(!p&&!c&&e!==D.PLAIN&&m.includes(`
`))return Ja(a,s,n,t);if(gn(m)){if(r==="")return s.forceBlockIndent=!0,Ja(a,s,n,t);if(p&&r===o)return fa(m,s)}const u=m.replace(/\n+/g,`$&
${r}`);if(l){const h=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(u),{compat:i,tags:d}=s.doc.schema;if(d.some(h)||i?.some(h))return fa(m,s)}return p?u:hn(u,r,Ye,un(s,!1))}function to(a,s,n,t){const{implicitKey:e,inFlow:m}=s,l=typeof a.value=="string"?a:Object.assign({},a,{value:String(a.value)});let{type:p}=a;p!==D.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(l.value)&&(p=D.QUOTE_DOUBLE);const r=c=>{switch(c){case D.BLOCK_FOLDED:case D.BLOCK_LITERAL:return e||m?fa(l.value,s):Ja(l,s,n,t);case D.QUOTE_DOUBLE:return Sa(l.value,s);case D.QUOTE_SINGLE:return Rn(l.value,s);case D.PLAIN:return no(l,s,n,t);default:return null}};let o=r(p);if(o===null){const{defaultKeyType:c,defaultStringType:u}=s.options,h=e&&c||u;if(o=r(h),o===null)throw new Error(`Unsupported default string type ${h}`)}return o}function eo(a,s){const n=Object.assign({blockQuote:!0,commentString:so,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},a.schema.toStringOptions,s);let t;switch(n.collectionStyle){case"block":t=!1;break;case"flow":t=!0;break;default:t=null}return{anchors:new Set,doc:a,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:t,options:n}}function mo(a,s){if(s.tag){const e=a.filter(m=>m.tag===s.tag);if(e.length>0)return e.find(m=>m.format===s.format)??e[0]}let n,t;if(H(s)){t=s.value;let e=a.filter(m=>m.identify?.(t));if(e.length>1){const m=e.filter(l=>l.test);m.length>0&&(e=m)}n=e.find(m=>m.format===s.format)??e.find(m=>!m.format)}else t=s,n=a.find(e=>e.nodeClass&&t instanceof e.nodeClass);if(!n){const e=t?.constructor?.name??(t===null?"null":typeof t);throw new Error(`Tag not resolved for ${e} value`)}return n}function lo(a,s,{anchors:n,doc:t}){if(!t.directives)return"";const e=[],m=(H(a)||Z(a))&&a.anchor;m&&Ge(m)&&(n.add(m),e.push(`&${m}`));const l=a.tag??(s.default?null:s.tag);return l&&e.push(t.directives.tagString(l)),e.join(" ")}function sn(a,s,n,t){if(q(a))return a.toString(s,n,t);if(ra(a)){if(s.doc.directives)return a.toString(s);if(s.resolvedAliases?.has(a))throw new TypeError("Cannot stringify circular structure without alias nodes");s.resolvedAliases?s.resolvedAliases.add(a):s.resolvedAliases=new Set([a]),a=a.resolve(s.doc)}let e;const m=W(a)?a:s.doc.createNode(a,{onTagObj:r=>e=r});e??(e=mo(s.doc.schema.tags,m));const l=lo(m,e,s);l.length>0&&(s.indentAtStart=(s.indentAtStart??0)+l.length+1);const p=typeof e.stringify=="function"?e.stringify(m,s,n,t):H(m)?to(m,s,n,t):m.toString(s,n,t);return l?H(m)||p[0]==="{"||p[0]==="["?`${l} ${p}`:`${l}
${s.indent}${p}`:p}function po({key:a,value:s},n,t,e){const{allNullValues:m,doc:l,indent:p,indentStep:r,options:{commentString:o,indentSeq:c,simpleKeys:u}}=n;let h=W(a)&&a.comment||null;if(u){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Z(a)||!W(a)&&typeof a=="object"){const P="With simple keys, collection cannot be used as a key value";throw new Error(P)}}let i=!u&&(!a||h&&s==null&&!n.inFlow||Z(a)||(H(a)?a.type===D.BLOCK_FOLDED||a.type===D.BLOCK_LITERAL:typeof a=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!i&&(u||!m),indent:p+r});let d=!1,g=!1,f=sn(a,n,()=>d=!0,()=>g=!0);if(!i&&!n.inFlow&&f.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");i=!0}if(n.inFlow){if(m||s==null)return d&&t&&t(),f===""?"?":i?`? ${f}`:f}else if(m&&!u||s==null&&i)return f=`? ${f}`,h&&!d?f+=da(f,n.indent,o(h)):g&&e&&e(),f;d&&(h=null),i?(h&&(f+=da(f,n.indent,o(h))),f=`? ${f}
${p}:`):(f=`${f}:`,h&&(f+=da(f,n.indent,o(h))));let y,w,x;W(s)?(y=!!s.spaceBefore,w=s.commentBefore,x=s.comment):(y=!1,w=null,x=null,s&&typeof s=="object"&&(s=l.createNode(s))),n.implicitKey=!1,!i&&!h&&H(s)&&(n.indentAtStart=f.length+1),g=!1,!c&&r.length>=2&&!n.inFlow&&!i&&Yn(s)&&!s.flow&&!s.tag&&!s.anchor&&(n.indent=n.indent.substring(2));let k=!1;const _=sn(s,n,()=>k=!0,()=>g=!0);let T=" ";if(h||y||w){if(T=y?`
`:"",w){const P=o(w);T+=`
${Aa(P,n.indent)}`}_===""&&!n.inFlow?T===`
`&&x&&(T=`

`):T+=`
${n.indent}`}else if(!i&&Z(s)){const P=_[0],V=_.indexOf(`
`),J=V!==-1,rs=n.inFlow??s.flow??s.items.length===0;if(J||!rs){let Y=!1;if(J&&(P==="&"||P==="!")){let A=_.indexOf(" ");P==="&"&&A!==-1&&A<V&&_[A+1]==="!"&&(A=_.indexOf(" ",A+1)),(A===-1||V<A)&&(Y=!0)}Y||(T=`
${n.indent}`)}}else(_===""||_[0]===`
`)&&(T="");return f+=T+_,n.inFlow?k&&t&&t():x&&!k?f+=da(f,n.indent,o(x)):g&&e&&e(),f}function ro(a,s){(a==="debug"||a==="warn")&&console.warn(s)}const Ra="<<",Mn={identify:a=>a===Ra||typeof a=="symbol"&&a.description===Ra,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new D(Symbol(Ra)),{addToJSMap:Xe}),stringify:()=>Ra},oo=(a,s)=>(Mn.identify(s)||H(s)&&(!s.type||s.type===D.PLAIN)&&Mn.identify(s.value))&&a?.doc.schema.tags.some(n=>n.tag===Mn.tag&&n.default);function Xe(a,s,n){if(n=a&&ra(n)?n.resolve(a.doc):n,Yn(n))for(const t of n.items)bn(a,s,t);else if(Array.isArray(n))for(const t of n)bn(a,s,t);else bn(a,s,n)}function bn(a,s,n){const t=a&&ra(n)?n.resolve(a.doc):n;if(!Ue(t))throw new Error("Merge sources must be maps or map aliases");const e=t.toJSON(null,a,Map);for(const[m,l]of e)s instanceof Map?s.has(m)||s.set(m,l):s instanceof Set?s.add(m):Object.prototype.hasOwnProperty.call(s,m)||Object.defineProperty(s,m,{value:l,writable:!0,enumerable:!0,configurable:!0});return s}function sm(a,s,{key:n,value:t}){if(W(n)&&n.addToJSMap)n.addToJSMap(a,s,t);else if(oo(a,n))Xe(a,s,t);else{const e=es(n,"",a);if(s instanceof Map)s.set(e,es(t,e,a));else if(s instanceof Set)s.add(e);else{const m=io(n,e,a),l=es(t,m,a);m in s?Object.defineProperty(s,m,{value:l,writable:!0,enumerable:!0,configurable:!0}):s[m]=l}}return s}function io(a,s,n){if(s===null)return"";if(typeof s!="object")return String(s);if(W(a)&&n?.doc){const t=eo(n.doc,{});t.anchors=new Set;for(const m of n.anchors.keys())t.anchors.add(m.anchor);t.inFlow=!0,t.inStringifyKey=!0;const e=a.toString(t);if(!n.mapKeyWarned){let m=JSON.stringify(e);m.length>40&&(m=m.substring(0,36)+'..."'),ro(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${m}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return e}return JSON.stringify(s)}function st(a,s,n){const t=Xa(a,void 0,n),e=Xa(s,void 0,n);return new ps(t,e)}class ps{constructor(s,n=null){Object.defineProperty(this,ms,{value:Je}),this.key=s,this.value=n}clone(s){let{key:n,value:t}=this;return W(n)&&(n=n.clone(s)),W(t)&&(t=t.clone(s)),new ps(n,t)}toJSON(s,n){const t=n?.mapAsMap?new Map:{};return sm(n,t,this)}toString(s,n,t){return s?.doc?po(this,s,n,t):JSON.stringify(this)}}function am(a,s,n){return(s.inFlow??a.flow?ho:co)(a,s,n)}function co({comment:a,items:s},n,{blockItemPrefix:t,flowChars:e,itemIndent:m,onChompKeep:l,onComment:p}){const{indent:r,options:{commentString:o}}=n,c=Object.assign({},n,{indent:m,type:null});let u=!1;const h=[];for(let d=0;d<s.length;++d){const g=s[d];let f=null;if(W(g))!u&&g.spaceBefore&&h.push(""),an(n,h,g.commentBefore,u),g.comment&&(f=g.comment);else if(q(g)){const w=W(g.key)?g.key:null;w&&(!u&&w.spaceBefore&&h.push(""),an(n,h,w.commentBefore,u))}u=!1;let y=sn(g,c,()=>f=null,()=>u=!0);f&&(y+=da(y,m,o(f))),u&&f&&(u=!1),h.push(t+y)}let i;if(h.length===0)i=e.start+e.end;else{i=h[0];for(let d=1;d<h.length;++d){const g=h[d];i+=g?`
${r}${g}`:`
`}}return a?(i+=`
`+Aa(o(a),r),p&&p()):u&&l&&l(),i}function ho({items:a},s,{flowChars:n,itemIndent:t}){const{indent:e,indentStep:m,flowCollectionPadding:l,options:{commentString:p}}=s;t+=m;const r=Object.assign({},s,{indent:t,inFlow:!0,type:null});let o=!1,c=0;const u=[];for(let d=0;d<a.length;++d){const g=a[d];let f=null;if(W(g))g.spaceBefore&&u.push(""),an(s,u,g.commentBefore,!1),g.comment&&(f=g.comment);else if(q(g)){const w=W(g.key)?g.key:null;w&&(w.spaceBefore&&u.push(""),an(s,u,w.commentBefore,!1),w.comment&&(o=!0));const x=W(g.value)?g.value:null;x?(x.comment&&(f=x.comment),x.commentBefore&&(o=!0)):g.value==null&&w?.comment&&(f=w.comment)}f&&(o=!0);let y=sn(g,r,()=>f=null);d<a.length-1&&(y+=","),f&&(y+=da(y,t,p(f))),!o&&(u.length>c||y.includes(`
`))&&(o=!0),u.push(y),c=u.length}const{start:h,end:i}=n;if(u.length===0)return h+i;if(!o){const d=u.reduce((g,f)=>g+f.length+2,2);o=s.options.lineWidth>0&&d>s.options.lineWidth}if(o){let d=h;for(const g of u)d+=g?`
${m}${e}${g}`:`
`;return`${d}
${e}${i}`}else return`${h}${l}${u.join(" ")}${l}${i}`}function an({indent:a,options:{commentString:s}},n,t,e){if(t&&e&&(t=t.replace(/^\n+/,"")),t){const m=Aa(s(t),a);n.push(m.trimStart())}}function la(a,s){const n=H(s)?s.value:s;for(const t of a)if(q(t)&&(t.key===s||t.key===n||H(t.key)&&t.key.value===n))return t}class ca extends Ze{static get tagName(){return"tag:yaml.org,2002:map"}constructor(s){super(pa,s),this.items=[]}static from(s,n,t){const{keepUndefined:e,replacer:m}=t,l=new this(s),p=(r,o)=>{if(typeof m=="function")o=m.call(n,r,o);else if(Array.isArray(m)&&!m.includes(r))return;(o!==void 0||e)&&l.items.push(st(r,o,t))};if(n instanceof Map)for(const[r,o]of n)p(r,o);else if(n&&typeof n=="object")for(const r of Object.keys(n))p(r,n[r]);return typeof s.sortMapEntries=="function"&&l.items.sort(s.sortMapEntries),l}add(s,n){let t;q(s)?t=s:!s||typeof s!="object"||!("key"in s)?t=new ps(s,s?.value):t=new ps(s.key,s.value);const e=la(this.items,t.key),m=this.schema?.sortMapEntries;if(e){if(!n)throw new Error(`Key ${t.key} already set`);H(e.value)&&Qe(t.value)?e.value.value=t.value:e.value=t.value}else if(m){const l=this.items.findIndex(p=>m(t,p)<0);l===-1?this.items.push(t):this.items.splice(l,0,t)}else this.items.push(t)}delete(s){const n=la(this.items,s);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(s,n){const e=la(this.items,s)?.value;return(!n&&H(e)?e.value:e)??void 0}has(s){return!!la(this.items,s)}set(s,n){this.add(new ps(s,n),!0)}toJSON(s,n,t){const e=t?new t:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(e);for(const m of this.items)sm(n,e,m);return e}toString(s,n,t){if(!s)return JSON.stringify(this);for(const e of this.items)if(!q(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!s.allNullValues&&this.hasAllNullValues(!1)&&(s=Object.assign({},s,{allNullValues:!0})),am(this,s,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:s.indent||"",onChompKeep:t,onComment:n})}}class nm extends Ze{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(s){super(Ea,s),this.items=[]}add(s){this.items.push(s)}delete(s){const n=ja(s);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(s,n){const t=ja(s);if(typeof t!="number")return;const e=this.items[t];return!n&&H(e)?e.value:e}has(s){const n=ja(s);return typeof n=="number"&&n<this.items.length}set(s,n){const t=ja(s);if(typeof t!="number")throw new Error(`Expected a valid index, not ${s}.`);const e=this.items[t];H(e)&&Qe(n)?e.value=n:this.items[t]=n}toJSON(s,n){const t=[];n?.onCreate&&n.onCreate(t);let e=0;for(const m of this.items)t.push(es(m,String(e++),n));return t}toString(s,n,t){return s?am(this,s,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(s.indent||"")+"  ",onChompKeep:t,onComment:n}):JSON.stringify(this)}static from(s,n,t){const{replacer:e}=t,m=new this(s);if(n&&Symbol.iterator in Object(n)){let l=0;for(let p of n){if(typeof e=="function"){const r=n instanceof Set?p:String(l++);p=e.call(n,r,p)}m.items.push(Xa(p,void 0,t))}}return m}}function ja(a){let s=H(a)?a.value:a;return s&&typeof s=="string"&&(s=Number(s)),typeof s=="number"&&Number.isInteger(s)&&s>=0?s:null}function uo(a,s,n){const{replacer:t}=n,e=new nm(a);e.tag="tag:yaml.org,2002:pairs";let m=0;if(s&&Symbol.iterator in Object(s))for(let l of s){typeof t=="function"&&(l=t.call(s,String(m++),l));let p,r;if(Array.isArray(l))if(l.length===2)p=l[0],r=l[1];else throw new TypeError(`Expected [key, value] tuple: ${l}`);else if(l&&l instanceof Object){const o=Object.keys(l);if(o.length===1)p=o[0],r=l[p];else throw new TypeError(`Expected tuple with one key, not ${o.length} keys`)}else p=l;e.items.push(st(p,r,n))}return e}class at extends nm{constructor(){super(),this.add=ca.prototype.add.bind(this),this.delete=ca.prototype.delete.bind(this),this.get=ca.prototype.get.bind(this),this.has=ca.prototype.has.bind(this),this.set=ca.prototype.set.bind(this),this.tag=at.tag}toJSON(s,n){if(!n)return super.toJSON(s);const t=new Map;n?.onCreate&&n.onCreate(t);for(const e of this.items){let m,l;if(q(e)?(m=es(e.key,"",n),l=es(e.value,m,n)):m=es(e,"",n),t.has(m))throw new Error("Ordered maps must not include duplicate keys");t.set(m,l)}return t}static from(s,n,t){const e=uo(s,n,t),m=new this;return m.items=e.items,m}}at.tag="tag:yaml.org,2002:omap";class nt extends ca{constructor(s){super(s),this.tag=nt.tag}add(s){let n;q(s)?n=s:s&&typeof s=="object"&&"key"in s&&"value"in s&&s.value===null?n=new ps(s.key,null):n=new ps(s,null),la(this.items,n.key)||this.items.push(n)}get(s,n){const t=la(this.items,s);return!n&&q(t)?H(t.key)?t.key.value:t.key:t}set(s,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const t=la(this.items,s);t&&!n?this.items.splice(this.items.indexOf(t),1):!t&&n&&this.items.push(new ps(s))}toJSON(s,n){return super.toJSON(s,n,Set)}toString(s,n,t){if(!s)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},s,{allNullValues:!0}),n,t);throw new Error("Set items must all have null values")}static from(s,n,t){const{replacer:e}=t,m=new this(s);if(n&&Symbol.iterator in Object(n))for(let l of n)typeof e=="function"&&(l=e.call(n,l,l)),m.items.push(st(l,null,t));return m}}nt.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function tt(a=5){const s=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=n.length;for(let e=0;e<a;e++)s.push(n.charAt(Math.floor(Math.random()*t)));return s.join("")}function tc(a,s,n,t){const e=Ie(s+n-1,a);for(let m=0;m<s;m++){const l=t(m),p=e.includes(m+n);for(const r of l)r.classList.toggle("slidev-code-highlighted",p),r.classList.toggle("slidev-code-dishonored",!p),r.classList.toggle("highlighted",p),r.classList.toggle("dishonored",!p)}}function tm(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function as(a,s,n){Object.defineProperty(a,s,{value:n,writable:!0,enumerable:!1})}const is=b({});let go=[],fo=[];as(is,"$syncUp",!0);as(is,"$syncDown",!0);as(is,"$paused",!1);as(is,"$onSet",a=>go.push(a));as(is,"$onPatch",a=>fo.push(a));tm();as(is,"$patch",async()=>!1);const yo={channels:[],enabled:!0,init(a,s,n,t=!1){let e;if(!t)e=new BroadcastChannel(a),e.addEventListener("message",m=>s(m.data)),this.channels.push(e);else if(t){this.listener=function(l){l&&l.key===a&&l.newValue&&s(JSON.parse(l.newValue))},window.addEventListener("storage",this.listener);const m=window.localStorage.getItem(a);m&&s(JSON.parse(m))}return(m,l=!1)=>{this.enabled&&(!t&&e&&!l&&e.postMessage(Ae(m)),t&&!l&&window.localStorage.setItem(a,JSON.stringify(m)))}},disable(){this.enabled=!1,this.channels.forEach(a=>a.close()),this.listener&&window.removeEventListener("storage",this.listener)}},wo=b([yo]),xo=new Map,ge=E({});function em(a,s,n=!1){const t=[];let e=!1,m=!1,l,p;const r=b(s);function o(i){t.push(i)}function c(i,d){r[i]!==d&&(clearTimeout(l),e=!0,r[i]=d,l=setTimeout(()=>e=!1,0))}function u(i){e||(clearTimeout(p),m=!0,Object.entries(i).forEach(([d,g])=>{r[d]=g}),p=setTimeout(()=>m=!1,0))}function h(i){xo.set(i,{onUpdate:u,persist:n,state:r}),ge.value[i]=wo.map(g=>g.init(i,u,r,n)).filter(g=>!!g);function d(){ge.value[i].forEach(g=>g?.(Ae(r),m)),e||t.forEach(g=>g(r))}ss(r,d,{deep:!0})}return{init:h,onPatch:o,onUpdate:u,patch:c,state:r}}const{init:ko,onPatch:ec,patch:mc,state:lc}=em(is,is,!1),oa=b({page:0,clicks:0,timer:{status:"stopped",slides:{},startedAt:0,pausedAt:0}});let vo=[],Mo=[];as(oa,"$syncUp",!0);as(oa,"$syncDown",!0);as(oa,"$paused",!1);as(oa,"$onSet",a=>vo.push(a));as(oa,"$onPatch",a=>Mo.push(a));tm();as(oa,"$patch",async()=>!1);const{init:bo,onPatch:_o,patch:Ia,state:pc}=em(oa,{page:1,clicks:0,clicksTotal:0,timer:{status:"stopped",slides:{},startedAt:0,pausedAt:0}});function No(){const a=Ne().appContext.app,s=b({nav:xa(),configs:R,themeConfigs:v(()=>R.themeConfig)});a.provide(Kn,E("none")),a.provide(Nr,s),a.provide(Un,v(()=>s.nav.currentSlideNo)),a.provide(pn,Jn(Al()));for(const h of tl)h();const{clicksContext:n,currentSlideNo:t,hasPrimarySlide:e,isNotesViewer:m,isPresenter:l,isPrintMode:p}=xa();Ol({title:fn,htmlAttrs:R.htmlAttrs}),Wr(),bo(`${fn} - shared`),ko(`${fn} - drawings`);const r=`${location.origin}_${tt()}`,o=v(()=>l.value?"presenter":"viewer");function c(){(l.value?Da.value.presenterSend:Da.value.viewerSend)&&(m.value||p.value||!l.value&&!Sr.includes(location.host.split(":")[0])||(Ia("page",+t.value),Ia("clicks",n.value.current),Ia("clicksTotal",n.value.total),Ia("lastUpdate",{id:r,type:o.value,time:new Date().getTime()})))}const u=mn();u.afterEach(c),ss(n,c),_o(h=>{(l.value?Da.value.presenterReceive:Da.value.viewerReceive)&&(!e.value||p.value||h.lastUpdate?.type!==o.value&&(+h.page==+t.value&&+n.value.current==+h.clicks||(Gn.value=!1,u.replace({path:ua(h.page,l.value),query:{...u.currentRoute.value.query,clicks:h.clicks||0}}))))})}const Lo=Oe({__name:"App",setup(a){return No(),ya(()=>{for(const[s,n]of Object.entries(nl.value))document.body.style.setProperty(s,n.toString())}),(s,n)=>{const t=Im("RouterView");return Ga(),jm(t)}}});function Oo(a){return a}const So=Oo,$o=So(({app:a})=>{}),Ao=[Object.values([$o])[0],Object.values([])[0]].filter(Boolean);async function mm(a,s={}){const n=s.document||a.resolvedOptions.document;if(!n||!a.dirty)return;const t={shouldRender:!0,tags:[]};if(await a.hooks.callHook("dom:beforeRender",t),!!t.shouldRender)return a._domUpdatePromise||(a._domUpdatePromise=new Promise(async e=>{const m=new Map,l=new Promise(i=>{a.resolveTags().then(d=>{i(d.map(g=>{const f=m.get(g._d)||0,y={tag:g,id:(f?`${g._d}:${f}`:g._d)||ht(g),shouldRender:!0};return g._d&&ze(g._d)&&m.set(g._d,f+1),y}))})});let p=a._dom;if(!p){p={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const i of["body","head"]){const d=n[i]?.children;for(const g of d){const f=g.tagName.toLowerCase();if(!ct.has(f))continue;const y=De({tag:f,props:{}},{innerHTML:g.innerHTML,...g.getAttributeNames().reduce((w,x)=>(w[x]=g.getAttribute(x),w),{})||{}});if(y.key=g.getAttribute("data-hid")||void 0,y._d=Cn(y)||ht(y),p.elMap.has(y._d)){let w=1,x=y._d;for(;p.elMap.has(x);)x=`${y._d}:${w++}`;p.elMap.set(x,g)}else p.elMap.set(y._d,g)}}}p.pendingSideEffects={...p.sideEffects},p.sideEffects={};function r(i,d,g){const f=`${i}:${d}`;p.sideEffects[f]=g,delete p.pendingSideEffects[f]}function o({id:i,$el:d,tag:g}){const f=g.tag.endsWith("Attrs");p.elMap.set(i,d),f||(g.textContent&&g.textContent!==d.textContent&&(d.textContent=g.textContent),g.innerHTML&&g.innerHTML!==d.innerHTML&&(d.innerHTML=g.innerHTML),r(i,"el",()=>{d?.remove(),p.elMap.delete(i)}));for(const y in g.props){if(!Object.prototype.hasOwnProperty.call(g.props,y))continue;const w=g.props[y];if(y.startsWith("on")&&typeof w=="function"){const k=d?.dataset;if(k&&k[`${y}fired`]){const _=y.slice(0,-5);w.call(d,new Event(_.substring(2)))}d.getAttribute(`data-${y}`)!==""&&((g.tag==="bodyAttrs"?n.defaultView:d).addEventListener(y.substring(2),w.bind(d)),d.setAttribute(`data-${y}`,""));continue}const x=`attr:${y}`;if(y==="class"){if(!w)continue;for(const k of w)f&&r(i,`${x}:${k}`,()=>d.classList.remove(k)),!d.classList.contains(k)&&d.classList.add(k)}else if(y==="style"){if(!w)continue;for(const[k,_]of w)r(i,`${x}:${k}`,()=>{d.style.removeProperty(k)}),d.style.setProperty(k,_)}else w!==!1&&w!==null&&(d.getAttribute(y)!==w&&d.setAttribute(y,w===!0?"":String(w)),f&&r(i,x,()=>d.removeAttribute(y)))}}const c=[],u={bodyClose:void 0,bodyOpen:void 0,head:void 0},h=await l;for(const i of h){const{tag:d,shouldRender:g,id:f}=i;if(g){if(d.tag==="title"){n.title=d.textContent,r("title","",()=>n.title=p.title);continue}i.$el=i.$el||p.elMap.get(f),i.$el?o(i):ct.has(d.tag)&&c.push(i)}}for(const i of c){const d=i.tag.tagPosition||"head";i.$el=n.createElement(i.tag.tag),o(i),u[d]=u[d]||n.createDocumentFragment(),u[d].appendChild(i.$el)}for(const i of h)await a.hooks.callHook("dom:renderTag",i,n,r);u.head&&n.head.appendChild(u.head),u.bodyOpen&&n.body.insertBefore(u.bodyOpen,n.body.firstChild),u.bodyClose&&n.body.appendChild(u.bodyClose);for(const i in p.pendingSideEffects)p.pendingSideEffects[i]();a._dom=p,await a.hooks.callHook("dom:rendered",{renders:h}),e()}).finally(()=>{a._domUpdatePromise=void 0,a.dirty=!1})),a._domUpdatePromise}function Eo(a={}){const s=a.domOptions?.render||mm;a.document=a.document||(typeof window<"u"?document:void 0);const n=a.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return bl({...a,plugins:[...a.plugins||[],{key:"client",hooks:{"entries:updated":s}}],init:[n?JSON.parse(n):!1,...a.init||[]]})}function To(a,s){let n=0;return()=>{const t=++n;s(()=>{n===t&&a()})}}function Co(a={}){const s=Eo({domOptions:{render:To(()=>mm(s),n=>setTimeout(n,0))},...a});return s.install=Nl(s),s}function rc(a,s=""){const n=["slidev-page",s],t=a?.meta?.slide?.no;return t!=null&&n.push(`slidev-page-${t}`),n.filter(Boolean).join(" ")}async function oc(){const{saveAs:a}=await M(async()=>{const{saveAs:s}=await import("./modules/file-saver-DKWcVV7Q.js").then(n=>n.F);return{saveAs:s}},[],import.meta.url);a(typeof R.download=="string"?R.download:R.exportFilename?`${R.exportFilename}.pdf`:"./slidev-exported.pdf",`${R.title}.pdf`)}function wa(a,s,n){return(a.instance?.$).provides[s]??n}function Po(){return{install(a){a.directive("click",{name:"v-click",mounted(s,n){const t=Ua(s,n,n.value);t!=null&&(s.classList.toggle(Fa,!0),s.dataset.slidevClicksStart=String(t.start),Number.isFinite(t.end)&&(s.dataset.slidevClicksEnd=String(t.end)),s.watchStopHandle=ya(()=>{const e=t.isActive.value,m=t.isCurrent.value,l=e&&!m;t.flagHide?(s.classList.toggle(t.flagFade?ba:Ma,e),s.classList.toggle(wn,e)):s.classList.toggle(t.flagFade?ba:Ma,!e),s.classList.toggle(xn,m),s.classList.toggle(kn,l)}))},unmounted:_n}),a.directive("after",{name:"v-after",mounted(s,n){const t=Ua(s,n,"+0");t!=null&&(s.classList.toggle(Fa,!0),s.watchStopHandle=ya(()=>{const e=t.isActive.value,m=t.isCurrent.value,l=e&&!m;t.flagHide?(s.classList.toggle(t.flagFade?ba:Ma,e),s.classList.toggle(wn,e)):s.classList.toggle(t.flagFade?ba:Ma,!e),s.classList.toggle(xn,m),s.classList.toggle(kn,l)}))},unmounted:_n}),a.directive("click-hide",{name:"v-click-hide",mounted(s,n){const t=Ua(s,n,n.value,!0);t!=null&&(s.classList.toggle(Fa,!0),s.watchStopHandle=ya(()=>{const e=t.isActive.value,m=t.isCurrent.value,l=e&&!m;s.classList.toggle(t.flagFade?ba:Ma,e),s.classList.toggle(wn,e),s.classList.toggle(xn,m),s.classList.toggle(kn,l)}))},unmounted:_n})}}}const lm=new Map;function Ua(a,s,n,t=!1){const e=wa(s,pn)?.value;if(!a||!e)return null;const m=t||s.modifiers.hide!==!1&&s.modifiers.hide!=null,l=s.modifiers.fade!==!1&&s.modifiers.fade!=null,p=e.calculate(n);if(!p)return null;e.register(a,p);const r=v(()=>m?!p.isActive.value:p.isActive.value),o=v(()=>r.value?"shown":Number.isFinite(p.end)?e.current<p.start?"before":"after":m?"after":"before"),c={...p,isShown:r,visibilityState:o,flagFade:l,flagHide:m};return lm.set(a,c),c}function _n(a,s){a.classList.toggle(Fa,!1),wa(s,pn)?.value?.unregister(a),a.watchStopHandle?.()}function zo(a=_e(He,E())){const s=Hm(a),n=ss([Rr,jr,Ir,Hr,Dr,Za.width,Za.height],()=>{setTimeout(s.update,300)},{flush:"post",immediate:!0});return{...s,stop:n}}function Do(a){return()=>{}}function Ro(a,s,n,t=!1){function e(j){return a?wa(a,j):Fm(j)}const m=e(Kn),l=e(Lr)??{},p=e(Un),r=v(()=>Do(p.value)),o=e(_r)??E(1),c=e(Or)??E(1),{left:u,top:h,stop:i}=zo(e(He)??E()),{isPrintMode:d}=xa(),g=["slide","presenter"].includes(m.value)&&!d.value;let f=a?"directive":"prop",y=tt(),w;if(Array.isArray(s)?w=s:typeof s=="string"&&s.includes(",")?w=s.split(",").map(Number):s!=null&&(f="frontmatter",y=`${s}`,s=l?.dragPos?.[y],w=s?.split(",").map(Number)),f!=="frontmatter"&&!n)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const x=[i],k=!t&&s!=null&&!Number.isFinite(w?.[3]);w??=[Number.NaN,Number.NaN,0];const _=E(w[2]),T=E(w[0]+w[2]/2),P=E(t?0:w[4]??0),V=v(()=>P.value*Math.PI/180),J=v(()=>Math.sin(V.value)),rs=v(()=>Math.cos(V.value)),Y=E(),A=E({left:0,top:0,width:0,height:0}),C=E(0);function F(){if(!Y.value)return;const j=Y.value.getBoundingClientRect();A.value={left:j.left/c.value,top:j.top/c.value,width:j.width/c.value,height:j.height/c.value},C.value=(A.value.width+A.value.height)/o.value/(Math.abs(J.value)+Math.abs(rs.value))-_.value}x.push(ss(_,F,{flush:"post"}));const I=E(w[3]??0),z=k?v({get:()=>(k?C.value:I.value)||0,set:j=>!k&&(I.value=j)}):I,ls=k?E(w[1]):E(w[1]+w[3]/2),os=k?v({get:()=>ls.value+z.value/2,set:j=>ls.value=j-z.value/2}):ls,ka=v(()=>Number.isFinite(T.value)?{position:"absolute",zIndex:100,left:`${T.value-_.value/2}px`,top:`${os.value-z.value/2}px`,width:`${_.value}px`,height:k?void 0:`${z.value}px`,transformOrigin:"center center",transform:`rotate(${P.value}deg)`}:{position:"absolute",zIndex:100});x.push(ss([T,os,_,z,P],([j,Ca,lt,pt,rt])=>{let ia=[j-lt/2,Ca-pt/2,lt].map(Math.round).join();k?ia+=f==="directive"?",NaN":",_":ia+=`,${Math.round(pt)}`,Math.round(rt)!==0&&(ia+=`,${Math.round(rt)}`),f==="directive"&&(ia=`[${ia}]`),r.value(y,ia,f,n)}));const G={dragId:y,dataSource:f,markdownSource:n,isArrow:t,zoom:c,autoHeight:k,x0:T,y0:os,width:_,height:z,rotate:P,container:Y,containerStyle:ka,watchStopHandles:x,dragging:v(()=>Pa.value===G),mounted(){g&&(F(),s||setTimeout(()=>{F(),T.value=(A.value.left+A.value.width/2-u.value)/o.value,os.value=(A.value.top-h.value)/o.value,_.value=A.value.width/o.value,z.value=A.value.height/o.value},100))},unmounted(){g&&G.stopDragging()},startDragging(){g&&(F(),Pa.value=G)},stopDragging(){g&&Pa.value===G&&(Pa.value=null)}};return x.push(Vm(Y,j=>{const Ca=document.querySelector("#drag-control-container");Ca&&j.target&&Ca.contains(j.target)||G.stopDragging()}),ss(qm(),j=>{j||G.stopDragging()})),G}function jo(){return{install(a){a.directive("drag",{name:"v-drag",created(s,n,t){const e=Ro(n,n.value,t.props?.markdownSource);t.props&&(t.props={...t.props},delete t.props.markdownSource),e.container.value=s,s.draggingState=e,s.dataset.dragId=e.dragId,e.watchStopHandles.push(ss(e.containerStyle,m=>{for(const[l,p]of Object.entries(m))p&&(s.style[l]=p)},{immediate:!0})),s.addEventListener("dblclick",e.startDragging)},mounted(s){s.draggingState.mounted()},unmounted(s){const n=s.draggingState;n.unmounted(),s.removeEventListener("dblclick",n.startDragging),n.watchStopHandles.forEach(t=>t())}})}}}function pm(){return Math.floor(Math.random()*2**31)}class Io{constructor(s){this.seed=s}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function In(a,s,n){if(a&&a.length){const[t,e]=s,m=Math.PI/180*n,l=Math.cos(m),p=Math.sin(m);for(const r of a){const[o,c]=r;r[0]=(o-t)*l-(c-e)*p+t,r[1]=(o-t)*p+(c-e)*l+e}}}function Ho(a,s,n){const t=[];a.forEach(e=>t.push(...e)),In(t,s,n)}function Vo(a,s){return a[0]===s[0]&&a[1]===s[1]}function Fo(a,s,n,t=1){const e=n,m=Math.max(s,.1),l=a[0]&&a[0][0]&&typeof a[0][0]=="number"?[a]:a,p=[0,0];if(e)for(const o of l)In(o,p,e);const r=qo(l,m,t);if(e){for(const o of l)In(o,p,-e);Ho(r,p,-e)}return r}function qo(a,s,n){const t=[];for(const o of a){const c=[...o];Vo(c[0],c[c.length-1])||c.push([c[0][0],c[0][1]]),c.length>2&&t.push(c)}const e=[];s=Math.max(s,.1);const m=[];for(const o of t)for(let c=0;c<o.length-1;c++){const u=o[c],h=o[c+1];if(u[1]!==h[1]){const i=Math.min(u[1],h[1]);m.push({ymin:i,ymax:Math.max(u[1],h[1]),x:i===u[1]?u[0]:h[0],islope:(h[0]-u[0])/(h[1]-u[1])})}}if(m.sort((o,c)=>o.ymin<c.ymin?-1:o.ymin>c.ymin?1:o.x<c.x?-1:o.x>c.x?1:o.ymax===c.ymax?0:(o.ymax-c.ymax)/Math.abs(o.ymax-c.ymax)),!m.length)return e;let l=[],p=m[0].ymin,r=0;for(;l.length||m.length;){if(m.length){let o=-1;for(let u=0;u<m.length&&!(m[u].ymin>p);u++)o=u;m.splice(0,o+1).forEach(u=>{l.push({s:p,edge:u})})}if(l=l.filter(o=>!(o.edge.ymax<=p)),l.sort((o,c)=>o.edge.x===c.edge.x?0:(o.edge.x-c.edge.x)/Math.abs(o.edge.x-c.edge.x)),(n!==1||r%s===0)&&l.length>1)for(let o=0;o<l.length;o=o+2){const c=o+1;if(c>=l.length)break;const u=l[o].edge,h=l[c].edge;e.push([[Math.round(u.x),p],[Math.round(h.x),p]])}p+=n,l.forEach(o=>{o.edge.x=o.edge.x+n*o.edge.islope}),r++}return e}function Ta(a,s){var n;const t=s.hachureAngle+90;let e=s.hachureGap;e<0&&(e=s.strokeWidth*4),e=Math.round(Math.max(e,.1));let m=1;return s.roughness>=1&&(((n=s.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(m=e),Fo(a,e,t,m||1)}class et{constructor(s){this.helper=s}fillPolygons(s,n){return this._fillPolygons(s,n)}_fillPolygons(s,n){const t=Ta(s,n);return{type:"fillSketch",ops:this.renderLines(t,n)}}renderLines(s,n){const t=[];for(const e of s)t.push(...this.helper.doubleLineOps(e[0][0],e[0][1],e[1][0],e[1][1],n));return t}}function dn(a){const s=a[0],n=a[1];return Math.sqrt(Math.pow(s[0]-n[0],2)+Math.pow(s[1]-n[1],2))}class Bo extends et{fillPolygons(s,n){let t=n.hachureGap;t<0&&(t=n.strokeWidth*4),t=Math.max(t,.1);const e=Object.assign({},n,{hachureGap:t}),m=Ta(s,e),l=Math.PI/180*n.hachureAngle,p=[],r=t*.5*Math.cos(l),o=t*.5*Math.sin(l);for(const[u,h]of m)dn([u,h])&&p.push([[u[0]-r,u[1]+o],[...h]],[[u[0]+r,u[1]-o],[...h]]);return{type:"fillSketch",ops:this.renderLines(p,n)}}}class Wo extends et{fillPolygons(s,n){const t=this._fillPolygons(s,n),e=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),m=this._fillPolygons(s,e);return t.ops=t.ops.concat(m.ops),t}}class Jo{constructor(s){this.helper=s}fillPolygons(s,n){n=Object.assign({},n,{hachureAngle:0});const t=Ta(s,n);return this.dotsOnLines(t,n)}dotsOnLines(s,n){const t=[];let e=n.hachureGap;e<0&&(e=n.strokeWidth*4),e=Math.max(e,.1);let m=n.fillWeight;m<0&&(m=n.strokeWidth/2);const l=e/4;for(const p of s){const r=dn(p),o=r/e,c=Math.ceil(o)-1,u=r-c*e,h=(p[0][0]+p[1][0])/2-e/4,i=Math.min(p[0][1],p[1][1]);for(let d=0;d<c;d++){const g=i+u+d*e,f=h-l+Math.random()*2*l,y=g-l+Math.random()*2*l,w=this.helper.ellipse(f,y,m,m,n);t.push(...w.ops)}}return{type:"fillSketch",ops:t}}}class Uo{constructor(s){this.helper=s}fillPolygons(s,n){const t=Ta(s,n);return{type:"fillSketch",ops:this.dashedLine(t,n)}}dashedLine(s,n){const t=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,e=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,m=[];return s.forEach(l=>{const p=dn(l),r=Math.floor(p/(t+e)),o=(p+e-r*(t+e))/2;let c=l[0],u=l[1];c[0]>u[0]&&(c=l[1],u=l[0]);const h=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let i=0;i<r;i++){const d=i*(t+e),g=d+t,f=[c[0]+d*Math.cos(h)+o*Math.cos(h),c[1]+d*Math.sin(h)+o*Math.sin(h)],y=[c[0]+g*Math.cos(h)+o*Math.cos(h),c[1]+g*Math.sin(h)+o*Math.sin(h)];m.push(...this.helper.doubleLineOps(f[0],f[1],y[0],y[1],n))}}),m}}class Ko{constructor(s){this.helper=s}fillPolygons(s,n){const t=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,e=n.zigzagOffset<0?t:n.zigzagOffset;n=Object.assign({},n,{hachureGap:t+e});const m=Ta(s,n);return{type:"fillSketch",ops:this.zigzagLines(m,e,n)}}zigzagLines(s,n,t){const e=[];return s.forEach(m=>{const l=dn(m),p=Math.round(l/(2*n));let r=m[0],o=m[1];r[0]>o[0]&&(r=m[1],o=m[0]);const c=Math.atan((o[1]-r[1])/(o[0]-r[0]));for(let u=0;u<p;u++){const h=u*2*n,i=(u+1)*2*n,d=Math.sqrt(2*Math.pow(n,2)),g=[r[0]+h*Math.cos(c),r[1]+h*Math.sin(c)],f=[r[0]+i*Math.cos(c),r[1]+i*Math.sin(c)],y=[g[0]+d*Math.cos(c+Math.PI/4),g[1]+d*Math.sin(c+Math.PI/4)];e.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],t),...this.helper.doubleLineOps(y[0],y[1],f[0],f[1],t))}}),e}}const U={};function Go(a,s){let n=a.fillStyle||"hachure";if(!U[n])switch(n){case"zigzag":U[n]||(U[n]=new Bo(s));break;case"cross-hatch":U[n]||(U[n]=new Wo(s));break;case"dots":U[n]||(U[n]=new Jo(s));break;case"dashed":U[n]||(U[n]=new Uo(s));break;case"zigzag-line":U[n]||(U[n]=new Ko(s));break;default:n="hachure",U[n]||(U[n]=new et(s));break}return U[n]}const Qo=0,Hn=1,rm=2,Ha={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Zo(a){const s=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))s[s.length]={type:Qo,text:RegExp.$1},a=a.substr(RegExp.$1.length);else if(a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))s[s.length]={type:Hn,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length);else return[];return s[s.length]={type:rm,text:""},s}function Nn(a,s){return a.type===s}function mt(a){const s=[],n=Zo(a);let t="BOD",e=0,m=n[e];for(;!Nn(m,rm);){let l=0;const p=[];if(t==="BOD")if(m.text==="M"||m.text==="m")e++,l=Ha[m.text],t=m.text;else return mt("M0,0"+a);else Nn(m,Hn)?l=Ha[t]:(e++,l=Ha[m.text],t=m.text);if(e+l<n.length){for(let r=e;r<e+l;r++){const o=n[r];if(Nn(o,Hn))p[p.length]=+o.text;else throw new Error("Param not a number: "+t+","+o.text)}if(typeof Ha[t]=="number"){const r={key:t,data:p};s.push(r),e+=l,m=n[e],t==="M"&&(t="L"),t==="m"&&(t="l")}else throw new Error("Bad segment: "+t)}else throw new Error("Path data ended short")}return s}function om(a){let s=0,n=0,t=0,e=0;const m=[];for(const{key:l,data:p}of a)switch(l){case"M":m.push({key:"M",data:[...p]}),[s,n]=p,[t,e]=p;break;case"m":s+=p[0],n+=p[1],m.push({key:"M",data:[s,n]}),t=s,e=n;break;case"L":m.push({key:"L",data:[...p]}),[s,n]=p;break;case"l":s+=p[0],n+=p[1],m.push({key:"L",data:[s,n]});break;case"C":m.push({key:"C",data:[...p]}),s=p[4],n=p[5];break;case"c":{const r=p.map((o,c)=>c%2?o+n:o+s);m.push({key:"C",data:r}),s=r[4],n=r[5];break}case"Q":m.push({key:"Q",data:[...p]}),s=p[2],n=p[3];break;case"q":{const r=p.map((o,c)=>c%2?o+n:o+s);m.push({key:"Q",data:r}),s=r[2],n=r[3];break}case"A":m.push({key:"A",data:[...p]}),s=p[5],n=p[6];break;case"a":s+=p[5],n+=p[6],m.push({key:"A",data:[p[0],p[1],p[2],p[3],p[4],s,n]});break;case"H":m.push({key:"H",data:[...p]}),s=p[0];break;case"h":s+=p[0],m.push({key:"H",data:[s]});break;case"V":m.push({key:"V",data:[...p]}),n=p[0];break;case"v":n+=p[0],m.push({key:"V",data:[n]});break;case"S":m.push({key:"S",data:[...p]}),s=p[2],n=p[3];break;case"s":{const r=p.map((o,c)=>c%2?o+n:o+s);m.push({key:"S",data:r}),s=r[2],n=r[3];break}case"T":m.push({key:"T",data:[...p]}),s=p[0],n=p[1];break;case"t":s+=p[0],n+=p[1],m.push({key:"T",data:[s,n]});break;case"Z":case"z":m.push({key:"Z",data:[]}),s=t,n=e;break}return m}function im(a){const s=[];let n="",t=0,e=0,m=0,l=0,p=0,r=0;for(const{key:o,data:c}of a){switch(o){case"M":s.push({key:"M",data:[...c]}),[t,e]=c,[m,l]=c;break;case"C":s.push({key:"C",data:[...c]}),t=c[4],e=c[5],p=c[2],r=c[3];break;case"L":s.push({key:"L",data:[...c]}),[t,e]=c;break;case"H":t=c[0],s.push({key:"L",data:[t,e]});break;case"V":e=c[0],s.push({key:"L",data:[t,e]});break;case"S":{let u=0,h=0;n==="C"||n==="S"?(u=t+(t-p),h=e+(e-r)):(u=t,h=e),s.push({key:"C",data:[u,h,...c]}),p=c[0],r=c[1],t=c[2],e=c[3];break}case"T":{const[u,h]=c;let i=0,d=0;n==="Q"||n==="T"?(i=t+(t-p),d=e+(e-r)):(i=t,d=e);const g=t+2*(i-t)/3,f=e+2*(d-e)/3,y=u+2*(i-u)/3,w=h+2*(d-h)/3;s.push({key:"C",data:[g,f,y,w,u,h]}),p=i,r=d,t=u,e=h;break}case"Q":{const[u,h,i,d]=c,g=t+2*(u-t)/3,f=e+2*(h-e)/3,y=i+2*(u-i)/3,w=d+2*(h-d)/3;s.push({key:"C",data:[g,f,y,w,i,d]}),p=u,r=h,t=i,e=d;break}case"A":{const u=Math.abs(c[0]),h=Math.abs(c[1]),i=c[2],d=c[3],g=c[4],f=c[5],y=c[6];u===0||h===0?(s.push({key:"C",data:[t,e,f,y,f,y]}),t=f,e=y):(t!==f||e!==y)&&(cm(t,e,f,y,u,h,i,d,g).forEach(function(x){s.push({key:"C",data:x})}),t=f,e=y);break}case"Z":s.push({key:"Z",data:[]}),t=m,e=l;break}n=o}return s}function Yo(a){return Math.PI*a/180}function _a(a,s,n){const t=a*Math.cos(n)-s*Math.sin(n),e=a*Math.sin(n)+s*Math.cos(n);return[t,e]}function cm(a,s,n,t,e,m,l,p,r,o){const c=Yo(l);let u=[],h=0,i=0,d=0,g=0;if(o)[h,i,d,g]=o;else{[a,s]=_a(a,s,-c),[n,t]=_a(n,t,-c);const A=(a-n)/2,C=(s-t)/2;let F=A*A/(e*e)+C*C/(m*m);F>1&&(F=Math.sqrt(F),e=F*e,m=F*m);const I=p===r?-1:1,z=e*e,ls=m*m,os=z*ls-z*C*C-ls*A*A,ka=z*C*C+ls*A*A,G=I*Math.sqrt(Math.abs(os/ka));d=G*e*C/m+(a+n)/2,g=G*-m*A/e+(s+t)/2,h=Math.asin(parseFloat(((s-g)/m).toFixed(9))),i=Math.asin(parseFloat(((t-g)/m).toFixed(9))),a<d&&(h=Math.PI-h),n<d&&(i=Math.PI-i),h<0&&(h=Math.PI*2+h),i<0&&(i=Math.PI*2+i),r&&h>i&&(h=h-Math.PI*2),!r&&i>h&&(i=i-Math.PI*2)}let f=i-h;if(Math.abs(f)>Math.PI*120/180){const A=i,C=n,F=t;r&&i>h?i=h+Math.PI*120/180*1:i=h+Math.PI*120/180*-1,n=d+e*Math.cos(i),t=g+m*Math.sin(i),u=cm(n,t,C,F,e,m,l,0,r,[i,A,d,g])}f=i-h;const y=Math.cos(h),w=Math.sin(h),x=Math.cos(i),k=Math.sin(i),_=Math.tan(f/4),T=4/3*e*_,P=4/3*m*_,V=[a,s],J=[a+T*w,s-P*y],rs=[n+T*k,t-P*x],Y=[n,t];if(J[0]=2*V[0]-J[0],J[1]=2*V[1]-J[1],o)return[J,rs,Y].concat(u);{u=[J,rs,Y].concat(u);const A=[];for(let C=0;C<u.length;C+=3){const F=_a(u[C][0],u[C][1],c),I=_a(u[C+1][0],u[C+1][1],c),z=_a(u[C+2][0],u[C+2][1],c);A.push([F[0],F[1],I[0],I[1],z[0],z[1]])}return A}}const Xo={randOffset:ni,randOffsetWithRange:ti,ellipse:Vn,doubleLineOps:ei};function X(a,s,n,t,e){return{type:"path",ops:cs(a,s,n,t,e)}}function $a(a,s,n){const t=(a||[]).length;if(t>2){const e=[];for(let m=0;m<t-1;m++)e.push(...cs(a[m][0],a[m][1],a[m+1][0],a[m+1][1],n));return s&&e.push(...cs(a[t-1][0],a[t-1][1],a[0][0],a[0][1],n)),{type:"path",ops:e}}else if(t===2)return X(a[0][0],a[0][1],a[1][0],a[1][1],n);return{type:"path",ops:[]}}function si(a,s){return $a(a,!0,s)}function hm(a,s,n,t,e){const m=[[a,s],[a+n,s],[a+n,s+t],[a,s+t]];return si(m,e)}function de(a,s){if(a.length){const t=typeof a[0][0]=="number"?[a]:a,e=Va(t[0],1*(1+s.roughness*.2),s),m=s.disableMultiStroke?[]:Va(t[0],1.5*(1+s.roughness*.22),we(s));for(let l=1;l<t.length;l++){const p=t[l];if(p.length){const r=Va(p,1*(1+s.roughness*.2),s),o=s.disableMultiStroke?[]:Va(p,1.5*(1+s.roughness*.22),we(s));for(const c of r)c.op!=="move"&&e.push(c);for(const c of o)c.op!=="move"&&m.push(c)}}return{type:"path",ops:e.concat(m)}}return{type:"path",ops:[]}}function Vn(a,s,n,t,e){const m=um(n,t,e);return Fn(a,s,e,m).opset}function um(a,s,n){const t=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(a/2,2)+Math.pow(s/2,2))/2)),e=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*t)),m=Math.PI*2/e;let l=Math.abs(a/2),p=Math.abs(s/2);const r=1-n.curveFitting;return l+=N(l*r,n),p+=N(p*r,n),{increment:m,rx:l,ry:p}}function Fn(a,s,n,t){const[e,m]=xe(t.increment,a,s,t.rx,t.ry,1,t.increment*nn(.1,nn(.4,1,n),n),n);let l=tn(e,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[p]=xe(t.increment,a,s,t.rx,t.ry,1.5,0,n),r=tn(p,null,n);l=l.concat(r)}return{estimatedPoints:m,opset:{type:"path",ops:l}}}function fe(a,s,n,t,e,m,l,p,r){const o=a,c=s;let u=Math.abs(n/2),h=Math.abs(t/2);u+=N(u*.01,r),h+=N(h*.01,r);let i=e,d=m;for(;i<0;)i+=Math.PI*2,d+=Math.PI*2;d-i>Math.PI*2&&(i=0,d=Math.PI*2);const g=Math.PI*2/r.curveStepCount,f=Math.min(g/2,(d-i)/2),y=ke(f,o,c,u,h,i,d,1,r);if(!r.disableMultiStroke){const w=ke(f,o,c,u,h,i,d,1.5,r);y.push(...w)}return l&&(p?y.push(...cs(o,c,o+u*Math.cos(i),c+h*Math.sin(i),r),...cs(o,c,o+u*Math.cos(d),c+h*Math.sin(d),r)):y.push({op:"lineTo",data:[o,c]},{op:"lineTo",data:[o+u*Math.cos(i),c+h*Math.sin(i)]})),{type:"path",ops:y}}function ye(a,s){const n=im(om(mt(a))),t=[];let e=[0,0],m=[0,0];for(const{key:l,data:p}of n)switch(l){case"M":{m=[p[0],p[1]],e=[p[0],p[1]];break}case"L":t.push(...cs(m[0],m[1],p[0],p[1],s)),m=[p[0],p[1]];break;case"C":{const[r,o,c,u,h,i]=p;t.push(...mi(r,o,c,u,h,i,m,s)),m=[h,i];break}case"Z":t.push(...cs(m[0],m[1],e[0],e[1],s)),m=[e[0],e[1]];break}return{type:"path",ops:t}}function Ln(a,s){const n=[];for(const t of a)if(t.length){const e=s.maxRandomnessOffset||0,m=t.length;if(m>2){n.push({op:"move",data:[t[0][0]+N(e,s),t[0][1]+N(e,s)]});for(let l=1;l<m;l++)n.push({op:"lineTo",data:[t[l][0]+N(e,s),t[l][1]+N(e,s)]})}}return{type:"fillPath",ops:n}}function ha(a,s){return Go(s,Xo).fillPolygons(a,s)}function ai(a,s,n,t,e,m,l){const p=a,r=s;let o=Math.abs(n/2),c=Math.abs(t/2);o+=N(o*.01,l),c+=N(c*.01,l);let u=e,h=m;for(;u<0;)u+=Math.PI*2,h+=Math.PI*2;h-u>Math.PI*2&&(u=0,h=Math.PI*2);const i=(h-u)/l.curveStepCount,d=[];for(let g=u;g<=h;g=g+i)d.push([p+o*Math.cos(g),r+c*Math.sin(g)]);return d.push([p+o*Math.cos(h),r+c*Math.sin(h)]),d.push([p,r]),ha([d],l)}function ni(a,s){return N(a,s)}function ti(a,s,n){return nn(a,s,n)}function ei(a,s,n,t,e){return cs(a,s,n,t,e,!0)}function we(a){const s=Object.assign({},a);return s.randomizer=void 0,a.seed&&(s.seed=a.seed+1),s}function gm(a){return a.randomizer||(a.randomizer=new Io(a.seed||0)),a.randomizer.next()}function nn(a,s,n,t=1){return n.roughness*t*(gm(n)*(s-a)+a)}function N(a,s,n=1){return nn(-a,a,s,n)}function cs(a,s,n,t,e,m=!1){const l=m?e.disableMultiStrokeFill:e.disableMultiStroke,p=qn(a,s,n,t,e,!0,!1);if(l)return p;const r=qn(a,s,n,t,e,!0,!0);return p.concat(r)}function qn(a,s,n,t,e,m,l){const p=Math.pow(a-n,2)+Math.pow(s-t,2),r=Math.sqrt(p);let o=1;r<200?o=1:r>500?o=.4:o=-.0016668*r+1.233334;let c=e.maxRandomnessOffset||0;c*c*100>p&&(c=r/10);const u=c/2,h=.2+gm(e)*.2;let i=e.bowing*e.maxRandomnessOffset*(t-s)/200,d=e.bowing*e.maxRandomnessOffset*(a-n)/200;i=N(i,e,o),d=N(d,e,o);const g=[],f=()=>N(u,e,o),y=()=>N(c,e,o),w=e.preserveVertices;return l?g.push({op:"move",data:[a+(w?0:f()),s+(w?0:f())]}):g.push({op:"move",data:[a+(w?0:N(c,e,o)),s+(w?0:N(c,e,o))]}),l?g.push({op:"bcurveTo",data:[i+a+(n-a)*h+f(),d+s+(t-s)*h+f(),i+a+2*(n-a)*h+f(),d+s+2*(t-s)*h+f(),n+(w?0:f()),t+(w?0:f())]}):g.push({op:"bcurveTo",data:[i+a+(n-a)*h+y(),d+s+(t-s)*h+y(),i+a+2*(n-a)*h+y(),d+s+2*(t-s)*h+y(),n+(w?0:y()),t+(w?0:y())]}),g}function Va(a,s,n){if(!a.length)return[];const t=[];t.push([a[0][0]+N(s,n),a[0][1]+N(s,n)]),t.push([a[0][0]+N(s,n),a[0][1]+N(s,n)]);for(let e=1;e<a.length;e++)t.push([a[e][0]+N(s,n),a[e][1]+N(s,n)]),e===a.length-1&&t.push([a[e][0]+N(s,n),a[e][1]+N(s,n)]);return tn(t,null,n)}function tn(a,s,n){const t=a.length,e=[];if(t>3){const m=[],l=1-n.curveTightness;e.push({op:"move",data:[a[1][0],a[1][1]]});for(let p=1;p+2<t;p++){const r=a[p];m[0]=[r[0],r[1]],m[1]=[r[0]+(l*a[p+1][0]-l*a[p-1][0])/6,r[1]+(l*a[p+1][1]-l*a[p-1][1])/6],m[2]=[a[p+1][0]+(l*a[p][0]-l*a[p+2][0])/6,a[p+1][1]+(l*a[p][1]-l*a[p+2][1])/6],m[3]=[a[p+1][0],a[p+1][1]],e.push({op:"bcurveTo",data:[m[1][0],m[1][1],m[2][0],m[2][1],m[3][0],m[3][1]]})}}else t===3?(e.push({op:"move",data:[a[1][0],a[1][1]]}),e.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[2][0],a[2][1]]})):t===2&&e.push(...qn(a[0][0],a[0][1],a[1][0],a[1][1],n,!0,!0));return e}function xe(a,s,n,t,e,m,l,p){const r=p.roughness===0,o=[],c=[];if(r){a=a/4,c.push([s+t*Math.cos(-a),n+e*Math.sin(-a)]);for(let u=0;u<=Math.PI*2;u=u+a){const h=[s+t*Math.cos(u),n+e*Math.sin(u)];o.push(h),c.push(h)}c.push([s+t*Math.cos(0),n+e*Math.sin(0)]),c.push([s+t*Math.cos(a),n+e*Math.sin(a)])}else{const u=N(.5,p)-Math.PI/2;c.push([N(m,p)+s+.9*t*Math.cos(u-a),N(m,p)+n+.9*e*Math.sin(u-a)]);const h=Math.PI*2+u-.01;for(let i=u;i<h;i=i+a){const d=[N(m,p)+s+t*Math.cos(i),N(m,p)+n+e*Math.sin(i)];o.push(d),c.push(d)}c.push([N(m,p)+s+t*Math.cos(u+Math.PI*2+l*.5),N(m,p)+n+e*Math.sin(u+Math.PI*2+l*.5)]),c.push([N(m,p)+s+.98*t*Math.cos(u+l),N(m,p)+n+.98*e*Math.sin(u+l)]),c.push([N(m,p)+s+.9*t*Math.cos(u+l*.5),N(m,p)+n+.9*e*Math.sin(u+l*.5)])}return[c,o]}function ke(a,s,n,t,e,m,l,p,r){const o=m+N(.1,r),c=[];c.push([N(p,r)+s+.9*t*Math.cos(o-a),N(p,r)+n+.9*e*Math.sin(o-a)]);for(let u=o;u<=l;u=u+a)c.push([N(p,r)+s+t*Math.cos(u),N(p,r)+n+e*Math.sin(u)]);return c.push([s+t*Math.cos(l),n+e*Math.sin(l)]),c.push([s+t*Math.cos(l),n+e*Math.sin(l)]),tn(c,null,r)}function mi(a,s,n,t,e,m,l,p){const r=[],o=[p.maxRandomnessOffset||1,(p.maxRandomnessOffset||1)+.3];let c=[0,0];const u=p.disableMultiStroke?1:2,h=p.preserveVertices;for(let i=0;i<u;i++)i===0?r.push({op:"move",data:[l[0],l[1]]}):r.push({op:"move",data:[l[0]+(h?0:N(o[0],p)),l[1]+(h?0:N(o[0],p))]}),c=h?[e,m]:[e+N(o[i],p),m+N(o[i],p)],r.push({op:"bcurveTo",data:[a+N(o[i],p),s+N(o[i],p),n+N(o[i],p),t+N(o[i],p),c[0],c[1]]});return r}function Na(a){return[...a]}function ve(a,s=0){const n=a.length;if(n<3)throw new Error("A curve must have at least three points.");const t=[];if(n===3)t.push(Na(a[0]),Na(a[1]),Na(a[2]),Na(a[2]));else{const e=[];e.push(a[0],a[0]);for(let p=1;p<a.length;p++)e.push(a[p]),p===a.length-1&&e.push(a[p]);const m=[],l=1-s;t.push(Na(e[0]));for(let p=1;p+2<e.length;p++){const r=e[p];m[0]=[r[0],r[1]],m[1]=[r[0]+(l*e[p+1][0]-l*e[p-1][0])/6,r[1]+(l*e[p+1][1]-l*e[p-1][1])/6],m[2]=[e[p+1][0]+(l*e[p][0]-l*e[p+2][0])/6,e[p+1][1]+(l*e[p][1]-l*e[p+2][1])/6],m[3]=[e[p+1][0],e[p+1][1]],t.push(m[1],m[2],m[3])}}return t}function li(a,s){return Math.sqrt(Ka(a,s))}function Ka(a,s){return Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2)}function pi(a,s,n){const t=Ka(s,n);if(t===0)return Ka(a,s);let e=((a[0]-s[0])*(n[0]-s[0])+(a[1]-s[1])*(n[1]-s[1]))/t;return e=Math.max(0,Math.min(1,e)),Ka(a,ma(s,n,e))}function ma(a,s,n){return[a[0]+(s[0]-a[0])*n,a[1]+(s[1]-a[1])*n]}function ri(a,s){const n=a[s+0],t=a[s+1],e=a[s+2],m=a[s+3];let l=3*t[0]-2*n[0]-m[0];l*=l;let p=3*t[1]-2*n[1]-m[1];p*=p;let r=3*e[0]-2*m[0]-n[0];r*=r;let o=3*e[1]-2*m[1]-n[1];return o*=o,l<r&&(l=r),p<o&&(p=o),l+p}function Bn(a,s,n,t){const e=t||[];if(ri(a,s)<n){const m=a[s+0];e.length?li(e[e.length-1],m)>1&&e.push(m):e.push(m),e.push(a[s+3])}else{const l=a[s+0],p=a[s+1],r=a[s+2],o=a[s+3],c=ma(l,p,.5),u=ma(p,r,.5),h=ma(r,o,.5),i=ma(c,u,.5),d=ma(u,h,.5),g=ma(i,d,.5);Bn([l,c,i,g],0,n,e),Bn([g,d,h,o],0,n,e)}return e}function oi(a,s){return en(a,0,a.length,s)}function en(a,s,n,t,e){const m=e||[],l=a[s],p=a[n-1];let r=0,o=1;for(let c=s+1;c<n-1;++c){const u=pi(a[c],l,p);u>r&&(r=u,o=c)}return Math.sqrt(r)>t?(en(a,s,o+1,t,m),en(a,o,n,t,m)):(m.length||m.push(l),m.push(p)),m}function Wn(a,s=.15,n){const t=[],e=(a.length-1)/3;for(let m=0;m<e;m++){const l=m*3;Bn(a,l,s,t)}return n&&n>0?en(t,0,t.length,n):t}function ii(a,s,n){const t=mt(a),e=im(om(t)),m=[];let l=[],p=[0,0],r=[];const o=()=>{r.length>=4&&l.push(...Wn(r,s)),r=[]},c=()=>{o(),l.length&&(m.push(l),l=[])};for(const{key:h,data:i}of e)switch(h){case"M":c(),p=[i[0],i[1]],l.push(p);break;case"L":o(),l.push([i[0],i[1]]);break;case"C":if(!r.length){const d=l.length?l[l.length-1]:p;r.push([d[0],d[1]])}r.push([i[0],i[1]]),r.push([i[2],i[3]]),r.push([i[4],i[5]]);break;case"Z":o(),l.push([p[0],p[1]]);break}if(c(),!n)return m;const u=[];for(const h of m){const i=oi(h,n);i.length&&u.push(i)}return u}const Q="none";class ci{constructor(s){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=s||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return pm()}_o(s){return s?Object.assign({},this.defaultOptions,s):this.defaultOptions}_d(s,n,t){return{shape:s,sets:n||[],options:t||this.defaultOptions}}line(s,n,t,e,m){const l=this._o(m);return this._d("line",[X(s,n,t,e,l)],l)}rectangle(s,n,t,e,m){const l=this._o(m),p=[],r=hm(s,n,t,e,l);if(l.fill){const o=[[s,n],[s+t,n],[s+t,n+e],[s,n+e]];l.fillStyle==="solid"?p.push(Ln([o],l)):p.push(ha([o],l))}return l.stroke!==Q&&p.push(r),this._d("rectangle",p,l)}ellipse(s,n,t,e,m){const l=this._o(m),p=[],r=um(t,e,l),o=Fn(s,n,l,r);if(l.fill)if(l.fillStyle==="solid"){const c=Fn(s,n,l,r).opset;c.type="fillPath",p.push(c)}else p.push(ha([o.estimatedPoints],l));return l.stroke!==Q&&p.push(o.opset),this._d("ellipse",p,l)}circle(s,n,t,e){const m=this.ellipse(s,n,t,t,e);return m.shape="circle",m}linearPath(s,n){const t=this._o(n);return this._d("linearPath",[$a(s,!1,t)],t)}arc(s,n,t,e,m,l,p=!1,r){const o=this._o(r),c=[],u=fe(s,n,t,e,m,l,p,!0,o);if(p&&o.fill)if(o.fillStyle==="solid"){const h=Object.assign({},o);h.disableMultiStroke=!0;const i=fe(s,n,t,e,m,l,!0,!1,h);i.type="fillPath",c.push(i)}else c.push(ai(s,n,t,e,m,l,o));return o.stroke!==Q&&c.push(u),this._d("arc",c,o)}curve(s,n){const t=this._o(n),e=[],m=de(s,t);if(t.fill&&t.fill!==Q)if(t.fillStyle==="solid"){const l=de(s,Object.assign(Object.assign({},t),{disableMultiStroke:!0,roughness:t.roughness?t.roughness+t.fillShapeRoughnessGain:0}));e.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],p=s;if(p.length){const o=typeof p[0][0]=="number"?[p]:p;for(const c of o)c.length<3?l.push(...c):c.length===3?l.push(...Wn(ve([c[0],c[0],c[1],c[2]]),10,(1+t.roughness)/2)):l.push(...Wn(ve(c),10,(1+t.roughness)/2))}l.length&&e.push(ha([l],t))}return t.stroke!==Q&&e.push(m),this._d("curve",e,t)}polygon(s,n){const t=this._o(n),e=[],m=$a(s,!0,t);return t.fill&&(t.fillStyle==="solid"?e.push(Ln([s],t)):e.push(ha([s],t))),t.stroke!==Q&&e.push(m),this._d("polygon",e,t)}path(s,n){const t=this._o(n),e=[];if(!s)return this._d("path",e,t);s=(s||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const m=t.fill&&t.fill!=="transparent"&&t.fill!==Q,l=t.stroke!==Q,p=!!(t.simplification&&t.simplification<1),r=p?4-4*(t.simplification||1):(1+t.roughness)/2,o=ii(s,1,r),c=ye(s,t);if(m)if(t.fillStyle==="solid")if(o.length===1){const u=ye(s,Object.assign(Object.assign({},t),{disableMultiStroke:!0,roughness:t.roughness?t.roughness+t.fillShapeRoughnessGain:0}));e.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else e.push(Ln(o,t));else e.push(ha(o,t));return l&&(p?o.forEach(u=>{e.push($a(u,!1,t))}):e.push(c)),this._d("path",e,t)}opsToPath(s,n){let t="";for(const e of s.ops){const m=typeof n=="number"&&n>=0?e.data.map(l=>+l.toFixed(n)):e.data;switch(e.op){case"move":t+=`M${m[0]} ${m[1]} `;break;case"bcurveTo":t+=`C${m[0]} ${m[1]}, ${m[2]} ${m[3]}, ${m[4]} ${m[5]} `;break;case"lineTo":t+=`L${m[0]} ${m[1]} `;break}}return t.trim()}toPaths(s){const n=s.sets||[],t=s.options||this.defaultOptions,e=[];for(const m of n){let l=null;switch(m.type){case"path":l={d:this.opsToPath(m),stroke:t.stroke,strokeWidth:t.strokeWidth,fill:Q};break;case"fillPath":l={d:this.opsToPath(m),stroke:Q,strokeWidth:0,fill:t.fill||Q};break;case"fillSketch":l=this.fillSketch(m,t);break}l&&e.push(l)}return e}fillSketch(s,n){let t=n.fillWeight;return t<0&&(t=n.strokeWidth/2),{d:this.opsToPath(s),stroke:n.fill||Q,strokeWidth:t,fill:Q}}_mergedShape(s){return s.filter((n,t)=>t===0?!0:n.op!=="move")}}const dm="http://www.w3.org/2000/svg",hi=800;let On=null;function ui(){return On||(On=new ci().defaultOptions),On}function Sn(a,s,n){return{...ui(),maxRandomnessOffset:2,roughness:a==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:a!=="double",disableMultiStrokeFill:!1,seed:s,...n}}function gi(a){const s=a.padding;if(s||s===0){if(typeof s=="number")return[s,s,s,s];if(Array.isArray(s)){const n=s;if(n.length)switch(n.length){case 4:return[...n];case 1:return[n[0],n[0],n[0],n[0]];case 2:return[...n,...n];case 3:return[...n,n[1]];default:return[n[0],n[1],n[2],n[3]]}}}return[5,5,5,5]}function di(a,s,n,t,e,m){const l=[];let p=n.strokeWidth||2;const r=gi(n),o=n.animate===void 0?!0:!!n.animate,c=n.iterations||2,u=n.rtl?1:0,h=Sn("single",m,n);switch(n.type){case"underline":{const i=s.y+s.h+r[2];for(let d=u;d<c+u;d++)d%2?l.push(X(s.x+s.w,i,s.x,i,h)):l.push(X(s.x,i,s.x+s.w,i,h));break}case"strike-through":{const i=s.y+s.h/2;for(let d=u;d<c+u;d++)d%2?l.push(X(s.x+s.w,i,s.x,i,h)):l.push(X(s.x,i,s.x+s.w,i,h));break}case"box":{const i=s.x-r[3],d=s.y-r[0],g=s.w+(r[1]+r[3]),f=s.h+(r[0]+r[2]);for(let y=0;y<c;y++)l.push(hm(i,d,g,f,h));break}case"bracket":{const i=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],d=s.x-r[3]*2,g=s.x+s.w+r[1]*2,f=s.y-r[0]*2,y=s.y+s.h+r[2]*2;for(const w of i){let x;switch(w){case"bottom":x=[[d,s.y+s.h],[d,y],[g,y],[g,s.y+s.h]];break;case"top":x=[[d,s.y],[d,f],[g,f],[g,s.y]];break;case"left":x=[[s.x,f],[d,f],[d,y],[s.x,y]];break;case"right":x=[[s.x+s.w,f],[g,f],[g,y],[s.x+s.w,y]];break}x&&l.push($a(x,!1,h))}break}case"crossed-off":{const i=s.x,d=s.y,g=i+s.w,f=d+s.h;for(let y=u;y<c+u;y++)y%2?l.push(X(g,f,i,d,h)):l.push(X(i,d,g,f,h));for(let y=u;y<c+u;y++)y%2?l.push(X(i,f,g,d,h)):l.push(X(g,d,i,f,h));break}case"circle":{const i=Sn("double",m,n),d=s.w+(r[1]+r[3]),g=s.h+(r[0]+r[2]),f=s.x-r[3]+d/2,y=s.y-r[0]+g/2,w=Math.floor(c/2),x=c-w*2;for(let k=0;k<w;k++)l.push(Vn(f,y,d,g,i));for(let k=0;k<x;k++)l.push(Vn(f,y,d,g,h));break}case"highlight":{const i=Sn("highlight",m,n);p=s.h*.95;const d=s.y+s.h/2;for(let g=u;g<c+u;g++)g%2?l.push(X(s.x+s.w,d,s.x,d,i)):l.push(X(s.x,d,s.x+s.w,d,i));break}}if(l.length){const i=fi(l),d=[],g=[];let f=0;const y=(w,x,k)=>w.setAttribute(x,k);for(const w of i){const x=document.createElementNS(dm,"path");if(y(x,"d",w),y(x,"fill","none"),y(x,"stroke",n.color||"currentColor"),y(x,"stroke-width",`${p}`),n.opacity!==void 0&&y(x,"style",`opacity:${n.opacity}`),o){const k=x.getTotalLength();d.push(k),f+=k}a.appendChild(x),g.push(x)}if(o){let w=0;for(let x=0;x<g.length;x++){const k=g[x],_=d[x],T=f?e*(_/f):0,P=t+w,V=k.style;V.strokeDashoffset=`${_}`,V.strokeDasharray=`${_}`,V.animation=`rough-notation-dash ${T}ms ease-out ${P}ms forwards`,w+=T}return Me(e+t)}}return Me(0)}function Me(a){return new Promise(s=>setTimeout(s,a))}function fi(a){const s=[];for(const n of a){let t="";for(const e of n.ops){const m=e.data;switch(e.op){case"move":t.trim()&&s.push(t.trim()),t=`M${m[0]} ${m[1]} `;break;case"bcurveTo":t+=`C${m[0]} ${m[1]}, ${m[2]} ${m[3]}, ${m[4]} ${m[5]} `;break;case"lineTo":t+=`L${m[0]} ${m[1]} `;break}}t.trim()&&s.push(t.trim())}return s}function yi(){if(!window.__rno_kf_s){const a=window.__rno_kf_s=document.createElement("style");a.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(a)}}var wi=Object.defineProperty,xi=(a,s,n)=>s in a?wi(a,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[s]=n,ns=(a,s,n)=>(xi(a,typeof s!="symbol"?s+"":s,n),n);class ki{constructor(s,n){ns(this,"_state","unattached"),ns(this,"_config"),ns(this,"_resizing",!1),ns(this,"_ro"),ns(this,"_seed",pm()),ns(this,"_e"),ns(this,"_svg"),ns(this,"_lastSizes",[]),ns(this,"_animationDelay",0),ns(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ns(this,"pendingRefresh"),this._e=s,this._config=JSON.parse(JSON.stringify(n)),this.attach()}getConfig(s){return this._config[s]}setConfig(s,n){this._config[s]!==n&&(this._config[s]=n,this.refresh())}get animate(){return this._config.animate}set animate(s){this._config.animate=s}get animationDuration(){return this._config.animationDuration}set animationDuration(s){this._config.animationDuration=s}get iterations(){return this._config.iterations}set iterations(s){this._config.iterations=s}get color(){return this._config.color}set color(s){this._config.color!==s&&(this._config.color=s,this.refresh())}get class(){return this._config.class}set class(s){this._config.class!==s&&(this._config.class=s,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(s){this._config.strokeWidth!==s&&(this._config.strokeWidth=s,this.refresh())}get padding(){return this._config.padding}set padding(s){this._config.padding!==s&&(this._config.padding=s,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){yi();const s=this._svg=document.createElementNS(dm,"svg");s.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const n=s.style;n.position="absolute",n.top="0",n.left="0",n.overflow="visible",n.pointerEvents="none",n.width="100px",n.height="100px";const t=this._config.type==="highlight";if(this._e.insertAdjacentElement(t?"beforebegin":"afterend",s),this._state="not-showing",t){const e=window.getComputedStyle(this._e).position;(!e||e==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(s=>{for(const n of s)n.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const s=this.rects();if(s.length===this._lastSizes.length){for(let n=0;n<s.length;n++)if(!this.isSameRect(s[n],this._lastSizes[n]))return!0}else return!0}return!1}isSameRect(s,n){const t=(e,m)=>Math.round(e)===Math.round(m);return t(s.x,n.x)&&t(s.y,n.y)&&t(s.w,n.w)&&t(s.h,n.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(s,n){let t=this._config;n&&(t=JSON.parse(JSON.stringify(this._config)),t.animate=!1);const e=this.rects();let m=0;e.forEach(o=>m+=o.w);const l=t.animationDuration||hi;let p=0;const r=[];for(let o=0;o<e.length;o++){const c=e[o],u=l*(c.w/m);r.push(di(s,e[o],t,p+this._animationDelay+(this._config.delay||0),u,this._seed)),p+=u}return this._lastSizes=e,this._state="showing",await Promise.all(r)}rects(){const s=[];if(this._svg)if(this._config.multiline){const n=this._e.getClientRects();for(let t=0;t<n.length;t++)s.push(this.svgRect(this._svg,n[t]))}else s.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return s}svgRect(s,n){const t=s.getBoundingClientRect(),e=n;return{x:(e.x||e.left)-(t.x||t.left),y:(e.y||e.top)-(t.y||t.top),w:e.width,h:e.height}}}function vi(a,s){return new ki(a,s)}function K(a,s){return a.class=[a.class,s].filter(Boolean).join(" "),a}const be={box:a=>Object.assign(a,{type:"box"}),circle:a=>Object.assign(a,{type:"circle"}),underline:a=>Object.assign(a,{type:"underline"}),highlight:a=>Object.assign(a,{type:"highlight"}),"strike-through":a=>Object.assign(a,{type:"strike-through"}),"crossed-off":a=>Object.assign(a,{type:"crossed-off"}),bracket:a=>Object.assign(a,{type:"bracket"}),strike:a=>Object.assign(a,{type:"strike-through"}),cross:a=>Object.assign(a,{type:"crossed-off"}),crossed:a=>Object.assign(a,{type:"crossed-off"}),linethrough:a=>Object.assign(a,{type:"strike-through"}),"line-through":a=>Object.assign(a,{type:"strike-through"}),black:a=>K(a,"text-black"),blue:a=>K(a,"text-blue"),cyan:a=>K(a,"text-cyan"),gray:a=>K(a,"text-gray"),green:a=>K(a,"text-green"),indigo:a=>K(a,"text-indigo"),lime:a=>K(a,"text-lime"),orange:a=>K(a,"text-orange"),pink:a=>K(a,"text-pink"),purple:a=>K(a,"text-purple"),red:a=>K(a,"text-red"),teal:a=>K(a,"text-teal"),white:a=>K(a,"text-white"),yellow:a=>K(a,"text-yellow")},Mi=[[/^delay-?(\d+)?$/,(a,s,n)=>{const t=(a[1]?Number.parseInt(a[1]):n)||300;return s.delay=t,s}],[/^(?:op|opacity)-?(\d+)?$/,(a,s,n)=>{const t=(a[1]?Number.parseInt(a[1]):n)||100;return s.opacity=t/100,s}]];function bi(){return{install(a){a.directive("mark",{name:"v-mark",mounted:(s,n)=>{const{isPrintMode:t}=xa(),e=v(()=>{const p=typeof n.value=="object"&&!Array.isArray(n.value)?{...n.value}:{at:n.value};let r={at:p.at};const o=Object.entries(n.modifiers).filter(([u,h])=>{if(be[u])return r=be[u](r,h),!1;for(const[i,d]of Mi){const g=u.match(i);if(g)return r=d(g,r,h),!1}return!0});o.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",o);const c={...r,...p};return c.type||="underline",t.value&&(c.animationDuration=1),c}),m=vi(s,e.value),l=Ua(s,n,e.value.at);if(!l){m.show();return}s.watchStopHandle=ya(()=>{let p;e.value.class&&(m.class=e.value.class),e.value.color&&(m.color=e.value.color);const r=e.value.at;r===!0?p=!0:r===!1?p=!1:p=l.isActive.value,p!=null&&(p?m.show():m.hide())})},unmounted:s=>{s.watchStopHandle?.()}})}}}function _i(){return{install(a){const s=Bm();a.directive("motion",{name:"v-motion",mounted(n,t,e,m){const l=wa(t,pn),p=wa(t,Un),r=wa(t,Kn),{currentPage:o,clicks:c,isPrintMode:u}=xa(),h=e.props={...e.props},i={...h.initial,...h.variants?.["slidev-initial"]},d={...h.enter,...h.variants?.["slidev-enter"]},g={...h.leave,...h.variants?.["slidev-leave"]};delete h.initial,delete h.enter,delete h.leave;const f=`${tt()}-`,y=[];for(const x of Object.keys(h))if(x.startsWith("click-")){const k=x.slice(6),_=k.includes("-")?k.split("-").map(Number):+k,T=f+k;y.push({id:T,at:_,variant:{...h[x]},info:l?.value.calculate(_)}),delete h[x]}y.sort((x,k)=>(Array.isArray(x.at)?x.at[0]:x.at)-(Array.isArray(k.at)?k.at[0]:k.at)),s.created(n,t,e,m),s.mounted(n,t,e,m);const w=n.motionInstance;w.clickIds=y.map(x=>x.id),w.set(i),w.watchStopHandle=ss([p,o,c].filter(Boolean),()=>{const x=lm.get(n)?.visibilityState.value??"shown";if(!l?.value||!["slide","presenter"].includes(r?.value??"")){const k={...i,...d};for(const{variant:_}of y)Object.assign(k,_);w.set(k)}else if(u.value||p?.value===o.value)if(x==="shown"){const k={...i,...d};for(const{variant:_,info:T}of y)(!T||T.isActive.value)&&Object.assign(k,_);u.value?w.set(k):w.apply(k)}else w.apply(x==="before"?i:g);else w.apply((p?.value??-1)>o.value?i:g)},{immediate:!0})},unmounted(n){n.motionInstance.watchStopHandle()}})}}}const Ni=[Object.values([])[0],Object.values([])[0]].filter(Boolean);function Li(){const a=[];function s(n){if(!R.remote||R.remote===n.query.password)return!0;if(R.remote&&n.query.password===void 0){const t=prompt("Enter password");if(R.remote===t)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}}return a.push({name:"entry",path:"/entry",component:()=>M(()=>import("./slidev/entry-Cngqimn2.js"),__vite__mapDeps([58,1,3,4,59]),import.meta.url),beforeEnter:s},{name:"overview",path:"/overview",component:()=>M(()=>import("./slidev/overview-Bv6S6oFO.js"),__vite__mapDeps([60,14,1,61,62,63,2,64,65,66,3,4]),import.meta.url),beforeEnter:s},{name:"notes",path:"/notes",component:()=>M(()=>import("./slidev/notes-BBDUFjrC.js"),__vite__mapDeps([67,1,61,62,68,65,69,3,4]),import.meta.url),beforeEnter:s},{name:"notes-edit",path:"/notes-edit",component:()=>M(()=>import("./slidev/notes-edit-BaheCnVn.js"),__vite__mapDeps([70,1,66,65,69,3,4]),import.meta.url),beforeEnter:s},{name:"presenter",path:"/presenter/:no",component:()=>M(()=>import("./slidev/presenter-ZALpCOrg.js"),__vite__mapDeps([71,1,63,2,64,72,14,65,3,4,73,61,62,68,66,74]),import.meta.url),beforeEnter:s},{path:"/presenter",redirect:{path:"/presenter/1"}}),a.push({name:"play",path:"/:no",component:()=>M(()=>import("./slidev/play-T3SnacgE.js"),__vite__mapDeps([75,1,63,2,64,72,14,65,3,4,73,69,76]),import.meta.url)},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>M(()=>import("./slidev/404-DBPhhMpY.js"),__vite__mapDeps([77,1,3,4,78]),import.meta.url)}),Ni.reduce((n,t)=>t(n),a)}async function Oi(a){function s(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}s(),window.addEventListener("resize",s);const n=Wm({history:Jm("./"),routes:Li()});a.use(n),a.use(Co()),a.use(Po()),a.use(bi()),a.use(jo()),a.use(_i()),a.use(Km,{container:"#twoslash-container"});const t={app:a,router:n};for(const e of Ao)await e(t)}async function Si(){const a=Um(Lo);await Oi(a),a.mount("#app")}Si();export{Pa as $,jr as A,Bi as B,qa as C,Vr as D,zn as E,Ki as F,ac as G,Ei as H,Za as I,ji as J,Ve as K,Dr as L,Da as M,Fi as N,oc as O,Yi as P,Zi as Q,ts as R,Pr as S,zo as T,Te as U,al as V,qi as W,_r as X,Gn as Y,Ii as Z,Cl as _,xa as a,Hi as a0,Vi as a1,Ui as a2,Ji as a3,lc as a4,mc as a5,ec as a6,as as a7,tm as a8,em as a9,He as aa,Ee as ab,Pi as ac,Lr as ad,Un as ae,Kn as af,pn as ag,Or as ah,rc as ai,Nr as aj,zi as ak,$r as al,tt as am,Ma as an,tc as ao,We as b,Al as c,pc as d,je as e,Wi as f,ua as g,za as h,ce as i,Rr as j,Ya as k,Xi as l,sc as m,Qi as n,R as o,Ti as p,Ci as q,En as r,fn as s,nc as t,Ol as u,it as v,rn as w,Gi as x,Di as y,Ri as z};
