import{f as R,G as E,o as x,e as S,g as u,af as I,aM as G,F as M,aj as P,t as V,ad as N,ag as H,n as J,k as K,r as h,z as O,i as q,b as Q,w as W,d as X,v as Y,x as Z,T as F}from"./modules/vue-Bn30NdHy.js";import{u as z,f as ee}from"./slidev/context-Coc91OBq.js";import{_ as te}from"./index-DYGpBmbN.js";import"./modules/shiki-BRWydLq0.js";const ae={class:"sort-visualizer"},le={class:"sv-controls"},se=["disabled"],ne=["value"],ue={class:"sv-speed"},oe=["disabled"],ie={class:"sv-bars"},ve={class:"sv-bar-label"},ce={class:"sv-info"},re=R({__name:"SortVisualizer",setup(j){z();const b=[38,27,43,3,9,82,10,15,56,21],p=h("bubble"),o=h([...b]),_=h([]),i=h([]),v=h([]),w=h([]),A=h([]),k=h(!1),c=h(300),T=h(0);let r=!1;function m(a){return new Promise(s=>{let t=null;const e=setInterval(()=>{r&&(t&&clearTimeout(t),clearInterval(e),s())},50);t=setTimeout(()=>{clearInterval(e),s()},a)})}const U=O(()=>Math.max(...o.value,1));function B(){r=!0,setTimeout(()=>{r=!1,o.value=[...b],_.value=[],i.value=[],v.value=[],w.value=[],A.value=[],T.value=0,k.value=!1},100)}async function D(){B(),await new Promise(t=>setTimeout(t,200)),k.value=!0;const a=o.value,s=t=>{A.value.push(t),T.value++};if(p.value==="bubble")for(let t=a.length-1;t>=0&&!r;t--){for(let e=0;e<t&&!r;e++)i.value=[e,e+1],await m(c.value),a[e]>a[e+1]&&(w.value=[e,e+1],s(`交換: a[${e}]=${a[e]} ↔ a[${e+1}]=${a[e+1]}`),[a[e],a[e+1]]=[a[e+1],a[e]],o.value=[...a],await m(c.value),w.value=[]),i.value=[];v.value=[...v.value,t]}else if(p.value==="selection"){for(let t=0;t<a.length-1&&!r;t++){let e=t;_.value=[t];for(let l=t+1;l<a.length&&!r;l++)i.value=[e,l],await m(c.value),a[l]<a[e]&&(e=l,_.value=[e]),i.value=[];e!==t&&(w.value=[t,e],s(`交換: a[${t}]=${a[t]} ↔ a[${e}]=${a[e]}`),[a[t],a[e]]=[a[e],a[t]],o.value=[...a],await m(c.value),w.value=[]),_.value=[],v.value=[...v.value,t]}v.value=[...v.value,a.length-1]}else if(p.value==="insertion"){v.value=[0];for(let t=1;t<a.length&&!r;t++){const e=a[t];_.value=[t],s(`挿入: a[${t}]=${e}`),await m(c.value);let l=t-1;for(;l>=0&&a[l]>e&&!r;)i.value=[l,l+1],a[l+1]=a[l],o.value=[...a],await m(c.value),i.value=[],l--;a[l+1]=e,o.value=[...a],_.value=[],v.value=Array.from({length:t+1},(d,g)=>g),await m(c.value)}}else if(p.value==="merge"){async function t(e,l,d){if(l>=d||r)return;const g=Math.floor((l+d)/2);await t(e,l,g),await t(e,g+1,d);const n=e.slice(l,g+1),f=e.slice(g+1,d+1);let y=0,$=0,C=l;for(;y<n.length&&$<f.length&&!r;)i.value=[l+y,g+1+$],await m(c.value),n[y]<=f[$]?e[C++]=n[y++]:(e[C++]=f[$++],s(`マージ: ${f[$-1]}`)),o.value=[...e],i.value=[];for(;y<n.length;)e[C++]=n[y++],o.value=[...e];for(;$<f.length;)e[C++]=f[$++],o.value=[...e];await m(c.value)}await t(a,0,a.length-1),v.value=Array.from({length:a.length},(e,l)=>l)}else if(p.value==="quick"){async function t(e,l,d){if(l>=d||r)return;const g=e[d];_.value=[d],s(`ピボット: ${g}`);let n=l;for(let f=l;f<d&&!r;f++)i.value=[f,d],await m(c.value),e[f]<g&&(w.value=[n,f],[e[n],e[f]]=[e[f],e[n]],o.value=[...e],await m(c.value),w.value=[],n++),i.value=[];[e[n],e[d]]=[e[d],e[n]],o.value=[...e],v.value=[...v.value,n],_.value=[],await m(c.value),await t(e,l,n-1),await t(e,n+1,d)}await t(a,0,a.length-1),v.value=Array.from({length:a.length},(e,l)=>l)}k.value=!1}E(()=>{r=!0});const L={bubble:"バブルソート",selection:"選択ソート",insertion:"挿入ソート",merge:"マージソート",quick:"クイックソート"};return(a,s)=>(x(),S("div",ae,[u("div",le,[I(u("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),class:"sv-select",disabled:k.value},[(x(),S(M,null,P(L,(t,e)=>u("option",{key:e,value:e},V(t),9,ne)),64))],8,se),[[G,p.value]]),u("label",ue,[s[2]||(s[2]=N(" 速度: ",-1)),I(u("input",{type:"range","onUpdate:modelValue":s[1]||(s[1]=t=>c.value=t),min:"50",max:"800",step:"50"},null,512),[[H,c.value,void 0,{number:!0}]])]),u("button",{class:"sv-btn",onClick:D,disabled:k.value},"開始",8,oe),u("button",{class:"sv-btn sv-btn-reset",onClick:B},"リセット")]),u("div",ie,[(x(!0),S(M,null,P(o.value,(t,e)=>(x(),S("div",{key:e,class:J(["sv-bar-col",{"is-comparing":i.value.includes(e),"is-swapping":w.value.includes(e),"is-highlighted":_.value.includes(e),"is-sorted":v.value.includes(e)}])},[u("div",{class:"sv-bar",style:K({height:`${t/U.value*200}px`})},[u("span",ve,V(t),1)],4)],2))),128))]),u("div",ce,[s[3]||(s[3]=N(" ステップ数: ",-1)),u("strong",null,V(T.value),1)])]))}}),de=te(re,[["__scopeId","data-v-aa311ee4"]]),fe={class:"slidev-layout layout-interactive"},_e={class:"interactive-container"},me={__name:"interactive",setup(j){return z(),(b,p)=>(x(),S("div",fe,[u("h2",null,[q(b.$slots,"title")]),u("div",_e,[q(b.$slots,"default")])]))}},be={__name:"slides.md__slidev_15",setup(j){const{$clicksContext:b,$frontmatter:p}=z();return b.setup(),(o,_)=>{const i=de;return x(),Q(me,Y(Z(F(ee)(F(p),14))),{default:W(()=>[_[0]||(_[0]=u("h2",null,"ソートアルゴリズムを比較しよう",-1)),X(i)]),_:1},16)}}};export{be as default};
