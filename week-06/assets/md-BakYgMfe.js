import{f as L,G as R,o as k,e as C,g as f,af as A,aN as E,F as B,aj as I,t as V,ad as N,ag as G,n as H,k as J,r as g,z as K,b as O,w as Q,d as W,v as X,x as Y,T as P}from"./modules/vue-CmL-H8BW.js";import{u as M,f as Z}from"./slidev/context-D8_vnREc.js";import{_ as ee}from"./index-Bw2gjDD0.js";import{_ as ae}from"./interactive-5se1TxmS.js";import"./modules/shiki-DELDah8J.js";const te={class:"sort-visualizer"},le={class:"sv-controls"},se=["disabled"],ue=["value"],ne={class:"sv-speed"},oe=["disabled"],ie={class:"sv-bars"},ve={class:"sv-bar-label"},ce={class:"sv-info"},re=L({__name:"SortVisualizer",setup(q){M();const y=[38,27,43,3,9,82,10,15,56,21],h=g("bubble"),n=g([...y]),m=g([]),o=g([]),i=g([]),w=g([]),z=g([]),x=g(!1),v=g(300),T=g(0);let c=!1;function p(t){return new Promise(s=>{let a=null;const e=setInterval(()=>{c&&(a&&clearTimeout(a),clearInterval(e),s())},50);a=setTimeout(()=>{clearInterval(e),s()},t)})}const F=K(()=>Math.max(...n.value,1));function j(){c=!0,setTimeout(()=>{c=!1,n.value=[...y],m.value=[],o.value=[],i.value=[],w.value=[],z.value=[],T.value=0,x.value=!1},100)}async function U(){j(),await new Promise(a=>setTimeout(a,200)),x.value=!0;const t=n.value,s=a=>{z.value.push(a),T.value++};if(h.value==="bubble")for(let a=t.length-1;a>=0&&!c;a--){for(let e=0;e<a&&!c;e++)o.value=[e,e+1],await p(v.value),t[e]>t[e+1]&&(w.value=[e,e+1],s(`交換: a[${e}]=${t[e]} ↔ a[${e+1}]=${t[e+1]}`),[t[e],t[e+1]]=[t[e+1],t[e]],n.value=[...t],await p(v.value),w.value=[]),o.value=[];i.value=[...i.value,a]}else if(h.value==="selection"){for(let a=0;a<t.length-1&&!c;a++){let e=a;m.value=[a];for(let l=a+1;l<t.length&&!c;l++)o.value=[e,l],await p(v.value),t[l]<t[e]&&(e=l,m.value=[e]),o.value=[];e!==a&&(w.value=[a,e],s(`交換: a[${a}]=${t[a]} ↔ a[${e}]=${t[e]}`),[t[a],t[e]]=[t[e],t[a]],n.value=[...t],await p(v.value),w.value=[]),m.value=[],i.value=[...i.value,a]}i.value=[...i.value,t.length-1]}else if(h.value==="insertion"){i.value=[0];for(let a=1;a<t.length&&!c;a++){const e=t[a];m.value=[a],s(`挿入: a[${a}]=${e}`),await p(v.value);let l=a-1;for(;l>=0&&t[l]>e&&!c;)o.value=[l,l+1],t[l+1]=t[l],n.value=[...t],await p(v.value),o.value=[],l--;t[l+1]=e,n.value=[...t],m.value=[],i.value=Array.from({length:a+1},(r,_)=>_),await p(v.value)}}else if(h.value==="merge"){async function a(e,l,r){if(l>=r||c)return;const _=Math.floor((l+r)/2);await a(e,l,_),await a(e,_+1,r);const u=e.slice(l,_+1),d=e.slice(_+1,r+1);let $=0,b=0,S=l;for(;$<u.length&&b<d.length&&!c;)o.value=[l+$,_+1+b],await p(v.value),u[$]<=d[b]?e[S++]=u[$++]:(e[S++]=d[b++],s(`マージ: ${d[b-1]}`)),n.value=[...e],o.value=[];for(;$<u.length;)e[S++]=u[$++],n.value=[...e];for(;b<d.length;)e[S++]=d[b++],n.value=[...e];await p(v.value)}await a(t,0,t.length-1),i.value=Array.from({length:t.length},(e,l)=>l)}else if(h.value==="quick"){async function a(e,l,r){if(l>=r||c)return;const _=e[r];m.value=[r],s(`ピボット: ${_}`);let u=l;for(let d=l;d<r&&!c;d++)o.value=[d,r],await p(v.value),e[d]<_&&(w.value=[u,d],[e[u],e[d]]=[e[d],e[u]],n.value=[...e],await p(v.value),w.value=[],u++),o.value=[];[e[u],e[r]]=[e[r],e[u]],n.value=[...e],i.value=[...i.value,u],m.value=[],await p(v.value),await a(e,l,u-1),await a(e,u+1,r)}await a(t,0,t.length-1),i.value=Array.from({length:t.length},(e,l)=>l)}x.value=!1}R(()=>{c=!0});const D={bubble:"バブルソート",selection:"選択ソート",insertion:"挿入ソート",merge:"マージソート",quick:"クイックソート"};return(t,s)=>(k(),C("div",te,[f("div",le,[A(f("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>h.value=a),class:"sv-select",disabled:x.value},[(k(),C(B,null,I(D,(a,e)=>f("option",{key:e,value:e},V(a),9,ue)),64))],8,se),[[E,h.value]]),f("label",ne,[s[2]||(s[2]=N(" 速度: ",-1)),A(f("input",{type:"range","onUpdate:modelValue":s[1]||(s[1]=a=>v.value=a),min:"50",max:"800",step:"50"},null,512),[[G,v.value,void 0,{number:!0}]])]),f("button",{class:"sv-btn",onClick:U,disabled:x.value},"開始",8,oe),f("button",{class:"sv-btn sv-btn-reset",onClick:j},"リセット")]),f("div",ie,[(k(!0),C(B,null,I(n.value,(a,e)=>(k(),C("div",{key:e,class:H(["sv-bar-col",{"is-comparing":o.value.includes(e),"is-swapping":w.value.includes(e),"is-highlighted":m.value.includes(e),"is-sorted":i.value.includes(e)}])},[f("div",{class:"sv-bar",style:J({height:`${a/F.value*200}px`})},[f("span",ve,V(a),1)],4)],2))),128))]),f("div",ce,[s[3]||(s[3]=N(" ステップ数: ",-1)),f("strong",null,V(T.value),1)])]))}}),de=ee(re,[["__scopeId","data-v-2f377a8f"]]),he={__name:"slides.md__slidev_35",setup(q){const{$clicksContext:y,$frontmatter:h}=M();return y.setup(),(n,m)=>{const o=de;return k(),O(ae,X(Y(P(Z)(P(h),34))),{default:Q(()=>[m[0]||(m[0]=f("h2",null,"ソートアルゴリズムを比較しよう",-1)),W(o)]),_:1},16)}}};export{he as default};
