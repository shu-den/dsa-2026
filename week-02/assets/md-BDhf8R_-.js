import{f as D,r as v,K as F,o as _,e as $,g as t,n as b,ad as w,af as I,ag as L,F as E,aj as H,t as m,j as K,z as h,b as R,w as U,d as q,v as G,x as J,T as V}from"./modules/vue-CCeyAUKo.js";import{u as z,f as O}from"./slidev/context-BWlKOzQ0.js";import{_ as Q}from"./index-CILxKCmt.js";import{_ as W}from"./interactive-73x67KxX.js";import"./modules/shiki-0ujfn9a0.js";const X={class:"search-visualizer"},Y={class:"sv-controls"},Z={class:"sv-mode-tabs"},ee={class:"sv-target"},se=["disabled"],ae={class:"sv-array"},te={class:"sv-val"},le={class:"sv-idx"},ne={class:"sv-log"},ue={class:"sv-step-count"},oe=D({__name:"SearchVisualizer",props:{initialArray:{default:()=>[2,5,8,12,16,23,38,42,56,72,91]},target:{default:23}},setup(C){z();const g=C,o=v([...g.initialArray]),l=v(g.target),n=v("linear"),r=v(-1),d=v(!1),c=v(!1),p=v(-1),k=v(0),x=v(0),y=v(0),A=h(()=>{const s=[];for(let e=0;e<o.value.length;e++){if(o.value[e]===l.value)return s.push({type:"found",index:e,message:`index ${e}: ${o.value[e]} = ${l.value}（発見!）`}),s;s.push({type:"check",index:e,message:`index ${e}: ${o.value[e]} ≠ ${l.value}`})}return s.push({type:"not-found",message:`${l.value} は見つかりませんでした`}),s}),B=h(()=>{const s=[],e=[...o.value].sort((a,P)=>a-P);let u=0,i=e.length-1;for(;u<=i;){const a=Math.floor((u+i)/2);if(e[a]===l.value)return s.push({type:"found",mid:a,low:u,high:i,message:`mid=${a}: ${e[a]} = ${l.value}（発見!）`}),s;e[a]<l.value?(s.push({type:"narrow",mid:a,low:u,high:i,message:`mid=${a}: ${e[a]} < ${l.value} → 右半分へ`}),u=a+1):(s.push({type:"narrow",mid:a,low:u,high:i,message:`mid=${a}: ${e[a]} > ${l.value} → 左半分へ`}),i=a-1)}return s.push({type:"not-found",message:`${l.value} は見つかりませんでした`}),s}),f=h(()=>n.value==="linear"?A.value:B.value),M=h(()=>[...o.value].sort((s,e)=>s-e)),N=h(()=>n.value==="linear"?o.value:M.value);function S(){r.value=-1,d.value=!1,c.value=!1,p.value=-1,k.value=0,x.value=o.value.length-1,y.value=-1}F([n,l],S);function T(){if(c.value)return;if(r.value++,r.value>=f.value.length){c.value=!0;return}const s=f.value[r.value];s.type==="found"&&(d.value=!0,c.value=!0),s.type==="not-found"&&(c.value=!0),n.value==="linear"?p.value=s.index??-1:(k.value=s.low??0,x.value=s.high??o.value.length-1,y.value=s.mid??-1)}function j(s){const e=["sv-cell"];return n.value==="linear"?s===p.value&&d.value?e.push("found"):s===p.value?e.push("checking"):s<p.value&&e.push("visited"):s===y.value&&d.value?e.push("found"):s===y.value?e.push("checking"):s<k.value||s>x.value?e.push("eliminated"):e.push("in-range"),e.join(" ")}return(s,e)=>(_(),$("div",X,[t("div",Y,[t("div",Z,[t("button",{class:b(["sv-tab",{active:n.value==="linear"}]),onClick:e[0]||(e[0]=u=>n.value="linear")}," 線形探索 ",2),t("button",{class:b(["sv-tab",{active:n.value==="binary"}]),onClick:e[1]||(e[1]=u=>n.value="binary")}," 二分探索 ",2)]),t("div",ee,[e[3]||(e[3]=w(" 探索値: ",-1)),I(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=u=>l.value=u),class:"sv-target-input"},null,512),[[L,l.value,void 0,{number:!0}]])]),t("button",{class:"sv-btn",onClick:T,disabled:c.value}," 次のステップ ",8,se),t("button",{class:"sv-btn sv-btn-reset",onClick:S},"リセット")]),t("div",ae,[(_(!0),$(E,null,H(N.value,(u,i)=>(_(),$("div",{key:i,class:b(j(i))},[t("div",te,m(u),1),t("div",le,m(i),1)],2))),128))]),t("div",ne,[t("div",ue,[e[4]||(e[4]=w(" ステップ数: ",-1)),t("strong",null,m(Math.max(0,r.value+1)),1),w(" / "+m(f.value.length),1)]),r.value>=0&&r.value<f.value.length?(_(),$("div",{key:0,class:b(["sv-message",{"is-found":d.value}])},m(f.value[r.value].message),3)):K("v-if",!0)])]))}}),re=Q(oe,[["__scopeId","data-v-a611aadb"]]),fe={__name:"slides.md__slidev_15",setup(C){const{$clicksContext:g,$frontmatter:o}=z();return g.setup(),(l,n)=>{const r=re;return _(),R(W,G(J(V(O)(V(o),14))),{default:U(()=>[n[0]||(n[0]=t("h2",null,"線形探索 vs 二分探索を体験",-1)),q(r)]),_:1},16)}}};export{fe as default};
