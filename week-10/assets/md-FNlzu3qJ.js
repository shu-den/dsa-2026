import{f as D,K as T,o as t,e as s,g as p,j as w,F as y,aj as b,t as g,n as x,r as f,i as j,b as A,w as N,d as z,v as F,x as R,T as S}from"./modules/vue-Dh0N9scA.js";import{u as $,f as E}from"./slidev/context-c8DacA_q.js";import{_ as I}from"./index-jHXuYGb_.js";import"./modules/shiki-NHDnwhQQ.js";const K={class:"dp-table-component"},q={class:"dp-table-wrapper"},G={class:"dp-table"},H={key:0},J={key:0,class:"dp-corner"},M={key:0,class:"dp-row-label"},O={key:0,class:"dp-value"},Q={key:1,class:"dp-empty-mark"},U={key:0,class:"dp-log"},W=D({__name:"DPTable",props:{mode:{default:"1d"},rows:{default:1},cols:{default:8},rowLabels:{default:()=>[]},colLabels:{default:()=>[]},initialValues:{default:()=>[]}},emits:["fill-cell"],setup(r,{expose:_,emit:v}){$();const u=r,n=f([]),m=f(0),L=f(-1),h=f(new Set),k=f(new Set),i=f([]);function C(){const a=u.mode==="2d"?u.rows:1,o=u.cols;n.value=Array.from({length:a},(l,e)=>Array.from({length:o},(d,c)=>u.initialValues[e]?.[c]!==void 0?u.initialValues[e][c]:null)),m.value=0,L.value=-1,h.value=new Set,k.value=new Set,i.value=[];for(let l=0;l<a;l++)for(let e=0;e<o;e++)n.value[l][e]!==null&&h.value.add(`${l},${e}`)}C(),T(()=>[u.mode,u.rows,u.cols],C);const V=v;function P(a,o,l,e){n.value[a][o]=l,n.value=[...n.value.map(c=>[...c])];const d=`${a},${o}`;h.value.add(d),k.value=new Set([d]),m.value=a,L.value=o,e&&i.value.push(e),V("fill-cell",a,o,l)}function B(a,o){const l=`${a},${o}`,e=["dp-cell"];return k.value.has(l)?e.push("highlighted"):h.value.has(l)?e.push("filled"):e.push("empty"),e.join(" ")}return _({cells:n,fillCell:P,init:C,stepLog:i}),(a,o)=>(t(),s("div",K,[p("div",q,[p("table",G,[r.colLabels.length?(t(),s("thead",H,[p("tr",null,[r.rowLabels.length?(t(),s("th",J)):w("v-if",!0),(t(!0),s(y,null,b(r.colLabels,(l,e)=>(t(),s("th",{key:e,class:"dp-col-label"},g(l),1))),128))])])):w("v-if",!0),p("tbody",null,[(t(!0),s(y,null,b(n.value,(l,e)=>(t(),s("tr",{key:e},[r.rowLabels.length?(t(),s("th",M,g(r.rowLabels[e]??e),1)):w("v-if",!0),(t(!0),s(y,null,b(l,(d,c)=>(t(),s("td",{key:c,class:x(B(e,c))},[d!==null?(t(),s("span",O,g(d),1)):(t(),s("span",Q,"-"))],2))),128))]))),128))])])]),i.value.length?(t(),s("div",U,[(t(!0),s(y,null,b(i.value.slice(-4),(l,e)=>(t(),s("div",{key:e,class:x(["dp-log-entry",{latest:e===i.value.slice(-4).length-1}])},g(l),3))),128))])):w("v-if",!0)]))}}),X=I(W,[["__scopeId","data-v-721b2f0f"]]),Y={class:"slidev-layout layout-interactive"},Z={__name:"interactive",setup(r){return $(),(_,v)=>(t(),s("div",Y,[j(_.$slots,"default")]))}},ne={__name:"slides.md__slidev_13",setup(r){const{$clicksContext:_,$frontmatter:v}=$();return _.setup(),(u,n)=>{const m=X;return t(),A(Z,F(R(S(E)(S(v),12))),{default:N(()=>[n[0]||(n[0]=p("h2",null,"2次元DPテーブルを段階的に埋めよう",-1)),z(m,{mode:"2d",rows:5,cols:6,rowLabels:["なし","A(w2,v3)","B(w1,v2)","C(w3,v6)","D(w2,v4)"],colLabels:["w=0","w=1","w=2","w=3","w=4","w=5"],initialValues:[[0,0,0,0,0,0],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null]]})]),_:1},16)}}};export{ne as default};
